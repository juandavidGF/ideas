import axios from 'axios';
import clientPromise from '../../../lib/mongodb';
import summarize from '../../../lib/summarize';

const API_KEY = process.env["WEB_SCRAPING_API_KEY"];
const HOSTNAME = 'https://api.webscrapingapi.com';

const extract_rules_hn = {
	"title": {
		"selector": ".titleline",
		"output": {
			"name": {
				"selector": "a",
				"output": "text"
			},
			"links": {
				"selector": "a",
				"output": "@href",
				"all": "1"
			}
		},
		"all": "1"
	}
}

const extract_rules_page = {
	"p": {
		"selector": "p",
		"output": "text",
	}
}

const dataScrapedMock = {
  "created_at": "2023-02-22T20:32:08.116Z",
  "data": [
    {
      "title": "Social media is a cause, not a correlate, of mental illness in teen girls",
      "link": "https://jonathanhaidt.substack.com/p/social-media-mental-illness-epidemic",
      "page": [
        "A big story last week was the partial release of the CDC’s bi-annual Youth Risk Behavior Survey, which showed that most teen girls (57%) now say that they experience persistent sadness or hopelessness (up from 36% in 2011), and 30% of teen girls now say that they have seriously considered suicide (up from 19% in 2011). Boys are doing badly too, but their rates of depression and anxiety are not as high, and their increases since 2011 are smaller. As I showed in my Feb. 16 Substack post, the big surprise in the CDC data is that COVID didn’t have much effect on the overall trends, which just kept marching on as they have since around 2012. Teens were already socially distanced by 2019, which might explain why COVID restrictions added little to their rates of mental illness, on average. (Of course, many individuals suffered greatly).",
        "Most of the news coverage last week noted that the trends pre-dated covid, and many of them mentioned social media as a potential cause. A few of them then did the standard thing that journalists have been doing for years, saying essentially “gosh, we just don’t know if it’s social media, because the evidence is all correlational and the correlations are really small.” For example, Derek Thompson, one of my favorite data-oriented journalists, wrote a widely read essay in The Atlantic on the multiplicity of possible causes. In a section titled Why is it so hard to prove that social media and smartphones are destroying teen mental health? he noted that “the academic literature on social media’s harms is complicated” and he then quoted one of the main academics studying the issue—Jeff Hancock, of Stanford University: “There’s been absolutely hundreds of [social-media and mental-health] studies, almost all showing pretty small effects.”",
        "In this post, I will show that Thompson’s skepticism was justified in 2019 but is not justified in 2023. A lot of new work has been published since 2019, and there has been a recent and surprising convergence among the leading opponents in the debate (including Hancock and me). There is now a great deal of evidence that social media is a substantial cause, not just a tiny correlate, of depression and anxiety, and therefore of behaviors related to depression and anxiety, including self-harm and suicide.",
        "First, I must offer two stage-setting comments:",
        "Social media is not the only cause; my larger story is about the rewiring of childhood that began in the 1990s and accelerated in the early 2010s.",
        "I’m a social psychologist who is always wary of one-factor explanations for complex social phenomena. In The Coddling of the American Mind, Greg Lukianoff and I showed that there were six interwoven threads that produced the explosion of unwisdom that hit American universities in 2015, one of which was the rise of anxiety and depression in Gen Z (those born in and after 1996); a second was the vast overprotection of children that began in the 1990s.",
        "In the book I’m now writing (Kids In Space) I show that these two threads are both essential for understanding why teen mental health collapsed in the 2010s. In brief, it’s the transition from a play-based childhood involving a lot of risky unsupervised play, which is essential for overcoming fear and fragility, to a phone-based childhood which blocks normal human development by taking time away from sleep, play, and in-person socializing, as well as causing addiction and drowning kids in social comparisons they can’t win. So this is not a one-factor story, and in future posts I’ll show my research on play. But today’s post is about what I believe to be the largest single factor and the only one that can explain why the epidemic started so suddenly, around 2012, in multiple countries.",
        "The empirical debate has focused on the size of the dose-response effect for individuals, yet much and perhaps most of the action is in the emergent network effects.",
        "Once you appreciate the extent to which childhood has been transformed by smartphones and social media, you can see why it’s a mistake to focus so narrowly on individual-level effects. Nearly all of the research––the “hundreds of studies” that Hancock referred to––have treated social media as if it were like sugar consumption. The basic question has been: how sick do individuals get as a function of how much sugar they consume? What does the curve look like when you graph illness on the Y axis as a function of daily dosage on the X axis? This is a common and proper approach in medical research, where effects are primarily studied at the individual level and our objective is to know the size of the “dose-response relationship.”  (Although even in medicine, there are important network effects.)",
        "But social media is very different because it transforms social life for everyone, even for those who don’t use social media, whereas sugar consumption just harms the consumer. To see why this difference matters, imagine that in 2011, just before the epidemic began, a 12-year-old girl was given an iPhone 4 (the first with a front-facing camera) and began to spend 5 hours a day taking and editing selfies, posting them on Instagram (which had launched the year before), and scrolling through hundreds of posts from others. This was at a time when none of her friends in 7th grade had a smartphone or any social media accounts. Suppose that Instagram does cause anxiety disorders in a dose-response way, but the size of the correlation with anxiety is smaller than the correlation of social isolation with anxiety. The girl spending 5 hours a day on Instagram finds her mental health declining, but her friends’ mental health is unchanged. We find a clear dose-response effect. If she were to quit Instagram, would her mental health improve? Yes.",
        "But now fast forward to 2015, when most girls are on Instagram and all teens are spending far less time with their friends in person (as I showed in my Feb 16 post). Most social activity is now asynchronous—channeled through posts, comments, and emojis on Instagram, Snapchat, and a few other platforms. Childhood has been rewired—it has become phone-based—and rates of anxiety and depression are soaring (as I showed in my Feb 8 post). Suppose that in 2015, a 12-year-old girl decided to quit all social media platforms. Would her mental health improve? Not necessarily.",
        "If all of her friends continued to spend 5 hours a day on the various platforms then she’d find it difficult to stay in touch with them. She’d be out of the loop and socially isolated. If the isolation effect is larger than the dose-response effect, then her mental health might even get worse. When we look across thousands of girls, we might find no strong or clear correlation between time on social media and level of mental disorder. We might even find that the non-users are more depressed and anxious than the moderate users (which some studies do find, known as the Goldilocks effect).",
        "What we see in this second case is that social media creates a cohort effect: something that happened to a whole cohort of young people, including those who don’t use social media. It also creates a trap—a collective action problem—for girls and for parents. Each girl might be worse off quitting Instagram even though all girls would be better off if everyone quit.",
        "An implication of this analysis is that the correlations we are about to look at probably underestimate the true effect of social media as a cause of the teen mental illness epidemic. But OK, let’s take a look.",
        "In The Coddling of the American Mind, Greg Lukianoff and I tried to explain what happened to Gen Z. We focused on overprotection (“coddling”), but in our chapter on anxiety, we included six pages discussing the possible role of social media, drawing heavily on Jean Twenge’s work in her book iGen. The evidence back in 2017, when we were writing, was mixed, so we were appropriately careful, ending the section with this:",
        "We don’t want to create a moral panic and frighten parents into banning all devices until their kids turn twenty-one. These are complicated issues, and much more research is needed.",
        "Our book came out in September 2018. Four months later, two researchers at Oxford University—Amy Orben and Andrew Przybylski—published a study that was widely hailed as the most authoritative study on the matter. It was titled The association between adolescent well-being and digital technology use. The study used an advanced statistical technique called “Specification Curve Analysis” on three very large data sets in which teens in the US and UK reported their “digital media use” and answered questions related to mental health. Orben and Przybylski reported that the average regression coefficient (using social media use to predict positive mental health) was negative but tiny, indicating a level of harmfulness so close to zero that it was roughly the same size as they found (in the same datasets) for the association of mental health with “eating potatoes” or “wearing eyeglasses.” The relationships were equivalent to correlation coefficients less than r = .05 (where r = 1.0 indicates a perfect correlation and r = 0 indicates absolutely no relationship). The authors concluded that “these effects are too small to warrant policy change.”",
        "It is impossible to overstate the influence of Orben & Przybylski (2019) on journalists and researchers. The comparison to potatoes was vivid and memorable. Here’s one writeup of the study:",
        "Whenever you hear a journalist or researcher say that social media has been found to have little or no relationship with mental illness, you’re likely to find a link to that study. When I first read the study, I began to have doubts myself. After all, it was the largest and most impressive study ever done on the question, and it was published by researchers who had been studying social media far longer than I had. Might Greg and I have gotten it wrong? Might we have been contributing to yet one more unjustified moral panic over technology?",
        "Many other studies came out in 2019, yielding conclusions on both sides of the question. It was a confusing time. So I decided to compile in one Google doc all the relevant studies I could find. I invited Jean Twenge to join me on the project since she was far more knowledgeable about the various datasets. We posted the Google doc online in February 2019 and invited comments from critics and the broader research community. Each section ends with a request to tell us what we have missed. One of the first comments we got was that some researchers doubted that the mental illness epidemic was real. That led us to create a second Google doc titled: Adolescent mood disorders since 2010: A collaborative review. (I described it in my Feb. 8 Substack post.)",
        "We immediately found that there was a simple and obvious structure for the social media literature review: nearly all of the published studies fell into one of three categories: correlational, longitudinal, or experimental. We, therefore, structured the document around the three questions addressed by studies of those types. You can see the three questions in the Table of Contents. I’ve reproduced the first part of it in Figure 1. Please check out the doc itself, and especially our list of “cautions and caveats.”",
        "Figure 1. The first part of the Table of Contents of the Social Media and Mental Health Collaborative Review.",
        "In the next four sections of this post, I’ll briefly summarize what we’ve found about causality from those three kinds of studies (with the experiments section divided into two subtypes).",
        "The typical study here asked hundreds or thousands of adolescents to report how much time they spend on social media, or digital media more generally, and then report something about their mental health. Of course, correlational studies can’t prove causation, but they are a first step; they tell us what goes with what, and then we can figure out which way the causal arrows go later.",
        "The great majority of studies find a positive correlation between time on social media and mental health problems, especially mood disorders (depression and anxiety). At present, there are 55 studies listed in our review that found a significant correlation, and 11 that found no relationship, or nearly no relationship. The “winning side” is not determined by a simple count, as we explain in the “cautions and caveats” section. But the correlations are widely found and they are not randomly distributed. In fact, there is a revealing pattern found across many studies and literature reviews: Those that look at all screen-based activities (including television) for all kids (including boys) generally find only small correlations (usually less than r = .10), but as you zoom in on social media for girls the correlations rise, sometimes to r = .20, which is quite substantial, as I’ll show in a moment.",
        "The general finding in these correlational studies is a dose-response relationship such as the one in Figure 2, from Kelly, Zilanawala, Booker, & Sacker (2019) [Study 1.1.5 in the Review doc] who analyzed data from the large Millennium Cohort Study in the UK, which followed roughly 19,000 British children born around the year 2000 as they matured through adolescence.",
        "Figure 2. Percent of UK adolescents with “clinically relevant depressive symptoms” by hours per weekday of social media use, including controls. Haidt and Twenge created this graph from the data given in Table 2 of Kelly, Zilanawala, Booker, & Sacker (2019), page 6.",
        "Note three features of figure 2 that are common across many studies:",
        "The rates of mood disorders are higher for girls than boys.",
        "The lines are curved: moderate users are often no worse off than non-users, but as we move into heavy use, the lines rise more quickly.",
        "The dose-response effect is larger for girls. For boys, moving from 2 to 5 hours of daily use is associated with a doubling of depression rates. For girls, it’s associated with a tripling.",
        "How can this large effect of social media use on girls be reconciled with the Orben and Przybylski study, which also examined the same UK dataset?",
        "Twenge and I argued in a published response paper in the same journal that Orben and Przybylski made 6 analytical choices, each one defensible, that collectively ended up reducing the statistical relationship and obscuring a more substantial association. The first issue to note is that the “potatoes” comparison was what they reported for all “digital media use,” not for social media use specifically. Digital media includes all screen-based activities, including watching TV or Netflix videos, which routinely turns out (in correlational studies) to be less harmful than social media. In their own published report, when you zoom in on “social media,” the relationship is between 2 and 6 times larger than for “digital media.” Also crucial is that Orben and Przybylski combined all teens (boys and girls), while many studies have found that the correlations with mood disorders are larger for girls. So even if the association is weak for all kids using all screens, the association is much larger if you zoom in on girls using social media. (You can read Orben and Przybylski’s response to our response here.)",
        "Twenge and I later re-ran Orben and Przybylski’s SCA on the same datasets (teaming up with researchers Kevin Cummins and Jimmy Lozano.) When we used Orben and Przybylski's assumptions, we replicated their results exactly, obtaining associations that were equivalent to correlation coefficients less than r = .05. But when we limited the analysis to social media for girls, we found relationships that were many times larger, equivalent to correlation coefficients of roughly r = .20.",
        "",
        "Despite several years of heated debate, a consensus has emerged about just how large the correlation is between social media use and mood disorders. Amy Orben herself conducted a “narrative review” of many other reviews of the academic literature (Orben, 2020; study 5.7 in our review doc). Her conclusion is that “The associations between social media use and well-being therefore range from about r = − 0.15 to r = − 0.10.”",
        "",
        "Both studies (Orben’s and Hancock’s) merged boys and girls together, and there is a consensus that the relationships are tighter for girls; see Kelly, Zilanawala, Booker, & Sacker (2019), Nesi & Prinstein (2015), and Twenge (2020). So we’re reaching a consensus that for girls the true value is north of r = .15, which is consistent with the values around .20 that Twenge, Lozano, Cummins and I found in our SCA paper. This range of values, from r = .15 to r = .20, is quite large when we’re talking about health effects found in large datasets, as I explain in this geeky footnote.",
        "",
        "In fact, in our SCA paper, we compared the association of social media time with mental illness to other variables found in the same datasets. In that same UK dataset, mood disorders were more closely associated with social media usage than with marijuana use and binge drinking, though less closely associated with sleep deprivation. I’m not saying that a day of social media use is worse for girls than a day of binge drinking. I’m just saying that if we’re going to play the game of looking through lists of correlations, the proper comparison is not potatoes and eyeglasses, it is marijuana use and binge drinking.",
        "To conclude this section: Few parents would knowingly let their daughters become heavy users of anything that was correlated r = .20 with mental illness (again, see Figure 2). The effects might be even larger for younger teen girls, who are just beginning puberty, according to a recent study by Orben, Przybylski, Blakemore, & Kievit (2022). Granted, these correlations don’t prove causation, but the frequent finding that the correlations are consistently higher for social media, and higher for girls, tells us that we’re not just looking at random noise here. There is a consistent story emerging from these hundreds of correlational studies.",
        "What would it take to show that social media use was causing teen girls to become depressed and anxious? Social scientists generally move on from correlational studies to longitudinal studies and true experiments.",
        "Share After Babel",
        "The second group of studies is known as longitudinal studies, in which hundreds or thousands of people are tracked over some time period and measured repeatedly. Typically, participants fill out the same survey once per year, allowing researchers to measure change over time in the same research participants. But these studies have an interesting property that allows researchers to infer causality; you can look to see if an increase or decrease in some behavior at one point in time predicts a change in other variables at the next measurement time. For example, let’s say a teen reports that she spends two hours a day on social media, on average, across a 10-week study. If in week 3 she suddenly reduces her time to zero, what do we expect to happen to her mood in week four? Will she be happier or sadder? If there is, on average, a change in happiness the week after people quit or reduce their social media time, then we can infer that the change in mood was caused by the change in behavior the prior week.",
        "So what do we find in these studies? As I write this post in Feb. 2023, we have 40 longitudinal studies in section 2 of the Collaborative Review doc. Twenty-five of them (62.5%) found evidence indicating causation, and 15 of them largely failed to find such evidence. Once again, you can’t just count up the studies and let the majority side win; studies that fail to find an effect are sometimes harder to publish. But our collaborative review docs make it easy to acquaint yourself with the range of studies and see what differentiates the studies that found evidence of harmful effects from those that did not. As we read through the studies in sections 2.1 and 2.2, we noticed something: the studies that used a short time interval (a week or less between measurements) mostly failed to find an effect, which makes sense if social media is addictive, as much evidence suggests. Going cold turkey doesn’t make you happy, it makes you anxious and dysphoric for a few weeks, so we should not expect to find benefits to mental health in the short-interval studies.",
        "Zach Rausch (the lead researcher for this Substack) created a 2x2 table to categorize all the studies in section 2 as either a short interval (a week or less) or long interval (a month or more), and as finding an effect versus no effect. He found that 7 studies used a week or less (5 of them were daily), and only 1 of the 7 found an effect. But 33 studies used a month or more (20 were annual) and of these, 24 found a significant effect. So a simple dose-response model in which social media is like poison (where cutting consumption on Monday makes you feel better on Tuesday) does not seem to be supported. But 73% of the studies that looked for causal effects a month or more in the future found them.",
        "Leave a comment",
        "Now we come to the gold standard in the social sciences for testing causality: the experiment. Initially, we included all experiments in this section, but in the last year, several “quasi-experiments” that took advantage of natural variation have been published. I’ll cover those in the next section. In this one, we’ll just look at true experiments, in which participants were randomly assigned to either a treatment condition or a control condition, and then some dependent variable related to mental health was measured. Most experiments are done on college students or young adults—it’s hard to get parental consent to do experiments on minors—so we did not limit this section to studies on adolescents. There are few experiments out there (compared to correlational and longitudinal studies), so we included some that used adults if it was clear that many or most were relatively young.",
        "In Feb. 2023 we have 18 true experiments in Section 3, of which 12 (67%) found evidence of a causal effect (Section 3.1) and 6 failed to find evidence of a causal effect (section 3.2). Some of the studies randomly assigned college students or young adults to reduce their social media use for a while and then measured self-reported mental health outcomes, compared to the control group which was instructed to make no changes. For example, Hunt, Marx, Lipson & Young (2018) randomly assigned college students to greatly reduce the use of social media platforms (or not reduce) and then measured their depressive symptoms four weeks later. They found that “The limited use group showed significant reductions in loneliness and depression over three weeks compared to the control group.”",
        "Some of the studies exposed girls and young women to time on Instagram, or to experiences designed to mimic Instagram, and then looked at the psychological aftereffects. For example, Kleemans, Daalmans, Carbaat, & Anschütz (2018) randomly assigned teen girls to be exposed either to original selfies taken from Instagram or to selfies that were manipulated to be extra attractive. “Results showed that exposure to manipulated Instagram photos directly led to lower body image.” Engeln, Loach, Imundo, & Zola (2020) randomly assigned female college students to use Facebook, use Instagram, or perform an emotionally neutral task (the control condition) on an iPad. The finding: “Those who used Instagram, but not Facebook, showed decreased body satisfaction, decreased positive affect, and increased negative affect.”",
        "Turning to the six experiments that failed to find significant effects, it is noteworthy that four of these six experiments involved asking participants to reduce or eliminate social media for one week or less. As we saw in the examination of longitudinal studies, going “cold turkey” brings immediate discomfort to addicts; the benefits only kick in after a few weeks when the brain has adapted to the loss of chronic stimulation. So if we remove all of the studies that used a week or less (including two studies in section 3.1 that found an effect), the final tally becomes ten that found evidence that social media is harmful (80%) and two that did not.",
        "In sum, there are now many true experiments using a variety of methods to test questions such as whether reducing or eliminating exposure to social media confers benefits (it does, when continued for at least a month), or if exposing girls and women to Instagram or Instagram-like experiences damages their mood or body image (it does). These experiments provide direct evidence that social media—particularly Instagram—is a cause, not just a correlate, of bad mental health, especially in teen girls and young women.",
        "Leave a comment",
        "The previous three questions all asked about individual-level effects: what happens to individuals who are exposed to more or less social media? But this fourth category of studies is different––and very important––for this reason: it is the only one that allows us to look at emergent network effects. These studies look at how whole communities changed when social media suddenly became much more available in that community. These studies are sometimes called “quasi-experiments” because the researchers take advantage of natural variation in the world as though it was random assignment.",
        "For example, Braghieri, Levy, & Makarin (2022) took advantage of the fact that Facebook was originally offered only to students at a small number of colleges. As the company expanded to new colleges, did mental health change in the following year or two at those institutions, compared to colleges where students did not yet have access to Facebook? Yes, it got worse. The authors say:",
        "We find that the roll-out of Facebook at a college increased symptoms of poor mental health, especially depression, and led to increased utilization of mental healthcare services. We also find that, according to the students' reports, the decline in mental health translated into worse academic performance. Additional evidence on mechanisms suggests the results are due to Facebook fostering unfavorable social comparisons.",
        "We also found five studies that used a similar design applied to the rollout of high-speed internet. It’s hard to have a phone-based childhood when data speeds are very low. So what happened in Spain as fiber optic cables were laid and high-speed internet came to different regions at different times? Same thing, except with clearer evidence of a gendered effect. Arenas-Arroyo, Fernandez-Kranz, & Nollenberger (2022; study 3.3.2) analyzed “the effect of access to high-speed Internet (HSI) on hospital discharge diagnoses of behavioral and mental health cases among adolescents.” Their conclusion:",
        "We find a positive and significant impact on girls but not on boys. Exploring the mechanism behind these effects, we show that HSI increases addictive Internet use and significantly decreases time spent sleeping, doing homework, and socializing with family and friends. Girls again power all these effects.",
        "They found that the arrival of high-speed internet had a particularly damaging effect on the quality of father-daughter relationships.",
        "Guo (working paper, 3.3.1) did a similar study in British Columbia, Canada, where it took a long time for high-speed internet to reach rural areas. She found similar gendered effects:",
        "Estimates suggest high-speed wireless internet significantly increased teen girls' mental health diagnoses — by 90% — relative to teen boys over the period when visual social media became dominant among teenagers. I find similar effects across all subgroups, indicating they are not driven by differences in confounding characteristics.",
        "Guo’s study also verified that the arrival of high-speed wireless in each town was accompanied by an increase in interest in social media.",
        "In sum, we found six quasi-experiments that looked at real-world outcomes in real-world settings when the arrival of Facebook or high-speed internet created large and sudden emergent network effects. All six found that when social life moves rapidly online, mental health declines, especially for girls. Not one study failed to find a harmful effect.",
        "We are now 11 years into the largest epidemic of teen mental illness on record. As the CDC’s recent report showed, most girls are suffering, and nearly a third have seriously considered suicide. Why is this happening, and why did it start so suddenly around 2012?",
        "",
        "It’s not because of the Global Financial Crisis. Why would that hit younger teen girls hardest? Why would teen mental illness rise throughout the 2010s as the American economy got better and better? Why did a measure of loneliness at school go up around the world only after 2012, as the global economy got better and better? (See Twenge et al. 2021). And why would the epidemic hit Canadian girls just as hard when Canada didn’t have much of a crisis?",
        "It’s not because of the 9/11 attacks, wars in the middle east, or school shootings. As Emile Durkheim showed long ago, people in Western societies don’t kill themselves because of wars or collective threats; they kill themselves when they feel isolated and alone. Also, why would American tragedies cause the epidemic to start at the same time among Canadian and British girls?",
        "There is one giant, obvious, international, and gendered cause: Social media. Instagram was founded in 2010. The iPhone 4 was released then too--the first smartphone with a front-facing camera. In 2012 Facebook bought Instagram, and that’s the year that its user base exploded. By 2015, it was becoming normal for 12-year-old girls to spend hours each day taking selfies, editing selfies, and posting them for friends, enemies, and strangers to comment on, while also spending hours each day scrolling through photos of other girls and fabulously wealthy female celebrities with (seemingly) vastly superior bodies and lives. The hours girls spent each day on Instagram were taken from sleep, exercise, and time with friends and family. What did we think would happen to them?",
        "The Collaborative Review doc that Jean Twenge, Zach Rausch and I have put together collects more than a hundred correlational, longitudinal, and experimental studies, on both sides of the question. Taken as a whole, it shows strong and clear evidence of causation, not just correlation. There are surely other contributing causes, but the Collaborative Review doc points strongly to this conclusion: Social Media is a Major Cause of the Mental Illness Epidemic in Teen Girls.",
        "",
        "",
        "Footnotes:",
        "There was one other difference that turned out to make a large difference in our results. Orben and Przybylski had not only controlled for demographic variables (such as race and parents’ educational levels, which is universally done); they also controlled for some psychological variables that are potential mediators of a relationship between social media usage and poor mental health, such as negative attitudes about school and closeness with parents. We found that controlling for these psychological variables heavily suppressed the relationship between social media use and poor mental health.",
        "The correlations are negative because she framed this as “well-being”; they are positive if we talk about mental illness.",
        "Many researchers learned in graduate school that a correlation coefficient of r = .5 and above is a “large” correlation, r = .3 and above is a “medium” sized correlation, and r = .10 and above is a “small” correlation, with r < .10 being trivial, not even “small.” But recently, psychologists have noted that these cutoffs make no sense; what counts as large or small varies by domain. The key paper here is Gotz, Gosling, and Rentfrow (2020). Small Effects: The Indispensable Foundation for a Cumulative Psychological Science. The authors note that in the domains of public health and education, many of the things that warrant public expenditure are correlated with outcomes in the ballpark of r = .05 to r = .15. For example, Gotz et al. note that the correlation of calcium intake and bone mass in pre-menopausal women is r = .08, which is enough to recommend that women take calcium supplements. The correlation between childhood lead exposure and adult IQ is r = .11, which is enough to justify a national campaign to remove lead from water supplies.  These correlations are smaller than the links between mood disorders and social media use for girls. Gotz et al. note that such putatively “small” effects can have a very large impact on public health when we are examining  “effects that accumulate over time and at scale”, such as millions of teens spending 20 hours per week, every week for many years, trying to perfect their Instagram profiles while scrolling through the even-more-perfect profiles of other teens.",
        "Some commenters on my Feb. 8 post saw signs in the graphs that the epidemic started earlier, perhaps in 2008 or 2010. I addressed this as critique #4 in my Feb. 16 post.",
        "Bravo! Thank you for your persistence on this topic.",
        "I understand that it’s the nature of academia (and possibly also the nature of denial?), and that it is better to have more and more evidence, but part of me also rolls my eyes at your opponents in this debate. We’re not talking about marginal benefits of one formula brand vs another, we’re talking a Gutenberg level revolution in how we think and relate to the world and each other - and yet still some people play dumb and think it can’t possibly be a big deal. Thank you for having the patience to continue engaging the holdouts!",
        "The writer Freddie deBoer has examined the trend of \"mental health chic\" in social media extensively.  where influencers adopt a mental illness as a centrally defining characteristic and use that as the basis for attracting followers.  His fear was that it not only romanticized mental illness but set up echo chambers that were ripe for the spread of social contagion.  I have to wonder if there is a correlation between adverse mental health outcomes in girls versus the type of social media they are consuming.",
        "No posts",
        "Ready for more?"
      ]
    },
    {
      "title": "Show HN: AskHN",
      "link": "https://www.patterns.app/blog/2023/02/19/ask-hn-gpt-embeddings-question-answering/",
      "page": [
        "We just launched on product hunt. Give us an upvote!",
        "(fyi, here’s the code for everything I built below, you can clone and deploy the full app here as well.)",
        "“AskHN” is a GPT-3 bot I trained on a corpus of over 6.5 million Hacker News comments to represent the collective wisdom of the HN community in a single bot. You can query it here in our discord using the /askhn command if you want to play around (I’ve rate-limited the bot for now to keep my OpenAI bill from bankrupting me, so you might have to wait around for your spot).",
        "More details on how I built it below, but I found the LLM-embedded embodiment of HN’s wisdom to be an impressive and genuinely useful resource. Thousands of the sharpest minds in technology have volunteered up their expertise, wisdom, and occasional flame over the years. There are very few topics Ask HN Bot does not have a solid answer to, even the question of finding love!",
        "It does well with job advice:",
        "",
        "...classic flame wars:",
        "",
        "...the important questions:",
        "",
        "...and unanswerable questions:",
        "",
        "The GPT-3 prompted summaries are pretty good! And the linked articles are all very relevant -- the 1500 dimensions of the OpenAI GPT embeddings are enough to slice the semantic space for this use case.",
        "It's main failure mode is summarizing contradictory / irrelevant comments into one response, which can lead to incoherence.",
        "I built it in Patterns Studio over the course of a few days. Here was my rough plan at the start:",
        "This plan went ok, but results tended to be a bit to generic — I didn’t have enough of the specific relevant comment content in the prompt to give technical and specific answers. Embedding every single one of the 6.5 eligible comments was prohibitively time-consuming and expensive (12 hours and ~$2,000). So I ended up with this extension for step 6:",
        "Let's dive into details for each of the steps above.",
        "Using the firebase API, downloaded the entire ~35m item database of HN comments and stories in parallel. This took about 30 minutes and left us with 4.8m stories and 30m comments. I filtered the stories to just those with more than 20 upvotes and at least 3 comments, this left me with 400k stories over the entire 17 year history of HN. I then further filtered to stories from the last 5 years, leaving us with a final number of 160k stories. For eligible comments, I filtered to those on an eligible story with at least 200 characters, for ~6.5 million comments total.",
        "To index these stories, I loaded up to 2000 tokens worth of comment text (ordered by score, max 2000 characters per comment) and the title of the article for each story and sent them to OpenAI's embedding endpoint, using the standard text-embedding-ada-002 model, this endpoint accepts bulk uploads and is fast but all 160k+ documents still took over two hours to create embeddings. Total cost for this part was around $70.",
        "The embeddings were then indexed with Pinecone.",
        "For a user interface, I decided to implement AskHN as a Discord bot. Given that I needed to rate limit responses, having a Discord bot (over a dedicated web app, for instance) would allow for a more fun and collaborative experience of folks sharing questions and answers, even if any given individual did not get a chance to ask a question.",
        "With the embeddings indexed, and our bot live, responding to a given question involved the following steps:",
        "There are often dozens or even hundreds of relevant comments that we get the embeddings for, luckily embeddings are cheap and fast, so the cost of this is much less than even the single call to GPT-3 for the completion.",
        "With the top comments text in hand we build the final prompt for GPT-3 as:",
        "I played around with a number of prompts, but the main thing is to get GPT-3 to break out of its \"Generic Helpful Internet Article\" voice and take a more opinionated stance when warranted. So I told it to do that, and it did :)",
        "The methodology I used here is a generic, scalable solution for distilling a knowledge corpus into an embodied intelligence. Would I use a bot like this over hn.algolia.com? Maybe, maybe not. Would I appreciate this service added onto Algolia results page? Absolutely 100%.",
        "Just shoot me an email Algolia, kvh@patterns.app, happy to help!",
        "This same architecture and flow would work well for almost any text corpus and question-answering bot. If you have such a use case, please feel free to reach out to me kvh@patterns.app anytime to discuss my learnings or apply for our CoDev program at Patterns. You can get started by cloning the template for this bot."
      ]
    },
    {
      "title": "The dystopian underworld of South Africa’s illegal gold mines",
      "link": "https://www.newyorker.com/magazine/2023/02/27/the-dystopian-underworld-of-south-africas-illegal-gold-mines",
      "page": [
        "To revisit this article, select My Account, then View saved stories",
        "To revisit this article, visit My Profile, then View saved stories",
        "By Kimon de Greef",
        "A few years ago, a mining company was considering reopening an old mine shaft in Welkom, a city in South Africa’s interior. Welkom was once the center of the world’s richest goldfields. There were close to fifty shafts in an area roughly the size of Brooklyn, but most of these mines had been shut down in the past three decades. Large deposits of gold remained, though the ore was of poor grade and situated at great depths, making it prohibitively expensive to mine on an industrial scale. The shafts in Welkom were among the deepest that had ever been sunk, plunging vertically for a mile or more and opening, at different levels, onto cavernous horizontal passages that narrowed toward the gold reefs: a labyrinthine network of tunnels far beneath the city.",
        "Most of the surface infrastructure for this particular mine had been dismantled several years prior, but there was still a hole in the ground—a concrete cylinder roughly seven thousand feet deep. To assess the mine’s condition, a team of specialists lowered a camera down the shaft with a winding machine designed for rescue missions. The footage shows a darkened tunnel, some thirty feet in diameter, with an internal frame of large steel girders. The camera descends at five feet per second. At around eight hundred feet, moving figures appear in the distance, travelling downward at almost the same speed. It is two men sliding down the girders. They have neither helmets nor ropes, and their forearms are protected by sawed-off gum boots. The camera continues its descent, leaving the men in darkness. Twisted around the horizontal beams below them—at sixteen hundred feet, at twenty-six hundred feet—are corpses: the remains of men who have fallen, or perhaps been thrown, to their deaths. The bottom third of the shaft is badly damaged, preventing the camera from going farther. If there are other bodies, they may never be found.",
        "As Welkom’s mining industry collapsed, in the nineteen-nineties, a dystopian criminal economy emerged in its place, with thousands of men entering the abandoned tunnels and using rudimentary tools to dig for the leftover ore. With few overhead costs or safety standards, these outlaw miners, in some cases, could strike it rich. Many others remained in poverty, or died underground. The miners became known as zama-zamas, a Zulu term that loosely translates to “take a chance.” Most were immigrants from neighboring countries—Zimbabwe, Mozambique, Lesotho—that once sent millions of mine workers to South Africa, and whose economies were heavily dependent on mining wages. “You started seeing these new men in the townships,” Pitso Tsibolane, a man who grew up in Welkom, explained to me. “They’re not dressed like locals, don’t talk like locals—they’re just there. And then they vanish, and you know they’re back underground.”",
        "Owing to the difficulty of entering the mines, zama-zamas often stayed underground for months, their existence illuminated by headlamps. Down below, temperatures can exceed a hundred degrees, with suffocating humidity. Rockfalls are common, and rescuers have encountered bodies crushed by boulders the size of cars. “I think they all go through hell,” a doctor in Welkom, who has treated dozens of zama-zamas, told me. The men he saw had turned gray for lack of sunlight, their bodies were emaciated, and most of them had tuberculosis from inhaling dust in the unventilated tunnels. They were blinded for hours upon returning to the surface.",
        "I recently met a zama-zama named Simon who once lived underground for two years. Born in a rural area of Zimbabwe, he arrived in Welkom in 2010. He started digging for gold at the surface, which was dusted with ore from the industry’s heyday. There was gold beside the railway tracks that had once transported rock from the mines, gold among the foundations of torn-down processing plants, gold in the beds of ephemeral streams. But Simon was earning only around thirty-five dollars a day. He aspired to build a house and open a business. To get more gold, he would need to go underground.",
        "In no other country in the world does illegal mining take place inside such colossal industrial shafts. In the past twenty years, zama-zamas have spread across South Africa’s gold-mining areas, becoming a national crisis. Analysts have estimated that illegal mining accounts for around a tenth of South Africa’s annual gold production, though mining companies, wary of alarming investors, tend to downplay the extent of the criminal trade. The operations underground are controlled by powerful syndicates, which then launder the gold into legal supply chains. The properties that have made gold useful as a store of value—notably the ease with which it can be melted down into new forms—also make it difficult to trace. A wedding band, a cell-phone circuit board, and an investment coin may all contain gold that was mined by zama-zamas.",
        "Welkom, once an economic engine of the apartheid state, emerged as an early—and especially dire—hot spot for illegal mining. Since 2007, officials in the Free State province, where Welkom is situated, have recovered the bodies of more than seven hundred zama-zamas—but not all deaths are reported to the authorities, and many bodies remain belowground. “We call it the zama graveyard,” a forensic officer said in a 2017 news interview, following an underground explosion that killed more than forty people. In decommissioned mines, the ventilation systems no longer function, and harmful gases accumulate. At certain concentrations of methane, a mine becomes a bomb that can be detonated by the merest spark; even rocks knocking against each other can set off a blast. In Johannesburg, about a hundred and fifty miles northeast of Welkom, there are fears that illegal miners may cause gas pipelines to explode, including those beneath Africa’s largest soccer stadium.",
        "But perhaps the biggest dangers stem from the syndicates that have seized control of the illicit gold economy. Organized crime is rampant in South Africa—“an existential threat,” according to a recent analysis from the Global Initiative Against Transnational Organized Crime—and gold-mining gangs are especially notorious. Armed militias war over turf, both at the surface and underground, carrying out raids and executions. Officials have discovered groups of corpses that have been bludgeoned with hammers or had their throats slit.",
        "In Welkom, getting underground became impossible without paying protection fees to the criminal groups in charge. By 2015, just nine shafts were still operating, in spots where there was ore of sufficient grade to justify the expense of hauling it out. Some syndicates took advantage of these shafts, bribing employees to let the zama-zamas ride “the cage”—the transport elevator—and then walk to areas where mining had ceased. There were also dozens of abandoned shafts, including separate ventilation channels and ducts for subsurface cables. “Companies have difficulty plugging all the holes,” a 2009 report on illegal mining noted. Each of these provided openings for zama-zamas. The miners climbed down ladders made of sticks and conveyor-belt rubber, which deteriorated over time and sometimes snapped. Or they were lowered into the darkness by teams of men, or behind vehicles that reversed slowly for a mile or farther, the ropes feeding over makeshift pulleys above the shaft. Sometimes the ropes would break, or a patrol would arrive, causing the men at the surface to let go. There were stories of syndicates deceiving miners, promising them a ride in the cage, only to force them to climb down the girders. Men who refused were thrown over the edge, with some victims taking around twenty seconds to hit the bottom.",
        "In 2015, Simon entered the mines by paying a thousand dollars to a local syndicate boss, known as David One Eye, who allowed him to walk into the tunnels via an inclined shaft just south of Welkom. One Eye, a former zama-zama himself, had risen from obscurity to become one of the most fearsome figures in the region. He was powerfully built from lifting weights, and he had lost his left eye in a shooting.",
        "Link copied",
        "The syndicate would charge Simon more than twice as much to exit the mines. He remained underground for almost a year, subsisting on food provided by One Eye’s runners. He came away with too little money, so he went into the mines again, paying the same syndicate to lower him with a rope. He became accustomed to life underground: the heat, the dust, the darkness. He planned to remain there until he was no longer poor, but in the end he came out because he was starving.",
        "Zama-zamas are a nightmarish late chapter in an industry that, more than any other, has shaped South Africa’s history. Surface-level gold deposits were discovered in the area that became Johannesburg, sparking a gold rush in 1886. Twelve years later, the new South African mines were providing a quarter of the world’s gold. (To date, the country has produced more than forty per cent of all the gold ever mined.)",
        "The reefs that outcropped in Johannesburg extend deep underground, making up part of the Witwatersrand basin, a geological formation that stretches in an arc two hundred and fifty miles long. Extracting this gold required tremendous inputs of labor and capital. The Chamber of Mines once likened the basin to “a fat 1,200-page dictionary lying at an angle. The gold bearing reef would be thinner than a single page, and the amount of gold contained therein would hardly cover a couple of commas.” Complicating matters further, this page had been “twisted and torn” by geological forces, leaving fragments “thrust between other leaves of the book.”",
        "In the nineteen-thirties, mining companies began prospecting in a different province—a sparsely populated area that would later be called the Free State. After the Second World War, one borehole produced a sample “so astonishing that financial editors refused to believe the press release,” the historian Jade Davenport wrote, in “Digging Deep: A History of Mining in South Africa.” The yield was more than five hundred times richer than a usual profitable return, propelling the international gold-shares market “into complete dementia.” Land values in the nearest village increased more than two-hundredfold within a week.",
        "But these new goldfields needed to be developed from scratch. There was no electricity or potable water. Vast maize fields spread across the grasslands. In 1947, a mining house called the Anglo American Corporation received permission to establish a new town, to be called Welkom—“welcome” in Afrikaans. The company’s founder, Ernest Oppenheimer, who was the richest man in South Africa, tasked a British planner named William Backhouse with designing the settlement. Inspired by housing developments in England, Backhouse envisaged a garden city with satellite towns and ample greenbelts. There would be wide boulevards and circles to direct the flow of traffic. At the outset, Oppenheimer’s son wrote, the region was “depressing in the extreme”: flat and featureless, choked by frequent dust storms, with a single acacia tree, which was later designated a local monument. Eventually, the city was planted with more than a million trees.",
        "Across South Africa, white mine workers were perpetually in demand, owing to laws that limited Black people to menial and labor-intensive jobs. To attract white workers and skilled technicians away from the Witwatersrand, the Anglo American Corporation built subsidized houses in Welkom, along with lavish recreational facilities such as cricket fields and a horse-riding club. By 1950, Welkom was growing at an average rate of two families per day. “Welkom is going to be the showplace of South Africa!” the national finance minister declared on an official visit.",
        "The economic logic of the mines also demanded an inexhaustible supply of cheap Black labor. Restricted from unionizing until the late nineteen-seventies, Black mine workers performed gruelling and dangerous tasks, such as wielding heavy drills in cramped spaces and shovelling rock; tens of thousands died in accidents, and many more contracted lung diseases. To prevent competition among companies, which would have driven up wages, the Chamber of Mines operated as a central recruiting agency for Black workers from across Southern Africa; between 1910 and 1960, according to one estimate, five million mine workers travelled between South Africa and Mozambique alone. Expanding the labor pool helped the mining industry depress Black wages, which remained almost static for more than five decades. By 1969, the pay gap between white and Black workers had reached twenty to one.",
        "In Welkom, a separate township was built for Black residents, set apart from the city by an industrial area and two mine dumps. One of the city planners’ main goals, according to a history of Welkom from the nineteen-sixties, was to “prevent the outskirts of the town being marred by Bantu squatters.” Named Thabong, or “Place of Joy,” the township lay in the path of the dust from the mines. Segregated mining towns, which dated back to the nineteenth century, laid a foundation for South Africa’s apartheid system, which was formally introduced the year after Welkom was founded. Every evening, a siren sounded at seven o’clock, announcing a curfew for Black people, who faced arrest if they stayed too late in the white part of town.",
        "Oppenheimer had imagined Welkom as “a town of permanence and beauty.” The cornerstone of the civic center, an imposing set of buildings laid out in the shape of a horseshoe, was a twenty-four-inch slab of gold-bearing reef. The council chambers were furnished in walnut, with crystal chandeliers imported from Vienna. There was a banquet hall and one of South Africa’s finest theatres. In 1971, just three years after the complex was unveiled, a guidebook to South African architecture described the design as “perhaps too ambitious for a town which will, in all probability, have a limited life.”",
        "The crash came in 1989. The price of gold had fallen by nearly two-thirds from its peak, inflation was rising, and investors were wary of instability during South Africa’s transition to democracy. (Nelson Mandela was freed the following year.) The rise of powerful unions, in the final years of apartheid, meant that it was no longer possible for the industry to pay Black workers “slave wages,” as the former chairman of one large mining company told me. The Free State goldfields eventually laid off more than a hundred and fifty thousand mine workers, or eighty per cent of the workforce. The region was almost wholly reliant on mining, and Welkom’s economy was especially undiversified. The town’s sprawling urban design was also expensive to maintain, leading to a “death spiral,” Lochner Marais, a professor of developmental studies at the University of the Free State, told me.",
        "I first visited Welkom in late 2021. As I drove into the city, Google Maps announced that I had arrived, but around me it was dark. Then my headlights picked out a suburban home, followed by another. The entire neighborhood was without electricity. South Africa is in the midst of an energy crisis and experiences frequent scheduled power outages, but that was not the cause of this blackout. Rather, it was symptomatic of chronic local dysfunction, in a municipality ranked South Africa’s second worst in a 2021 report on financial sustainability.",
        "Welkom is surrounded by enormous flat-topped mine dumps that rise from the plains like mesas. The roads have been devoured by potholes. Several years ago, zama-zamas began breaking open wastewater pipes to process gold ore, which requires large volumes of water. They also attacked sewage plants, extracting gold from the sludge itself. Now untreated sewage flows in the streets. In addition, zama-zamas stripped copper cables from around town and within the mines. Cable theft became so rampant that Welkom experienced power failures several times per week.",
        "As the gold-mining companies scaled back in South Africa, they left behind wasted landscapes and extensive subterranean workings, including railway lines and locomotives, intact winders and cages, and thousands of miles of copper cable. Many companies had devised protocols for withdrawing from depleted mines, but these were seldom followed; likewise, government regulations around mine closures were weakly enforced. “It’s as if they just locked the door—‘Now we’re done,’ ” a mine security officer said of the companies. Shafts were often sold many times over, the constant changing of hands allowing companies to evade responsibility for rehabilitation. By the early two-thousands, according to authorities, South Africa had a large number of “derelict and ownerless” gold mines across the country, creating opportunities for illegal mining. Mining researchers in South Africa sometimes joke that the story of gold mining runs from AA to ZZ—from multinationals like Anglo American to zama-zamas.",
        "Authorities first became aware of the burgeoning illegal-mining industry in the nineties. A fire broke out in one of Welkom’s operational shafts, and a rescue team was called to extinguish it. The team discovered several dead bodies—the suspected victims of carbon-monoxide inhalation. The managers of the mine were not missing any workers, and the dead men were carrying no identification. They had been mining illegally in a disused area. “We weren’t aware something like this could happen,” a member of the rescue team recalled. A few years later, in 1999, police arrested twenty-eight zama-zamas in a nearby section of the tunnels. The men, laid-off mine workers, knew their way around like spelunkers in a cave network. An investigator involved in the arrest described them to me as “the forefathers of underground illegal mining in South Africa.”",
        "Even before there were zama-zamas, South Africa had a thriving black market for gold. In 1996, a security manager at one of the country’s biggest mining houses prepared a report about gold theft, which he described as “the least reported and talked about criminal activity in South Africa.” Back then, workers often pilfered gold from processing plants. One cleaner smuggled out gold-bearing material in a bucket of water; painters on the roof of a facility removed gold through the air vents. An employee was caught with gold inside his tobacco pipe; he didn’t smoke, but had been using this method to steal for twenty years. Others used slingshots to shoot gold over security fences or flushed gold, wrapped in condoms, down the toilet, which they retrieved from nearby sewage plants. One official was observed, several times, leaving a facility with potted plants from his office; a security officer sampled the soil, which was rich in gold concentrate.",
        "In Welkom, the main destination for stolen gold was in Thabong, at a dormitory known as G Hostel. During apartheid, hostels housed migrant workers as a way of preventing them from settling permanently in cities; these hostels have since become notorious for crime and violence. G Hostel had multiple entrances and was difficult to surveil. It functioned as an illicit smelting house, where teams of men would crush and wash the gold, then process it into ingots. Following the rise of zama-zamas, G Hostel developed into one of the largest gold-smuggling centers in the country. Eventually, around twenty-five hundred people were crammed into the compound, many of them undocumented immigrants. Police frequently conducted raids; in 1998, officers recovered more than ten metric tons of gold-bearing material. One dealer had been selling an average of a hundred ounces of gold per day.",
        "During a raid in the early two-thousands, police arrested a zama-zama from Mozambique who gave his name as David Khombi. He was wearing a white vest, tattered cutoff jeans, and flip-flops. Khombi lived at the compound, where he supplemented his income by cutting hair, mending shoes, and tailoring Mozambican garments. Not long after the arrest, he was released and went underground, where he earned a small fortune, a former member of his inner circle told me. According to an expert on the illegal gold trade in the Free State, by 2008 Khombi had “started building his empire.”",
        "In South Africa, gold smuggling is loosely organized into a pyramid structure. At the bottom are the miners, who sell to local buyers, who sell to regional buyers, who sell to national buyers; at the top are international gold dealers. The margins at each level are typically low—unlike many other illicit products, the market price of gold is public—and turning a profit requires substantial investments of capital, Marcena Hunter, an analyst who studies illicit gold flows, told me. To move upward, Khombi focussed his attention on a different commodity: food.",
        "Sustaining thousands of zama-zamas underground is a complex and lucrative exercise in logistics. At first, many illegal miners in the Free State purchased food from legal mine workers, who sold their rations at inflated prices. But as the mines laid people off, and the number of zama-zamas grew, the syndicates began providing food directly. A new economy developed—one that could be even more profitable than gold. Men underground had little bargaining power, and markups on food usually ranged from five hundred to a thousand per cent. A loaf of bread that cost less than ten rand at the surface sold for a hundred rand down below. Fixed prices were set for peanuts, tinned fish, powdered milk, Morvite (a high-energy sorghum porridge originally developed for feeding mine workers), and biltong, a South African jerky.",
        "Zama-zamas could also purchase such items as cigarettes, marijuana, washing powder, toothpaste, batteries, and headlamps. They paid with the cash they made from selling gold; when they were flush, some miners celebrated with buckets of KFC, which were available underground for upward of a thousand rand. Around a decade ago, one KFC in Welkom was supplying so much food to gold syndicates that customers started avoiding it: orders took forever, items on the menu ran out, and meals were often undercooked. Police contacted the owner, who agreed to notify them whenever large orders came in. On one occasion, officers observed a truck picking up eighty buckets of chicken.",
        "Khombi began paying men to shop at wholesalers, package the goods in layers of cardboard and bubble wrap, and then drop the fortified parcels down the shafts. (They often used ventilation channels, the powerful updrafts slowing the rate at which the supplies fell.) As his earnings increased, Khombi began buying gold from zama-zamas, profiting doubly from their labor. He built a large house in Thabong, where he developed a reputation for sharing his wealth—“like a philanthropist,” one community activist told me. During his rise to prominence, he also made enemies. He was later shot in the face, but survived, and became known as David One Eye.",
        "Link copied",
        "One afternoon, I met a former zama-zama whom I’ll refer to as Jonathan. He spent a year in the tunnels around 2013. “We were thousands underground,” he recalled. The men worked bare-chested because of the heat, and they slept on makeshift bunks. Khombi controlled the supply of food, and there were deliveries of beer and meat—“everything,” Jonathan said. For nearly three months, Jonathan was dependent on a group of more experienced miners, who guided him through the tunnels and shared their supplies. Finding and extracting gold required considerable expertise, and some zama-zamas were able to read the rock like mineralogists. But there were also other jobs underground, and Jonathan found work as a welder, producing small mills, known as pendukas, for crushing ore. The other miners paid him in gold.",
        "Access to the tunnels was controlled, increasingly, by armed gangs from Lesotho, to whom Khombi paid protection fees. Known as the Marashea, or “Russians,” these gangs traced their origins to mining compounds on the Witwatersrand, where Basotho laborers banded together in the nineteen-forties. (Their name was inspired by the Russian Army, whose members were “understood to have been fierce and successful fighters,” the historian Gary Kynoch wrote, in “We Are Fighting the World: A History of the Marashea Gangs in South Africa, 1947–1999.”) The Marashea dressed in gum boots, balaclavas, and traditional woollen blankets, worn clasped beneath the chin. Following the rise of illegal mining, they muscled in on the shafts. They carried weapons—assault rifles, Uzis, shotguns—and fought viciously over abandoned mines. Accordion players affiliated with the gangs wrote songs taunting their enemies, like drill rappers with nineteenth-century instruments.",
        "Working with factions of the Marashea, Khombi seized control of large areas of the Free State goldfields. He structured his illicit business almost like a mine, with separate divisions for food, gold, and security. As his wealth grew, he and his wife acquired extravagant tastes. They built a second home in Thabong, so ornate that it drew comparisons to a compound built by Jacob Zuma, South Africa’s notoriously corrupt former President. On Instagram, Khombi posted photographs of himself wearing Italian suits and flexing his biceps in tight-fitting tees. (One caption: “Everyone talks about mother’s love but no one talks about a father’s sacrifice.”) He bought a fleet of cars, including a customized Range Rover worth an estimated quarter-million dollars, and opened a pair of night clubs in Thabong, rising above a sea of metal shacks. His wife, who was from an extremely poor family, began dressing in Gucci and Balenciaga, and often flew to Johannesburg for shopping trips.",
        "In the nineteen-fifties, according to Welkom records, there were white women who “made a point of flying regularly to Johannesburg for a day’s shopping.” Their husbands, who worked in the mines, were “absolutely fearless, accepting hazard and risk, with a terrific driving force to earn the maximum possible amount of money.” The structure of the company town guaranteed that, for its white residents, there was plenty of money in circulation. Khombi rose to the top of a new hierarchy, one that enriched a different set of bosses but was similarly based on Black labor.",
        "Today, a row of grand banks stands mostly shuttered, a putt-putt course has been taken over by drug dealers, and the public gardens are strewn with trash and stripped cables. This past November, a clock tower outside the civic center, considered one of Welkom’s landmarks, displayed a different incorrect time on each of its three faces, with a faded banner for an event in 2018. The commercial district has retreated into the Goldfields Mall, which was built in the nineteen-eighties; it has a giant statue of a rhinoceros out front. (In December, they gave the statue a Christmas hat.)",
        "I met a former police reservist there one morning. He asked to be identified as Charles. For around nine years, he was on Khombi’s payroll, selling him gold confiscated from rival dealers, protecting him, and escorting zama-zamas to the mines. Charles used the money to buy a new car and pay lobola, a bride-price customary in many Southern African cultures.",
        "Corruption is a corrosive force in South Africa. In Welkom, which has not received a clean financial audit since 2000, tens of millions of dollars in government funds have gone missing. Even in this context, Khombi’s influence was legendary. Charles estimated that seventy per cent of the local police force had been in the kingpin’s pocket; I took this to be an exaggeration, until a senior detective who works on illegal-mining cases corroborated the figure, laughing bitterly.",
        "But Khombi, like any capable mafia don, was also propping up core services of the city. He repaired dirt roads in Thabong and donated supplies to local schools. In 2015, the national electricity utility threatened to cut off power to Welkom and its surrounding towns unless the municipality began paying off an outstanding bill of around thirty million dollars. Rumors circulated that Khombi had made a cash payment to avert the power cuts.",
        "Corruption was just as pervasive in the operational mines. Smuggling in zama-zamas could cost as much as forty-five hundred dollars per person, according to the illegal-gold-mining expert. The process could require bribing up to seven employees at once, from security guards to cage operators; this meant that mine employees could earn many times their regular salaries through bribery. Some were caught with bread loaves strapped to their bellies and batteries hidden inside their lunchboxes, which they planned to sell to zama-zamas. They also served as couriers, ferrying gold and cash.",
        "Mine workers who couldn’t be paid off were targeted by the syndicates. In 2017, a Welkom mine manager known for his tough stance against zama-zamas was murdered. Two months later, a mine security officer was shot thirteen times on his way to work. The following year, an administrator was stabbed ten times at home while his wife and children were in another room, and the wife of a plant manager was kidnapped for a ransom of one bar of gold.",
        "Today, after a series of acquisitions and mergers, a single company, Harmony, owns the mines around Welkom. Harmony specializes in exploiting marginal deposits at so-called mature mines, which has allowed it to prosper during the twilight years of South Africa’s gold industry. According to a company presentation that I obtained, Harmony has spent roughly a hundred million dollars on security measures between 2012 and 2019, including outfitting its mines with biometric authentication systems. They have also demolished several dozen disused shafts. Company records show that more than sixteen thousand zama-zamas have been arrested since 2007; in addition, more than two thousand employees and contractors have been arrested under suspicion of taking bribes or facilitating illegal mining. But these arrests were mostly at the bottom of the illegal-mining hierarchy, and had little lasting impact.",
        "One day, I met a team of security officers who patrolled some of the mines beneath Welkom; several of them had worked in Afghanistan and Iraq, and told me that the mines were more dangerous. The officers recounted coming across explosives the size of soccer balls, stuffed with bolts and other shrapnel. In shoot-outs, bullets ricocheted off the mine walls. “It’s tunnel warfare,” a member of the team said.",
        "But in town, especially among poorer residents, there was a sense that this violence was peripheral to a trade that sustained a large number of people. Money from zama-zamas spilled over into the general economy, from food wholesalers to car dealerships. “The economy of Welkom is through zama-zamas,” Charles, the former police reservist, told me. “Now Welkom is poor because of one man.” A few years ago, Khombi began ordering brazen hits on his rivals, becoming the focal point of a wider clampdown on illegal mining. “He took it too far,” Charles said. “He ruined it for everyone.”",
        "The first known murder linked to Khombi was that of Eric Vilakazi, another syndicate leader who had been delivering food underground. In 2016, Vilakazi was shot dead in front of his home while holding his young child in his arms. (The child survived.) Afterward, Khombi visited Vilakazi’s family to share his condolences and to offer financial support for the funeral. “If he killed you, he’ll go see the wife the next day,” the former member of Khombi’s inner circle, who accompanied him on the visit, told me. An aspiring kingpin named Nico Rasethuntsha attempted to take over the area where Vilakazi had been operating, but a few months later he, too, was assassinated.",
        "In December, 2017, Thapelo Talla, an associate of Khombi’s who had tried to break away, was gunned down outside a party for Khombi’s wedding anniversary. The following month, a syndicate boss known as Majozi disappeared, along with a policeman who had worked with him; Majozi’s wife was found dead at their home, and his burned-out BMW was found near an abandoned hostel. (Informants said afterward that Majozi and the policeman were tossed down a shaft by Khombi’s henchmen.) Later, a gold smuggler named Charles Sithole was murdered after receiving death threats from Khombi, and a pastor in Thabong who had sold a house to Khombi, and was requesting the full payment, was shot and killed.",
        "The incident that led to Khombi’s undoing took place in 2017, at a cemetery outside Welkom. Like the towns around it, the cemetery was running to ruin—a metal sign over the entrance, along with some headstones, had been stolen. The graves had been racially segregated during apartheid, and headstones of white people remained clustered at one end. Khombi suspected one of his lieutenants of stealing money and gave orders for him to be shot in the cemetery. The body was discovered the next morning, lying beside an abandoned vehicle.",
        "One of Khombi’s men, who was at the cemetery that night, was also working as an informant for the police, and Khombi was eventually charged with murder. (The first investigating officer assigned to the case was found guilty of lying under oath to protect him.) Khombi was held at a local jail, where wardens delivered KFC to his cell. “They were treating him like a king,” the expert on the illegal gold trade told me. A man who was charged alongside Khombi was thought to have been poisoned—an effort, officials believe, to prevent him from testifying—and had to be brought to court in a wheelchair.",
        "The trial began in late 2019. Khombi, who had been released on bail, showed up in designer suits every day. He presented himself as a businessman with philanthropic interests, alleging that he was a victim of a conspiracy. The judge was unpersuaded. “The entire murder has the hallmark of a hit,” he declared, sentencing Khombi to life in prison. Khombi’s legal team is petitioning the courts to overturn this decision, but he also faces other charges: for the 2017 murder of Talla, and for identity fraud. (Police discovered two South African I.D.s in his home, with different names, both featuring his photograph.)",
        "I returned to Welkom to attend the trials for both cases. Last September, driving from Johannesburg along the arc of the Witwatersrand basin, I passed through a series of blighted mining towns, now home to armies of zama-zamas. It was the windy season, and clouds of dust blew from the mine dumps. The waste from South African gold mines is rich in uranium, and in the nineteen-forties the U.S. and British governments initiated a top-secret program to reprocess the material for the development of nuclear weapons. But a large number of dumps remain, with dangerously high levels of radioactivity. In Welkom, the dust blows into houses and schools. Some residential areas have radioactivity readings comparable to those of Chernobyl.",
        "The magistrate’s court is in the city center—a modernist building with arresting red metal finishes where thousands of zama-zamas have been prosecuted. In the halls, there are posters that read “STOP ILLEGAL MINING,” with images of gold in its different forms, from ore concentrate to refined bars. Outside the courtroom, on the first day of Khombi’s trial for identity fraud, a garrulous man wearing a kufi hat with a red feather introduced himself to me as Khombi’s half brother, although I later found out that he was a more distant relative. Without my asking, he said of Khombi, “He worked with gold, I won’t deny it. But he wasn’t a killer.” The problem, he told me, was the gangs from Lesotho: “He had to work with them.” Khombi had become rich from the gold trade, and also arrogant, he added. “But the cops were in his circle. Who’s the real mafia here?”",
        "Inside, Khombi was in shackles, laughing with the wardens. He wore a black sweatshirt pulled tight over his muscles, and his voice boomed across the courtroom. He had already begun serving his murder sentence, and in prison he was organizing prayer meetings for the inmates. (Khombi is a member of an Apostolic church.) Before the trial could begin, his defense lawyer secured a postponement, and Khombi was escorted back to the cells.",
        "Link copied",
        "I was able to speak to Khombi two months later, at the trial for Talla’s murder. Our conversations took place as he was led in and out of the courtroom, with his wardens repeatedly shooing me away. When I introduced myself, Khombi greeted me like a politician and gave me a warm handshake, as if he had been expecting me. He denied being a gold dealer, but said that he knew many people involved in the trade. “From what I have observed,” he said, “it involves a lot of people—police, judges, magistrates, security. It’s too dangerous to talk about.” He also told me, smiling, that he had paid close to a million dollars for the municipal electricity bill, and made separate payments for water. “I’m not what all these people say about me,” he said. “I don’t sit and plot to kill people.”",
        "One day in Welkom, I got lunch with Khombi’s legal adviser, a smooth-talking former attorney named Fusi Macheka, who was disbarred in 2011. Macheka is a lay pastor, and he blessed our food when it arrived. He told me that he had known Khombi since around 2007, claiming to have successfully defended him in an illegal-gold-dealing case at the time. “Ultimately he became my man,” Macheka said. “He calls me brother.”",
        "While we were talking, a man with heavily scarred forearms arrived and sat down without greeting me. Macheka introduced him as Khombi’s lieutenant. “He’s a shock absorber for him,” Macheka explained. The lieutenant, who gave his name as Sekonyela, was wearing a yellow golf shirt that identified him as the chairman of the Stingy Men Association of Free State, which he was reluctant to elaborate on. He had known Khombi for close to three decades, working his way up from being Khombi’s gardener to being his right-hand man. Through the years, he said, Khombi had paid for his wedding, including lobola and a honeymoon to Cape Town, and had given him multiple cars and motorbikes.",
        "A few days later, Sekonyela arrived on one of those bikes, a Yamaha with a top speed of around a hundred and thirty miles per hour, to accompany Macheka and me on a tour of Khombi’s properties. We began at Khombi’s newest home, purchased from the pastor who was murdered. It featured the only residential swimming pool in Thabong, Sekonyela said. A former chief interpreter of the Welkom magistrate’s court happened to be passing by, and he informed me, misleadingly, that Khombi was “never ever in court for one murder.” He added that Khombi had donated soccer balls and kits for two youth teams he managed. “He was for the people,” the interpreter said.",
        "Many people in the township shared stories of Khombi’s generosity and lamented his absence. “He wanted people’s stomachs to be full,” one community leader said. I heard about Khombi paying for children to go to school and providing cattle to slaughter at funerals. Multiple officials I spoke with believe that Khombi remains active in the illicit gold trade, organizing deals from inside prison, but I got the sense that his power had waned. Weeds flourished outside his properties, and his night clubs were often closed. Khombi’s incarceration had left room for other syndicates to grow, but nobody had inherited his mantle as Thabong’s benefactor. Macheka wanted me to appreciate his client’s importance in the community, but he was evasive when I asked if Khombi had been involved in gold smuggling. “I can’t say that with certainty,” Macheka replied. “According to my instructions, he was a hard worker.” Macheka also mentioned that Khombi had given him two cars. “He knew about this secret of giving,” Macheka had said, a few days earlier. “In terms of my Biblical understanding, you give one cent, you get a hundredfold. Maybe that was his secret.”",
        "Khombi’s murder conviction coincided with a joint operation, by various police agencies and a private-security firm contracted by Harmony, to bring illegal mining in the Free State under control. The project is called Knock Out, and its logo is a clenched fist. To circumvent the corruption in Welkom, fifty police officers were brought in from the city of Bloemfontein, a hundred miles away. The operation has recorded more than five thousand arrests; among those taken into custody were seventy-seven mine employees, forty-eight security officers, and four members of the military. Investigators opened cases against more than a dozen police officers. Some cops, in the face of increased scrutiny, preëmptively quit the force.",
        "Central to the operation was cutting off food supplies for zama-zamas underground. Investigators raided locations where food was being packed. In parallel, some of the operational mines instituted food bans for employees, and Harmony closed off more entrances to the tunnels. At first, contractors capped old shafts with slabs of concrete, but zama-zamas dug underneath and broke these open, so the contractors began filling the shafts with rubble, sealing them completely. The company spent two years on one shaft, pumping in seemingly endless volumes of concrete; investigators later discovered that, inside the tunnels, zama-zamas had been removing the slurry before it could set. On another occasion, a syndicate sent three excavators to reopen a shaft. Security officers who intervened were shot at and almost run over by one of the machines. (The driver was later convicted of attempted murder.) To regain control of the site, officials sent in helicopters and erected a perimeter of sandbags—“like an army camp,” one member of the operation told me.",
        "Sealing vertical shafts restricts access from the surface, but it does not close the entire tunnel network, and thousands of zama-zamas remained below Welkom, their food supplies dwindling. Many still owed money to the syndicates that had put them underground. They didn’t want to exit. How else were they going to pay? Jonathan, the former zama-zama, estimated that hundreds had died of starvation, including several of his friends. “The saddest part of it, the most painful, is that you can’t bury them,” he said.",
        "Burials are of supreme importance in many Southern African cultures. In the past, when zama-zamas died underground, their bodies would typically be carried, shrouded in plastic, to the nearest functioning shaft and left for mine employees to discover. Affixed to the corpses were labels with a contact number and a name. The bodies were repatriated to neighboring countries or buried in the Free State. But now so many men were dying that it was impossible to collect them all. Simon, the zama-zama from Zimbabwe, told me that during 2017 and 2018 more than a hundred men died on just two levels of the mine he was living in. Using blankets as stretchers, he and some other zama-zamas had carried out at least eight bodies, one at a time; each journey had lasted around twelve hours. “The first time I see a dead body, I’m scared,” he recalled. As conditions worsened underground—at one point, Simon went fourteen days without food—he stopped caring, and would sit on the bodies to rest.",
        "Operation Knock Out forced zama-zamas to go elsewhere in search of gold. Many left for Orkney, a mining town eighty miles north. One weekend in 2021, according to the South African Police Service, more than five hundred zama-zamas exited the tunnels in Orkney after their food and water supplies were cut off; days later, hundreds of men attempted to force their way back inside, culminating in a shoot-out with officials that left six dead. When I visited, a security officer took me to an abandoned shaft nearby that had been capped with concrete but blown open by zama-zamas. Ropes were strung over the mouth of the hole, which was more than a mile deep. The shaft was no longer ventilated, and gusts of hot vapor blew up from the tunnels. Marashean snipers were observing us from a mine dump; that night, more zama-zamas would lower themselves over the shaft’s edge.",
        "In Welkom, the drop in illegal mining dealt yet another blow to an already ravaged economy. “Most of our illegal miners are our businesspeople,” Rose Nkhasi, the president of the Free State Goldfields Chamber of Business at the time, told me. I met her in a boardroom with framed portraits of her predecessors, almost all of whom were white men. Nkhasi, who is Black, acknowledged the violence and corruption associated with gold smuggling, but she was frank about its role in sustaining Welkom. She singled out Khombi—“He’s huge in the township, like the biggest mafia”—for his economic impact. “He employs a lot of people,” she said. “You can feel his money.”",
        "Nkhasi owns a property with a car wash, a mechanical workshop, and a restaurant. In earlier years, she told me, zama-zamas would bring their cars in for repairs and order food, paying with two-hundred-rand bills—the largest denomination in South Africa—and declining change. Police vehicles cruised by to collect payments from Khombi’s henchmen. Nkhasi also has an independent town-planning practice, where syndicate leaders often brought her rezoning applications to build rental units. “They are the ones developing this town,” Nkhasi told me.",
        "Investigators believe that there are still around two hundred illegal miners underground, roaming the passages beneath Welkom; they are adamant that, eventually, many more will return. The problems are deeply embedded. South Africa, once the world’s largest gold producer by far, now ranks a distant tenth. The country is still home to some of the richest gold deposits in the world, and there are many companies that would be interested in digging for them. But there is an increasingly strained relationship between the state and the mining sector, with ever-shifting policies—including a requirement that a large number of shares go to historically disadvantaged South Africans—and the spectre of corruption acting as deterrents to investment. Margins on gold mines are thin, and increasing security costs, combined with gold losses to zama-zamas, can “eliminate most of the profits,” the former mining chairman told me. “Nobody wants to go into the casino.” The gold-mining industry has come to symbolize the dispossession and exploitation that have shaped South Africa, today the country with the highest income inequality in the world.",
        "One evening, before sunset, I drove out to an old shaft on the southern edge of Welkom. Sunk in the early nineteen-fifties, it once led to one of South Africa’s richest mines, producing thousands of tons of ore per day. The shaft was filled a few years ago, and all that remains is a low mound in the middle of a grassy field. Nearby, at a venue called Diggers Inn, where Khombi held his wedding, an end-of-year celebration was kicking off for the graduates of Welkom High School. A crowd had gathered to cheer for the teen-agers, many of whom had hired chauffeured cars. Not two thousand feet away, at the opposite end of the shaft, some men were at work with picks and shovels, scraping gold from the earth. ♦",
        "Queen Elizabeth II’s fine-tuned feelings.",
        "After Muhammad Ali, Richard Pryor was the baddest person anywhere.",
        "John and Yoko take Manhattan.",
        "Edith Piaf’s thousand (delightful) ways to bum you out.",
        "Searching for signs of Oprah in O magazine.",
        "Hattie McDaniel arrives at the Coconut Grove.",
        "Fiction by Miranda July: “Roy Spivey.”",
        "Sign up for our daily newsletter to receive the best stories from The New Yorker.",
        "By signing up, you agree to our User Agreement and Privacy Policy & Cookie Statement.",
        "By Helen Shaw",
        "By Devorah Blachor",
        "By Adam Gopnik",
        "Sections",
        "More",
        "© 2023 Condé Nast. All rights reserved. Use of this site constitutes acceptance of our User Agreement and Privacy Policy and Cookie Statement and Your California Privacy Rights. The New Yorker may earn a portion of sales from products that are purchased through our site as part of our Affiliate Partnerships with retailers. The material on this site may not be reproduced, distributed, transmitted, cached or otherwise used, except with the prior written permission of Condé Nast. Ad Choices"
      ]
    },
    {
      "title": "Learnings from employing ChatGPT as a ML Engineer for a day",
      "link": "https://encord.com/blog/we-employed-chatgpt-as-an-ml-engineer-this-is-what-we-learned/",
      "page": [
        "Eric Landau •February 22, 2023",
        "TLDR; Among the proliferation of recent use cases using the AI application ChatGPT, we ask whether it can be used to make improvements in other AI systems. We test it on a practical problem in a modality of AI in which it was not trained, computer vision, and report the results. The average over ChatGPT suggestions, achieves on average 10.1% improvement in precision and 34.4% improvement in recall over our random sample, using a purely data-centric metric driven approach. Code for the post is here.",
        "",
        "",
        "Introduction",
        "Few technological developments have captured the public imagination as quickly and as starkly as the release of ChatGPT by OpenAI.",
        "Within two months of launch, it had garnered over 100 million users, the fastest public application to do so in history. While many see ChatGPT as a leap forward technologically, its true spark wasn’t based on a dramatic technological step change (GPT3, the model it is based on has been around for almost 3 years), but instead on the fact that it was an AI application perfectly calibrated towards individual human interactions.",
        "It was its ostentatiousness as an AI system that could demonstrate real-world value that so thoroughly awed the public. Forms of AI are present in various aspects of modern life but are mostly hidden away (Google searches, Youtube recommendations, spam filters, identity recognition) in the background.",
        "ChatGPT is one of the few that is blatantly artificial, but also intelligent. AI being in the limelight has spawned a deluge of thought pieces, articles, videos, blog posts, and podcasts.",
        "Amid this content rush have been renewed questions and concerns around the more provocative implications of AI advancement, progression towards AI consciousness, artificial general intelligence(AGI), and a technological singularity. In the most speculative scenarios, the fear (or hope depending on who you ask) is that the sophistication, power, and complexity of our models will eventually breach an event horizon of breakaway intelligence, where the system develops the capability to iteratively self-improve both it’s core functionality and it’s own ability to self-improve. This can create an exponentially growing positive reinforcement cycle spurring an unknowable and irreversible transition of society and human existence as we know it.",
        "",
        "",
        "",
        "Not yet, ChatGPT",
        "",
        "",
        "To be clear…that’s not where we are.",
        "ChatGPT is not the dawn of the Terminator. Prognosticating on the direction of a technology still in rapid development is often a folly, and on its broader implications even more so. However, in the presence of a large looming and unanswerable question, we can still develop insights and intuition by asking smaller, more palatable ones.",
        "In that vein, we look for a simpler question we can pose and subsequently test on the topic of AI self-improvement:",
        "Can we find an avenue by which we can examine if one AI system can iteratively improve another AI system?",
        "We observe that the main agents at the moment for AI progression are people working in machine learning as engineers and researchers. A sensible proxy sub-question might then be:",
        "Can ChatGPT function as a competent machine learning engineer?",
        "",
        "The Set Up",
        "If ChatGPT is to function as an ML engineer, it is best to run an inventory of the tasks that the role entails. The daily life of an ML engineer includes among others:",
        "The thread tying together the role is the fact that machine learning engineers have to be versatile technical problem solvers. Thus, rather than running through the full gamut of ML tasks for ChatGPT, we can focus on the more abstract and creative problem-solving elements of the role.",
        "We will narrow the scope in a few ways by having ChatGPT:",
        "",
        "",
        "",
        "",
        "",
        "With this narrowed scope in mind, our approach will be to use ChatGPT to write custom quality metrics through Encord Active that we can run over the data, labels, and model predictions to filter and clean data in our panda problem.",
        "Quality metrics are additional parametrizations over your data, labels, and models; they are methods of indexing training data and predictions in semantically interesting and relevant ways. Examples can include everything from more general attributes like the blurriness of an image to arbitrarily specific ones like the number of average distance between pedestrians in an image.",
        "ChatGPT’s job as our ML engineer will be to come up with ideas to break down and curate our labels and data for the purpose of improving the downstream model performance, mediated through tangible quality metrics that it can program on its own accord.",
        "The code for an example quality metric is below:",
        "",
        "",
        "",
        "This simple metric calculates the aspect ratio of bounding boxes within the data set. Using this metric to traverse the dataset we see one way to break down the data:",
        "",
        "",
        "",
        "",
        "ChatGPT’s goal will be to find other relevant metrics which we can use to improve the data.",
        "One final point we must also consider is that ChatGPT is at a great disadvantage as an ML engineer. It can’t directly see the data it’s dealing with. Its implementation capabilities are also limited. Finally, ChatGPT, as a victim of its own success, has frequent bouts of outages and non-responses. ChatGPT is an ML engineer at your company that lives on a desert island with very bad wifi where the only software they can run is Slack. We thus require a human-in-the-loop approach for practical reasons. We will serve as the eyes, ears, and fingers of ChatGPT as well as its probing colleagues in this project.",
        "",
        "",
        "The Process",
        "With the constraints set above, our strategy will be as follows:",
        "",
        "With a data-centric approach, we will limit the variables with which ChatGPT has to experiment to just quality metrics. All models and hyper parameters will remain fixed. To summarise:",
        "",
        "",
        "",
        "One of the luxuries we have as humans versus a neural network trapped on OpenAI servers (for now), is we can directly look at the data. Through some light visual inspection, it is not too difficult to quickly notice label errors (that we deliberately introduced). Through the process, we will do our best to communicate as much as what we see to ChatGPT to give it sufficient context for its solutions. Some (incontrovertibly cute) data examples include:",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "With some clear labeling errors:",
        "",
        "",
        "",
        "",
        "",
        "Not exactly pandas",
        "",
        "",
        "Benchmarking",
        "",
        "With all this established, we can start by running an initial model to benchmark ChatGPT’s efforts. For our benchmark we take a random sample of 25% of the training data set and run it through the model training loop described above. Our initial results come to a mean average precision (mAP) of 0.595 and mean average recall of 0.629.",
        "",
        "",
        "",
        "",
        "We can now try out ChatGPT for where to go next.",
        "",
        "ChatGPT Does Machine Learning",
        "",
        "With our benchmark set, we engage with ChatGPT on ideas for ways to improve our dataset with quality metrics. Our first approach is to set up a high-level description of the problem and elicit initial suggestions.",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "A series of back and forths yields a rather productive brainstorming session:",
        "",
        "",
        "",
        "",
        "Already, we have some interesting ideas for metrics. To continue to pull ideas, we chat over a series of multiple long conversations, including an ill fated attempt to play Wordle during a break.",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "After our many interactions(and a solid rapport having been built) we can go over some of the sample metric suggestions ChatGPT came up with:",
        "",
        "",
        "Besides ideas for metrics, we also want its suggestions for how to use these metrics in practice.",
        "",
        "Data selection:",
        "Let’s ask ChatGPT what it thinks about using metrics to improve data quality.",
        "",
        "",
        "",
        "",
        "Label errors",
        "We can also inquire about what to do when metrics find potential label errors.",
        "",
        "",
        "",
        "To summarise, a few concrete strategies for improving our model according to ChatGPT are:",
        "",
        "",
        "We have now compiled a number of actionable metrics and strategies through ChatGPT ideation. The next question is:",
        "",
        "Can ChatGPT actually implement these solutions?",
        "",
        "The next step will be for it to instantiate its ideas as its own custom metrics. Let’s try it out by inputting some sample metric code and instructions from Encord Active’s documentation on an example metric:",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "From the surface, it looks good. We run through various other metrics ChatGPT suggested and find similar plausible looking code snippets we can try via copy/paste. Plugging these metric into Encord Active to see how well it runs we get:",
        "",
        "",
        "",
        "Looks like some improvement is needed here. Let’s ask ChatGPT what it can do about this.",
        "",
        "",
        "",
        "",
        "Uh-oh. Despite multiple refreshes, we find a stonewalled response. Like an unreliable colleague, ChatGPT has written buggy code and then logged out for the day, unresponsive.",
        "",
        "Seems like human input is still required to get things running. After a healthy amount of manual debugging, we do finally get ChatGPT’s metrics to run. We can now go back and implement its suggestions.",
        "",
        "As with any data science initiative, the key is trying many iterations over candidate ideas. We will run through multiple ChatGPT metrics and average the results, but for purposes of brevity we will only try the filtering strategy it suggested. We spare ChatGPT from running these experiments, letting it rest after the work it has done so far. We share sample code for some of our experiments and ChatGPT metrics in the Colab notebook here.",
        "",
        "The Results",
        "",
        "We run multiple experiments using ChatGPT’s metrics and strategies. Looking over metrics we can see ChatGPT’s model performance below.",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "The average over ChatGPT metric suggestions, achieves on average 10.1% improvement in precision and 34.4% improvement in recall over our random sample, using a purely data-centric metric driven approach.",
        "",
        "While not a perfect colleague, ChatGPT did a commendable job in ideating plausible metrics. Its ideas made a significant improvement in our panda detector. So is ChatGPT the next Geofrey Hinton?",
        "",
        "",
        "Not exactly. For one, its code required heavy human intervention to run. We also would be remiss to omit the observation that in the background of the entire conversation process, there was a healthy dose of human judgement implicitly injected. Our most successful metric in fact, the one that had the most significant impact in reducing label error, and improving model performance was heavily influenced by human suggestion:",
        "",
        "",
        "",
        "",
        "",
        "This “Bounding Box Tightness” metric, defined early, was arrived at over a series of prompts and responses. The path to the metric was not carved by ChatGPT, but instead by human hand.",
        "",
        "ChatGPT also missed the opportunity for some simple problem-specific metrics. An obvious human observation about pandas is their black and white colour. A straightforward metric to have tried for label error would have been taking the number of white and black bounding box pixels divided by the total number of pixels in the box. A low number for this metric would indicate that the bounding box potentially did not tightly encapsulate a panda. While obvious to us, we could not coax an idea like this despite our best efforts.",
        "",
        "",
        "Conclusion",
        "",
        "Overall, it does seem ChatGPT has a formidable understanding of computer vision. It was able to generate useful suggestions and initial template code snippets for a problem and framework for which it was unfamiliar with. With its help, we were able to measurably improve our panda detector.The ability to create code templates rather than having to write everything from scratch can also significantly speed up the iteration cycle of a (human) ML engineer.",
        "",
        "Where it lacked, however, was in its ability to build off its own previous ideas and conclusions without guidance. It never delved deeper into the specificity of the problem through focused reasoning.",
        "",
        "For humans, important insights are not easily won, they come from building on top of experience and other previously hard-fought insights. ChatGPT doesn’t seem to have yet developed this capability, still relying on the direction of a “prompt engineer.” While it can be a strong starting point for machine learning ideas and strategies, it does not yet have the depth of cognitive capacity for independent ML engineering.",
        "",
        "Can ChatGPT be used to improve an AI system? Yes.",
        "",
        "Would we hire it as our next standalone ML engineer? No.",
        "",
        "Let’s wait until GPT4.",
        "",
        "In the meantime, if you’d like to try out Encord Active yourself you can find the open source repository on GitHub and if you have questions on how to use ChatGPT to improve your own datasets ask us on our Slack channel.",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "Get the latest computer vision news and insights",
        "Related Blogs",
        "February 20, 2023",
        "3 min read",
        "February 13, 2023",
        "15 min read",
        "February 9, 2023",
        "15 min read",
        "Get occasional product updates and tutorials to your inbox."
      ]
    },
    {
      "title": "Eggspensive",
      "link": "https://eggspensive.net/",
      "page": [
        "This website tracks the price of \"12 Great Value Large White Eggs\" at Walmart locations across the U.S.Please note that online prices may differ to prices shown in store. All prices correct at time of retrieval.📧 QuestionsLast Update: 📊 View The Data"
      ]
    },
    {
      "title": "Gossip Glomers: Fly.io Distributed Systems Challenges",
      "link": "https://fly.io/blog/gossip-glomers/",
      "page": [
        "We're Fly.io. We run apps for our users on hardware we host around the world. This post isn't about our platform. Rather, it's an elaborate plot to get you to write some code just for the hell of it.",
        "In the field of computer science, the industry is represented by two separate yet equally important groups: the software developers who build Rails applications and mobile games, and the academics who write theory papers about why the problems those apps try to solve are NP-hard. This is a story about both.",
        "Distributed systems span the practical-academic divide. Reading a stack of MIT PhD dissertations may be a good Friday night, but it won't equip you for debugging a multi-service outage at 2am. That requires real-world experience.",
        "Likewise, building a fleet of microservices won't give you the conceptual tools to gracefully & safely handle failure. Many failure scenarios are rare. They don't show up in unit tests. But they're devastating when they do show up. Nailing down the theory gives you a fighting chance at designing a correct system in the first place.",
        "The practical and academic tracks seldom converge. To fix this, we teamed up with Kyle Kingsbury, author of Jepsen, to develop a series of distributed systems challenges that combine real code with the academic rigor of Jepsen's verification system.",
        "We call these challenges the Gossip Glomers.",
        "What the f$#* is a Glomer?  It's an elaborate pun about the CAP theorem.",
        "You know Kyle Kingsbury from his \"Call Me Maybe\" blog posts that eviscerate distributed databases. You may also have known about Jepsen, the Clojure-based open-source tooling Kyle uses to conduct these analyses. Well, Kyle also wrote another tool on top of Jepsen called Maelstrom.",
        "Maelstrom runs toy distributed systems on a simulated network. It easily runs on a laptop. Kyle uses it to teach distributed systems. We all thought it'd be neat to build a series of challenges that would teach people around the Internet Maelstrom, and, in turn, some distributed systems theory.",
        "Each challenge is composed of several parts:",
        "Our challenges start off easy and get more difficult as you move along. They're organized into six high-level challenges with many of those having several smaller challenges within them.",
        "First, you'll start with the Echo challenge. This is the \"hello world\" of distributed systems challenges. It gets you up and running and helps you understand how these challenges work.",
        "Next, you'll build a totally-available, distributed unique ID generator. In this challenge, nodes will need to be coordination-free and independently generate a unique identifier for any number of clients.",
        "After that, the difficulty starts to ramp up with the broadcast challenge. In this challenge, you'll need to propagate messages out to all the nodes in the cluster. You'll need to ensure fault tolerance in the face of network partitions and then work to optimize your message delivery to minimize the number of messages sent within your system.",
        "Once you've made it past broadcast, you'll implement a grow-only counter, or g-counter. The tricky part with this challenge is that you'll need to build on top of Maelstrom's sequentially consistent key/value store.",
        "Then you'll dive into the world of replicated logs by building a Kafka-like system. This challenge will build on the linearizable key/value store provided by Maelstrom but you'll need to figure out how to not only make it correct but also efficient.",
        "Finally, you'll wrap up with the totally-available transactions challenge where you'll build a transactional database on various consistency levels.",
        "Over the past year, we've been growing like gangbusters. That's great. But it also means we've been hiring, and hiring is hard.",
        "We hire resume-blind, based on work-sample tests: we have people write code and design systems, and then score those submissions based on a rubric. We've got criteria set up for early-career, mid-level, and team-lead developers. But we didn't have strong criteria for hiring staff engineers.",
        "So we began tossing around ideas. In a previous life, some of us had success with a series of cryptography challenges called Cryptopals, so we figured we'd try something similar, but with a distributed systems flavor.",
        "That sounded great but how do you actually test distributed systems to know if someone passed or failed? For weeks, we wrote up one iteration after another but none of them felt right.",
        "Finally, we had a brilliant idea. Let's find someone who lives and breathes distributed system validation! That someone is Kyle Kingsbury.",
        "After working on these challenges with Kyle, we realized that they are too much fun to keep to ourselves as an internal evaluation tool. So we're releasing them for anyone to play with.",
        "If you scoff in the face of cascading failures, if you bend consistency levels to your will, and if you read k8s.af post-mortems as bedtime stories to your kids, you may be interested in trying our hardest challenge.",
        "We reserved this last challenge for evaluating our staff engineers at Fly.io. So if you think you'd be up to the challenge, we'd love to talk to you.",
        "Copyright © 2023 Fly.io"
      ]
    },
    {
      "title": "Humans Could Go the Way of the Dinosaur",
      "link": "https://nautil.us/humans-could-go-the-way-of-the-dinosaurs-262372/",
      "page": [
        "Art+Science",
        "Biology + Beyond",
        "Brain",
        "Cosmos",
        "Earth",
        "Ocean",
        "One Question",
        "Quanta Abstractions",
        "Science Philanthropy Alliance",
        "Spark of Science",
        "Women in Science & Engineering",
        "",
        "The time is now to prepare for the cosmic object that could spell our end.",
        "",
        "Humanity lives on the edge of disaster. The celestial sphere, suspended and serene above us, has guided our species for millennia, serving as a source of stories, wonder, and navigation. But the sky is also full of threats. Asteroids, comets, and meteoroids, traveling at tens of thousands of miles per hour, completely silent and nearly invisible, crisscross the solar system and the orbit of the Earth. When the smallest ones, no bigger than a grain of sand, enter our atmosphere, we watch in delight as a shooting star flies across the heavens.",
        "But when the larger objects strike, they unleash not marvels, but death and destruction. When an asteroid several miles wide struck off the northern coast of the Yucatan peninsula in the Gulf of Mexico 66 million years ago, the resulting impact rattled the Earth to its very iron core, uplifted crustal material and sent it raining hellfire across the globe, plunged our planet into a suffocating “impact winter,” and permanently ended the lineages of all non-avian dinosaurs.",
        "The rate of an asteroid larger than 3 miles across striking the Earth is approximately once every 6 million years.",
        "More recently, some 50,000 years ago, a meteorite about 160 feet across (less than half the length of a football field) struck Earth with a velocity of 29,000 miles per hour. The energy released in the collision was equivalent to 600 Hiroshima bombs. Among other cataclysmic effects, the impact could be felt in the form of a 1,000-mph wind blast more than two miles from the site. The crater today, just east of Flagstaff, Arizona, is roughly 560 feet deep and three quarters of a mile across.",
        "With just a few thousand feet of orbital misfortune, we could lose a population center at a level unheard of even after the advent of nuclear weapons. We could see the collapse of not just one, but all human civilization, and possibly the extinction of our species—or even all the species on the planet. In short, it would be really, really bad.",
        "A substantial collision is bound to happen again. We don’t know where or when. But it will happen. Are we ready? No. Not in the slightest. But for the first time in the planet’s history, we have arrived at a point in time where we could do something to alter its astronomical fate.",
        "The question is whether we will. Yes, we are capable of long-term planning. Medieval Europeans spent centuries building their great cathedrals. Ancient Chinese empires spent generations expanding irrigation networks, many of which are still used today. For tens of thousands of years nations of all stripes have spent decades and untold resources—and the blood of their populace—in evolving combat against their enemies. But these projects have had a tangible, immediate, and familiar feel to them. The threat posed by asteroids and comets is a whole other story. (We also aren’t doing so well with nebulous threats of climate change and zoonotic diseases.)",
        "Part of the reason is that asteroids and comets don’t appear to be a problem right now. Yes, there is the occasional amusing news story of a stray meteorite burrowing itself into someone’s car or home. But impacts have not presented much immediate danger. In fact in the entire span of recorded human history, as astronomers have been watching the skies like sentries on Castle Black, no asteroid or comet has ever appeared as a threat to any society, culture, or civilization. In 2019, researchers reported the rate of an asteroid larger than 3 miles across striking the Earth (and wiping out humanity) is approximately once every 6 million years.",
        "But on geological and astronomical timescales, humans are newborns. If we are to last as a species, even into middle age, we are likely to encounter a major threat bearing down on us from the heavens. To prepare ourselves, somebody better start planning right now, today. Despite our vigilant astronomers, you might be surprised to know that no one nation or organization is responsible for protecting our planet.",
        "It’s not that nations aren’t giving the end of the world some thought. In 2005, the United States congress mandated that NASA develop the capabilities to identify, track, and characterize all near-Earth objects (NEOs) larger than about 460 feet across by 2020. A rock this size could easily wipe out any of our largest cities, trigger earthquakes and tsunamis, and worse. And as a case study into the paradoxes of dealing with these kinds of improbable-but-existential risks, that mandate did not come with any funding. As of today, we have yet to identify even a third of all estimated threatening objects.",
        "There is no technology, survey, or program in operation today to monitor all the potential threats to Earth.",
        "But some groups, notably NASA’s Planetary Defense Coordination Office and the International Astronomical Union’s Minor Planet Center, have taken up the mantle of protecting humanity from cosmic disaster. They operate in the shadows of larger projects, eking by on the scraps of their funding.",
        "The first step for would-be planet-savers is identification. The trouble is, not only are these cosmic objects relatively small and dim, but their movements are constantly in flux. Identifying and tracking a small asteroid for a few days or weeks is enough to reasonably predict its path for the next few decades. But after that, small gravitational interactions with its neighbors (or even the motions of the giant planets) and unequal heating from the sun can send it into a wildly different—and possibly dangerous—orbit. There is no technology, survey, or program in operation today or even on the horizon to continuously and comprehensively monitor all the potential threats to Earth.",
        "And to have the best chances at saving ourselves, the object would need to be spotted years before a potential impact. Even then, it’s not exactly clear what we would do about it.",
        "A preemptive impact with the object in space is one possibility. NASA’s proof-of-concept DART mission made headlines last year when it slammed head-first into Dimorphos, an asteroid 560 feet wide. The tiny cubelike spacecraft, measuring little more than 4 feet on each side, only packed a mass of about 1,260 pounds. And initial observations (a more complete assessment awaits the follow-up HERA mission to be launched by the European Space Agency in late 2024) suggest that the mission was a success, nudging the asteroid (which wasn’t an immediate threat) into a slightly different trajectory.",
        "This worked because, in space, small changes have big impacts. If we spot a threat early enough, we could conceivably launch a spacecraft to alter its trajectory—even if just slightly. As the asteroid continued in its shifted path in the intervening years, however, that small change would add up, resulting in a complete miss of Earth. We hope.",
        "But one of the problems is that not all asteroids are monoliths like Dimorphos (or as small). Many, especially the larger ones, are actually complex agglomerations of loose rubble. The DART mission worked on Dimorphos, but a similar approach may not work on a different asteroid with a different character.",
        "Nuclear weapons are an obvious alternative, but difficult to test—no country is in the mood to raise international ire for lobbing nuclear bombs into space. So groups like the B612 Foundation (spun-up on private funding, including from internet pioneer Vint Cerf and the indie rock group Broken Bells) have had to make do with theoretical calculations and computer simulations as to how an atomic blast could nudge an object off its course. These simulations are a rather rough sketch. We lack the sophistication to know if anything in our extant arsenal could seriously knock an asteroid, or exactly how to deploy such a mission.",
        "Another possibility is to implant a nuclear warhead deep within the asteroid (yes, Armageddon was based on legitimate research), hoping to disassociate the loose rubble pile into chunks so small they wouldn’t survive passage through our atmosphere … or turn a single large threat to one area into multiple disasters across the globe. It’s tough to say exactly what would happen.",
        "Less explosive proposals hope to use forces of nature against an unruly asteroid. It might be possible to set up a gravity tractor, which is, unfortunately for sci-fi aficionados, not a tractor beam. Instead it’s merely a spacecraft in orbit around the asteroid that gently changes its own direction and uses its miniscule but persistent gravitational pull to steer the asteroid. Or we could coat a large portion of the surface of the asteroid in reflective material, changing the proportion of sunlight being absorbed by the asteroid. Since light has momentum, this too would act to change the asteroid’s course slightly over time, and hopefully enough to miss Earth.",
        "All of these methods are, at least on paper, feasible. But besides DART we have not yet tested any of them, and so we do not know how effective and controllable they might be. We also don’t know how much time and money would be needed to bring any of them out of modeling and into deployable status. The disparate groups around the globe, pulling on meager threads of funding and time, are trying to go against the tide of human inclination by preparing for a threat that likely will not manifest itself in our lifetime, or our children’s lifetimes, or perhaps for dozens of generations to come. But if they are successful, some day, our far future descendants will thank them and their lucky stars that someone decided to plan for the long-shot worst.",
        "Paul M. Sutter is a research professor in astrophysics at the Institute for Advanced Computational Science at Stony Brook University and a guest researcher at the Flatiron Institute in New York City. He is the author of Your Place in the Universe: Understanding our Big, Messy Existence.",
        "Lead image: sdecoret / Shutterstock",
        "The newest and most popular articles delivered right to your inbox!",
        "The CEO of Black Girls CODE on the importance of self-belief",
        "Where Are the Black Female Doctors?",
        "Neuroscience Has a Race Problem",
        "One question for Miguel Aragon, a computational physicist at the National Autonomous University of Mexico.",
        "Extraterrestrial life doesn’t need to be intelligent to be worth finding.",
        "One question for Paul Sutter, a theoretical cosmologist at Stony Brook University.",
        "One question for Joseph Silk, an astrophysicist at Johns Hopkins University.",
        "The defining problem in the search for ET.",
        "Nautilus is a different kind of science magazine. Our stories take you into the depths of \t\t\t\tscience and spotlight its ripples in our lives and cultures.",
        "The newest and most popular articles delivered right to your inbox!",
        "© 2023 NautilusNext Inc., All rights reserved.",
        "SUBSCRIBE TO THE NAUTILUS PRINT EDITION!"
      ]
    },
    {
      "title": "The Unreasonable Effectiveness of Conditional Probabilities",
      "link": "https://two-wrongs.com/unreasonable-effectiveness-of-conditional-probabilities.html",
      "page": [
        "I have been steeping myself in probabilistic exercises recently, because it’s anarea where I feel like I could benefit from building better intuition. I havefound a recurring key to solving many of them: conditioning on an intermediarystate, and then computing the value of that intermediary state separately. Thisturns very difficult problems into ones where the solution is almostobvious.11 Although sometimes we are trading efficiency for simplicity, here.",
        "That was useful in the Birthday Line Puzzle, but here are three more exampleswhere it shows up. If you find the a problem uninteresting, scroll on downto the next – they’re all different.",
        "A fast food franchise includes a toy in their child-size meals. Thereare four different toys. Each meal costs $8. How much do you expect to paybefore you have all four toys?",
        "As always with these types of problems, start by gut feeling your way toward arough approximation.22 The minimum number of meals would be four, and I wouldbe very surprised if it took anyone more than 25 meals, so maybe a reasonableguess for the expected cost is in the range of $50–120 ? It’s a very roughestimation, but better than none at all! Sometimes you need to get a solutionto a problem out quickly while you’re working on a more accurate one, and thenit’s useful to have practised your gut feeling.",
        "The cost is a simple function of the number of meals you buy, so let’s focus onthe number of meals. There are many ways to work out that expectation, but Ifavour methods that build on fundamentals33 The reason for this is that mymemory is terrible but my intelligence usually serves me well, so by focusing onfundamentals I can memorise fewer things but apply them in a wide variety ofways.,44 Another reason to work with fundamentals is that they are robustagainst variations in problem specification. In this example, all toys have thesame probability of appearing. if they did not, that would invalidate some othertypes of analysis. This one would be relatively easy to adapt to account forthat.. From a fundamentals perspective, the expected number of meals is afunction of the probability of finding the fourth toy in any specific meal. Tomake the solution simpler55 More steps, but each step is simpler., we’llstart by looking at the probability of having four toys (not finding the fourthtoy) after having bought any number of meals.",
        "We are going to write the probability of having \\(k\\) toys after \\(i\\) meals as\\(P(n_i=k)\\). Some examples are trivial:",
        "Computing this probability for any combination of \\(i\\) and \\(k\\) is formidable, butwe can break it up into multiple, easier, parts. If we have three toys after wehave eaten the sixth meal, there are only two ways that can happen. Either",
        "In more general mathematical notation, we would write that as",
        "\\[P(n_i=k) = P(n_i=k, n_{i-1}=k) + P(n_i=k, n_{i-1}=k-1).\\]",
        "We are one step closer, but not quite there yet. What is the probability of e.g.\\(P(n_i = k, n_{i-1}=k)\\)? I.e. what’s the probability that we had \\(k\\) toys after theprevious meal, and still have \\(k\\) now? We can split that up further, and thisis where the power of conditional probabilities come in. Probability laws tellus that",
        "\\[P(a, b) = P(a \\mid b) \\times P(b),\\]",
        "i.e. the probaiblity that \\(a\\) and \\(b\\) happens is equal to the probability that\\(a\\) happens given that \\(b\\) has already happened, times the probability that \\(b\\)happens in the first place. Applied to our example, we have",
        "\\[P(n_i=k, n_{i-1}=k) = P(n_i=k \\mid n_{i-1} = k) \\times P(n_{i-1} = k).\\]",
        "The first of these factors, \\(P(n_i=k \\mid n_{i-1} = k)\\) is the probability ofnot finding the next toy in meal \\(i\\). This depends only on how many toys wehave: if we have one toy, the probability of getting that same toy again is 1/4.If we have three toys, the probability of getting any of them again is 3/4.",
        "The second factor, \\(P(n_{i-1} = k)\\) can be computed recursively.",
        "Similar reasoning applies to the other case where we do find toy \\(k\\) in meal\\(i\\). In the end, the probability ofhaving \\(k\\) toys after \\(i\\) meals is",
        "\\[\\begin{array}{l}P(n_i=k) &= &P(n_i=k &\\mid &n_{i-1}&=&k) &\\times &P(n_{i-1}&=&k) \\\\&+ &P(n_i=k &\\mid &n_{i-1}&=&k-1) &\\times &P(n_{i-1}&=&k-1).\\end{array}\\]",
        "If you read it carefully, you should be able to figure out the intuitive meaningof each factor. Given what we know about the conditional probabilities, we canalso simplify the calculation a bit more.66 If you are confused about the 5-knumerator: Given that we have \\(k-1\\) toys after meal \\(i-1\\), the probability offinidng toy \\(k\\) in this meal depends only on how many toys we are missing. if weare looking for the last toy, the probability of finding it is 1/4. One placeit’s easy to slip here is that if we are looking for toy \\(k\\), that means we aremissing not just 4-k toys, but 4-(k-1) = 5-k toys.",
        "\\[P(n_i=k) = \\frac{k}{4} \\times P(n_{i-1}=k) + \\frac{5-k}{4} \\times P(n_{i-1}=k-1)\\]",
        "We can, in principle, calculate this in a spreadseheet. For the first meal, wehard-code (1,0,0,0) because we will find the first toy in that first meal, andit gives the recursion a base case to rest on. Similarly, the probaiblity ofhaving 0 toys is 0 after every meal – also a base case for the recursion. Thenfor each cell, we set it to be k/4 times the cell to the left, and (5-k)/4 timesthe cell above and to the left.77 It surprised me that, after eating fourmeals, there’s a much larger probaility that we have all four toys (9 %) thanthat we still have just one (2 %). To my intuition, those two cases both seemlike equally unlikely flukes – either we get the same toy in every meal, or weget a different one in every meal. The reason four toys is more likely is thatit offers more choices for the order in which second, third, and fourth toy arereceived.",
        "When we get tired of autofilling cells in spreadsheets, we can alsowrite the recursion in something like Python, and ask for the probability ofhaving four toys after eating five meals, for example. According to ourspreadsheet sketch, this should be 23 %.",
        "And it is!",
        "However, if we try to use this to find the probability of having fourtoys after every meal, we may run into a problem that the recursion isinefficient. Since every meal depends only on the meal before, and the number oftoys we find cannot decrease, we can use dynamic programming instead ofrecursion.",
        "This function will return a generator for the probability of having four toysafter every meal. If we slice out the first five probabilities, they shouldmirror what we had in our spreadsheet.",
        "They do!",
        "What we have now is a way to figure out what the probability is of having fourtoys after a given number of meals. The original question we wanted to answerwas about the probability of finding the fourth toy. However, if we take theprobability of having the fourth toy after meal 9, and subtract the probabilityof having the fourth toy after meal 8, then we get the probability of havingfound the fourth toy in meal 9.",
        "We create a new generator based on the one we have which computes thesesuccessive differences.",
        "Then we can use this to compute the expected number of meals we’ll go through,by multiplying the probability of finding the fourth toy in each meal with itsmeal number. Since we have an infinite number of such probabilities, we’ll haveto limit this computation to, say, the first 150, which seems to contain most ofthe information of the entire series.88 How did I arrive at 150? I just trieda bunch of numbers until the result stabilised.",
        "This is the number of meals we should expect to buy! At $8 apiece, we shouldexpect to spend about $67. Depending on the quality of toys and theircollectible value, that might be a tad much.",
        "We want to validate our calculations. Fortunately, this scenario is small enoughthat we can just simulate it outright. We write one function that simulatesbuying meals until it has got all four toys99 What about the iteration limit?Doesn’t matter for the simulation because in practise it will always find allfour toys well before it has bought a thousand meals. It’s just that havinganything that can potentially turn into an infinite loop is a bad idea forproduction code, so I have the habit of always encoding iteration limits onthese things if I can’t prove they will terminate on their own., and anotherthat runs this simulation a large number of times to get the average number ofmeals purchased.",
        "It is indeed close to the theoretical 8.33 value we found before. Good!",
        "The game master rolls a die once. You win a dollar amount equal to the number ofpips on the side that is up, but you can exchange your winnings (whatever theywere) for a new roll. You can do this two times – in other words, on the thirdroll you have to accept whatever winnings you get. It costs $4 to enter thisgame. Would you play?",
        "The question is whether the expected value, or ev, of the first throw exceedsthe $4 cost of entering the game. That sounds tough to figure out. However, wecan quickly rattle off the ev of the third throw: $3.5.1010 This is theaverage number of pips a die will show. We can go backwards from there. If weassume we’ve chosen to do the second roll, then our choice is between keepingour current winnings (a known number in the 1–6 range) or we take our chances onthe last roll, ev 3.5.",
        "Clearly, if our second roll ended up being 1–3, we should take our chances onthe third roll. If our second roll ended up being 4–6, we will on average earnmore by keeping those winnings and not rolling again. What, then, is the ev ofthe second roll? There are two possibilities:",
        "Both of these outcomes are equally likely, meaning the ev is(3.5+5)/2 = 4.25.",
        "We use the same reasoning to go back to the first throw. Given the ev of thesecond throw, we would keep our winnings on the first throw only if they are 5or 6. This means the first throw has an ev of 2/6 × 5.5 + 4/6 × 4.25 = 4.67.",
        "If someone charges us just $4 for this, we should play as much as we can, for anaverage profit of $0.67 per game! But the reason we can work this out is thatwe’re able to condition on the outcome of the previous throw, and we know theprobabilities of that.",
        "Team Alpha plays a series of games against team Bravo, with the winner of theseries being the first to win two games. Your friend wants to wager on teamAlpha taking the entire series (i.e. being the first to two wins), but thebookies will only allow wagers on individual games, with odds 2:1, meaning youpay $1 to enter the wager, and if you have picked the winning team you get $2back, otherwise nothing.",
        "You tell your friend that you will be counterparty to their bet, and pay outtwice what they pay you if Alpha wins, otherwise nothing. Are you making amistake?",
        "Assuming you don’t want to hold the risk of that bet, the question is really“for each $1 your friend gives you, can you place it on the individual gameswith the bookies such that at the end, you get $2 if Alpha takes the entireseries, and nothing otherwise?”",
        "The series structure can be drawn like this.1111 The white nodes representgames, and the score in the node is the record of wins to each team before thegame starts. The black nodes indicate that a winner is determined and no moregames are played, and the series result is indicated in the node.",
        "",
        "In the outcomes represented by the two top black nodes, we need to be inpossession of $2, and in the bottom two nodes, nothing. For clarity, let’s addthis information to the graph.",
        "",
        "This puts a constraint on the 1–1 game: we need to place a bet such that ifAlpha wins, we get $2, and if Alpha loses, we have nothing. Some thinking willlead to the answer: before that game, we must be in possession of $1, and placeit all on Alpha winning the game. We’ll add that to the graph too.",
        "",
        "Now the process repeats. This has put a constraint on the 1–0 game. We have topossess and wager money such that if Alpha wins, we have $2, and if Alpha loses,we still have $1. This can only happen if we have $1.5, and wager $0.5. Thiscontinues all the way to the first game:",
        "",
        "In other words, as long as the odds for all games are set in advance, we canreplicate the 2:1 series bet by cleverly betting on the individual games. Wefigured out how by conditioning on the outcome of earlier games.",
        "In this small number of games, we could do the calculations manually. If theteams play more games, we might want to make a spreadsheet. If we tilt our head,the nodes in the graphs above actually sort of make up a coordinate system,where each axis counts the number of wins by the corresponding team.",
        "So we can start our spreadsheet by filling in the boundary conditions, here fora first-to-three-wins series, again, with 2:1 odds on both individual games andthe series. In each cell is the amount of money we have in the outcome inquestion.",
        "Now, for each game, we have the following equations:",
        "\\[w + x = R\\]",
        "\\[w - x = D\\]",
        "where \\(w\\) is wealth before the game, \\(x\\) is bet size, \\(R\\) is the cell to theright and \\(D\\) is the cell below. We can add those together to cancel out the betsize, and then we learn that",
        "\\[2w = R + D\\]",
        "or simply that the wealth in each cell should be the average of the win and theloss on that bet. (Due to the 2:1 odds.)",
        "We plug this in and autofill from the bottom right to the top left.",
        "This doesn’t tell us directly how to bet, only how much money to have in varioussituations. But we can derive how much to bet from this, using the sameequations as above.",
        "If the odds are something other than 2:1, e.g. 1.63, we would end up with only atiny bit more complicated equations:",
        "\\[w + 0.63x = R\\]",
        "\\[w - x = D\\]",
        "which combined give us \\(w = (1.59R + W)/2.59\\). If we plug that formula into ourspreadsheet instead, we’ll see that to end up with $1 if A wins, we have tostart with $0.71.",
        "From this, we learn that the appropriate odds for the entire series, based onthe odds for the individual games, is 0.71:1, or 1.41 decimal.",
        "Although sometimes we are trading efficiency for simplicity, here.",
        "The minimum number of meals would be four, and I wouldbe very surprised if it took anyone more than 25 meals, so maybe a reasonableguess for the expected cost is in the range of $50–120 ? It’s a very roughestimation, but better than none at all!",
        "The reason for this is that mymemory is terrible but my intelligence usually serves me well, so by focusing onfundamentals I can memorise fewer things but apply them in a wide variety ofways.",
        "Another reason to work with fundamentals is that they are robustagainst variations in problem specification. In this example, all toys have thesame probability of appearing. if they did not, that would invalidate some othertypes of analysis. This one would be relatively easy to adapt to account forthat.",
        "More steps, but each step is simpler.",
        "If you are confused about the 5-knumerator: Given that we have \\(k-1\\) toys after meal \\(i-1\\), the probability offinidng toy \\(k\\) in this meal depends only on how many toys we are missing. if weare looking for the last toy, the probability of finding it is 1/4. One placeit’s easy to slip here is that if we are looking for toy \\(k\\), that means we aremissing not just 4-k toys, but 4-(k-1) = 5-k toys.",
        "It surprised me that, after eating fourmeals, there’s a much larger probaility that we have all four toys (9 %) thanthat we still have just one (2 %). To my intuition, those two cases both seemlike equally unlikely flukes – either we get the same toy in every meal, or weget a different one in every meal. The reason four toys is more likely is thatit offers more choices for the order in which second, third, and fourth toy arereceived.",
        "How did I arrive at 150? I just trieda bunch of numbers until the result stabilised.",
        "What about the iteration limit?Doesn’t matter for the simulation because in practise it will always find allfour toys well before it has bought a thousand meals. It’s just that havinganything that can potentially turn into an infinite loop is a bad idea forproduction code, so I have the habit of always encoding iteration limits onthese things if I can’t prove they will terminate on their own.",
        "This is theaverage number of pips a die will show.",
        "The white nodes representgames, and the score in the node is the record of wins to each team before thegame starts. The black nodes indicate that a winner is determined and no moregames are played, and the series result is indicated in the node.",
        "Comments? Send me an email.I will                publish your comment on this site as soon as I'm able.",
        "",
        "You can also show your support                by buying me a coffee,                iff you want                to."
      ]
    },
    {
      "title": "NASA's planetary radar captures detailed view of oblong asteroid",
      "link": "https://phys.org/news/2023-02-nasa-planetary-radar-captures-view.html",
      "page": [
        "Click here to sign in with                                                                                                                                    or",
        "Forget Password?",
        "Learn more",
        "share this!",
        "518",
        "49",
        "Share",
        "Email",
        "February 18, 2023",
        "by \t\t\t\t\t\t\t\t\t\t NASA",
        "On Feb. 3, an asteroid more than three times as long as it is wide safely flew past Earth at a distance of about 1.1 million miles (1.8 million kilometers, or a little under five times the distance between the Moon and Earth). While there was no risk of the asteroid—called 2011 AG5—impacting our planet, scientists at NASA's Jet Propulsion Laboratory in Southern California closely tracked the object, making invaluable observations to help determine its size, rotation, surface details, and, most notably, shape.",
        "",
        "This close approach provided the first opportunity to take a detailed look at the asteroid since it was discovered in 2011, revealing an object about 1,600 feet (500 meters) long and about 500 feet (150 meters) wide—dimensions comparable to the Empire State Building. The powerful 230-foot (70-meter) Goldstone Solar System Radar antenna dish at the Deep Space Network's facility near Barstow, California, revealed the dimensions of this extremely elongated asteroid.",
        "\"Of the 1,040 near-Earth objects observed by planetary radar to date, this is one of the most elongated we've seen,\" said Lance Benner, principal scientist at JPL who helped lead the observations.",
        "The Goldstone radar observations took place from Jan. 29 to Feb. 4, capturing several other details: Along with a large, broad concavity in one of the asteroid's two hemispheres, 2011 AG5 has subtle dark and lighter regions that may indicate small-scale surface features a few dozen meters across. And if the asteroid were viewed by the human eye, it would appear as dark as charcoal. The observations also confirmed 2011 AG5 has a slow rotation rate, taking nine hours to fully rotate.",
        "Beyond contributing to a better understanding of what this object looks like up close, the Goldstone radar observations provide a key measurement of the asteroid's orbit around the Sun. Radar provides precise distance measurements that can help scientists at NASA's Center for Near Earth Object Studies (CNEOS) refine the asteroid's orbital path. Asteroid 2011 AG5 orbits the Sun once every 621 days and won't have a very close encounter with Earth until 2040, when it will safely pass our planet at a distance of about 670,000 miles (1.1 million kilometers, or nearly three times the Earth-Moon distance).",
        "\"Interestingly, shortly after its discovery, 2011 AG5 became a poster-child asteroid when our analysis showed it had a small chance of a future impact,\" said Paul Chodas, the director for CNEOS at JPL. \"Continued observations of this object ruled out any chance of impact, and these new ranging measurements by the planetary radar team will further refine exactly where it will be far into the future.\"",
        "CNEOS calculates every known near-Earth asteroid orbit to provide assessments of potential impact hazards. Both the Goldstone Solar System Radar Group and CNEOS are supported by NASA's Near-Earth Object Observations Program within the Planetary Defense Coordination Office at the agency's headquarters in Washington.",
        "More information:\t\t\t\t\t\t\t\t\t\t\t\tMore information about planetary radar, CNEOS, and near-Earth objects can be found at: www.jpl.nasa.gov/asteroid-watch",
        "Provided by\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tNASA",
        "Explore further",
        "Facebook",
        "Twitter",
        "Email",
        "Feedback to editors",
        "1 hour ago",
        "1",
        "2 hours ago",
        "0",
        "2 hours ago",
        "0",
        "4 hours ago",
        "0",
        "4 hours ago",
        "0",
        "9 minutes ago",
        "18 minutes ago",
        "37 minutes ago",
        "1 hour ago",
        "1 hour ago",
        "1 hour ago",
        "1 hour ago",
        "1 hour ago",
        "1 hour ago",
        "1 hour ago",
        "Jan 25, 2023",
        "Jan 26, 2023",
        "Mar 26, 2021",
        "Sep 6, 2017",
        "Sep 3, 2021",
        "Aug 18, 2017",
        "2 hours ago",
        "4 hours ago",
        "Feb 21, 2023",
        "Feb 20, 2023",
        "Feb 20, 2023",
        "Feb 20, 2023",
        "Use this form if you have come across a typo, inaccuracy or would like to send an edit request for the content on this page.\t\t\t\t\t\t\t\t\t\t\tFor general inquiries, please use our  contact form.\t\t\t\t\t\t\t\t\t\t\tFor general feedback, use the public comments section below (please adhere to guidelines).",
        "Please select the most appropriate category to facilitate processing of your request",
        "Thank you for taking time to provide your feedback to the editors.",
        "Your feedback is important to us. However, we do not guarantee individual replies due to the high volume of messages.",
        "Your email address is used only to let the recipient know who sent the email. Neither your address nor the recipient's address will be used for any other purpose.\t\t\t\t\t\t\t\t\t\t\tThe information you enter will appear in your e-mail message and is not retained by Phys.org in any form.",
        "",
        "Get weekly and/or daily updates delivered to your inbox.\t\t\t\t\tYou can unsubscribe at any time and we'll never share your details to third parties.",
        "More information\t\t\t\t\tPrivacy policy",
        "Medical research advances and health news",
        "The latest engineering, electronics and technology advances",
        "The most comprehensive sci-tech news coverage on the web",
        "This site uses cookies to assist with navigation, analyse your use of our services, collect data for ads personalisation and provide content from third parties.                    By using our site, you acknowledge that you have read and understand our Privacy Policy                    and Terms of Use."
      ]
    },
    {
      "title": "Show HN: We’re open-sourcing our session replay tool",
      "link": "https://github.com/highlight/highlight",
      "page": [
        "highlight.io: The open source, full-stack monitoring platform. Error monitoring, session replay, logging and more.",
        "Use Git or checkout with SVN using the web URL.",
        "Work fast with our official CLI.      Learn more.",
        "Please                sign in                to use Codespaces.",
        "If nothing happens, download GitHub Desktop and try again.",
        "If nothing happens, download GitHub Desktop and try again.",
        "If nothing happens, download Xcode and try again.",
        "Your codespace will open once ready.",
        "There was a problem preparing your codespace, please try again.",
        "",
        "",
        "Docs - Community (Support & Feedback) - Feature request - Bug report",
        "highlight.io is a monitoring tool for the next generation of developers (like you!). Unlike the age-old, outdated tools out there, we aim to build a cohesive, modern and fully-featured monitoring solution, something we wished WE had. And it's all open source :)",
        "At a high level, highlight.io's feature set is:",
        "Read more about our features below.",
        "We strive to make highlight.io as easy to install as a few lines of code in any environment.",
        "Read more about our features, values and mission below, and get started at https://highlight.io today!",
        "The fastest and most reliable way to get started with highlight.io is signing up for free at app.highlight.io. After making an account, getting started is as easy as installing the client SDK snippet.",
        "Deploy a hobby instance in one line on Linux with Docker (recommended 16 CPU cores, 32GB RAM, 256GB disk):",
        "After a brief frontend load time, the app should be accessible at https://localhost:3000",
        "Good for <10k sessions and <50k errors ingested monthly. See our docs for more info and limitations.",
        "See our enterprise self-hosted docs to deploy a scalable, production-ready instance with support from our team.",
        "",
        "",
        "Our logging product is still in beta, but please message us in discord if you'd like a sneak peak of what we're building. We'd love for you to try an early version to share feedback.",
        "Have an idea for what we should build next? Please share our community or via a Github Issue!",
        "Read a full list of highlight.io features.",
        "All of our SDKs for highlight.io can be found in the sdk directory. We currently support:",
        "Our mission is to support developers like you in shipping with confidence. We do this by giving you the tools you need to uncover, resolve, and prevent issues in your web app.",
        "We strive to build in public in every way we can. This means that what we built, what we're building, and what we plan to build is shared with the world.",
        "People may think that we're building multiple products (session replay, error monitoring, etc..). But we see it as one. Before we build anything new, we prioritize making it operate seemlessly with everything else.",
        "If you're building software, why should you care about grafana or loki or the elk stack? highlight.io is built for developers that want to develop. Leave the monitoring stuff to us 👍.",
        "Read more about our values here.",
        "highlight.io: The open source, full-stack monitoring platform. Error monitoring, session replay, logging and more."
      ]
    },
    {
      "title": "Motion Canvas – Visualize complex ideas programmatically",
      "link": "https://github.com/motion-canvas/motion-canvas",
      "page": [
        "Visualize Complex Ideas Programmatically",
        "Use Git or checkout with SVN using the web URL.",
        "Work fast with our official CLI.      Learn more.",
        "Please                sign in                to use Codespaces.",
        "If nothing happens, download GitHub Desktop and try again.",
        "If nothing happens, download GitHub Desktop and try again.",
        "If nothing happens, download Xcode and try again.",
        "Your codespace will open once ready.",
        "There was a problem preparing your codespace, please try again.",
        "",
        "",
        "Motion Canvas is two things:",
        "It's a specialized tool designed to create informative vector animations andsynchronize them with voice-overs.",
        "Aside from providing the preview, the editor allows you to edit certain aspectsof the animation which could otherwise be tedious.",
        "Check out our getting started guide to learn how to use Motion Canvas.",
        "The project is maintained as one monorepo containing the following packages:",
        "After cloning the repo, run npm install in the root of the project to installall necessary dependencies. Then run npx lerna run build to build all thepackages.",
        "When developing the core, start both core:watch and template:serve.",
        "This will pick up any changes you make to the core package, automaticallyrebuild the template project and refresh the page.",
        "Similarly, when developing the 2D package, start 2d:watch andtemplate:serve.",
        "If you want to develop the UI, first build the template project by running:template:build. Next, start ui:serve.",
        "Like with UI, to develop the player, first build the template: template:build.Then, start player:serve.",
        "Read through our Contribution Guide to learn how you canhelp make Motion Canvas better.",
        "Visualize Complex Ideas Programmatically"
      ]
    },
    {
      "title": "Poste.io – Complete Mail Server",
      "link": "https://poste.io/",
      "page": [
        "SMTP + IMAP + POP3 + Antispam + Antivirus            Web administration + Web email            ...on your server in ~5 minutes",
        "You can have full-featured mailserver installed in couple minutes mostly waiting until script get job                done. Whole package was designed with sane defaults to start quickly without knowing internals and                without doing decisions which can break e-mail system.",
        "User data and configuration is strictly separated from binaries. User database is stored in SQLite                database - in file. Therefore Poste.io can be fully used with external storages. Migration, backups                or updates are therefore very easy and mostly consist of files manipulation.",
        "Poste.io is created since beginning with security in mind. Internet history is full of painful security                incidents, so we traded old email clients compatibility and insecure authentication methods for features                which fits modern security requirements.",
        "Installing full featured mail server from Open Source components is not simple task - see schema. Making the necessary plumbing with easy to use web administration is        another challenge. Installation of poste.io consists of three easy steps and couple minutes to        have ready to use full featured robust email server."
      ]
    },
    {
      "title": "Connecting a 1980s Pinball Machine to the Internet",
      "link": "https://eli.lipsitz.net/posts/internet-connected-pinball/",
      "page": [
        "I built a device that allows a pinball machine from 1984 to automatically upload scores to the internet. The device taps into the machine’s memory bus and monitors the game state, uploading scores after each game.",
        "Growing up, my family owned an old pinball machine, a 1974 Williams Strato-Flite. Strato-Flite is an electromechanical (EM) pinball machine. In an EM machine, the game logic, scoring, and everything else is implemented through the use of relays, motors, and switches. As a result, Strato-Flite is quite primitive by modern standards. Even so, it’s impressive what the engineers at Williams were able to do with these constraints.",
        "I’m really fortunate to have grown up with a Strato-Flite machine. Although pinball peaked in popularity long before I was born, I gained an appreciation for the game.",
        "Me playing Strato-Flite (a while ago)",
        "Some time later, my family acquired another pinball machine, a 1984 Williams Laser Cue. In the ten years between the two machines, there were immense advancements in the world of pinball, enabled by integrated circuits and microprocessors.",
        "Strato-Flite and Laser Cue",
        "I was impressed by the new machine: it had flashing lights, a simple soundtrack, sound effects, and a digital score display. Additionally, the gameplay was more complex and engaging. The overall objective of the game is to hit a series of switches in a particular order to earn “pool balls”. Some switches increase score multipliers and bonuses, or provide additional ways to earn “pool balls” and extra plays. Notably, unlike Strato-Flite, Laser Cue maintains each player’s playfield throughout the whole game. It’s a lot more fun to be able to build up your progress over the course of the game.",
        "Pinball machines with integrated circuits are referred to as “solid state” machines. Those with microprocessors generally have another interesting feature: high scores. With Strato-Flite, you’d have to write down your best scores if you wanted to brag. Laser Cue, however, flashes the four highest scores whenever a game isn’t being played.",
        "Laser Cue high score display",
        "It was cool to see the top four scores, but it would be even cooler to be able to view all of the scores, when the game was played, and who earned the score. Ideally, I wanted the scores to be displayed on a website, automatically uploaded by the machine. I set out to build a device that would add internet connectivity to Laser Cue.",
        "I’m not the first person to think of doing this to a pinball machine. There’s even a commercial off-the-shelf product for this: Scorbitron. Scorbitron is an impressive-looking piece of hardware, but it requires a $300 probe and a monthly subscription. Plus, what’s the fun of buying something when you could spend dozens of hours building it yourself? And perhaps most importantly, it doesn’t actually support Laser Cue.",
        "I set a couple of goals for this project:",
        "There was one more constraint: I don’t live near the machine, so I’d have only occasional opportunities to test my device.",
        "Generally, a pinball manufacturer would engineer a common pinball platform, and then use it to build many different pinball games, each with their own theming and gameplay.",
        "Laser Cue is a Williams System 7 game. The linked PinWiki article has a wealth of information about the system, and served as an important resource for this project. System 7 is driven primarily by a Motorola 6808 microprocessor, with the help of a few Motorola MC6821 Peripheral Interface Adapters (PIAs) to control the display, playfield lamps, solenoids, and switches. It has 1 KiB of RAM, up to 12 KiB of ROM, and 128 bytes of battery-backed CMOS RAM (for storing scores and bookkeeping information). The main board that holds the microprocessor, RAM, and ROM chips is referred to as the MPU board. The machine uses 5 V TTL logic, compared to the 3.3 V (or less!) CMOS logic used by most modern microcontrollers.",
        "Pinball machines generally came with manuals and detailed schematics to help operators troubleshoot and repair their machines. The System 7 schematics are freely available, and pretty easy to understand with some basic knowledge of digital electronics. The ICs used in the machine have long since been discontinued, but the datasheets for the important ones are fortunately easy to find online.",
        "The Motorola 6808 (datasheet) is an 8-bit microprocessor that runs at 1 MHz, with a 16-bit address bus and an 8-bit data bus. Like the rest of the logic ICs, it uses 5 V TTL logic.",
        "All System 7 machines share a common operating system, called the Flipper ROM. It’s a pretty impressive piece of software: it occupies only 6 KiB of ROM, and implements a multithreaded virtual machine with facilities for keeping track of switches, solenoids, and lamps. Individual games (such as Laser Cue) have their own Game ROM that contains the logic for the specific game. The software side of the system is well documented by Jess Askey in his unofficial Williams Level 7 Programming Manual, and on GitHub.",
        "From Jess Askey’s documentation, we can see that the 1 KiB of RAM is mapped at 0x0000 - 0x00FF and 0x1000 - 0x13FF (the low 256 bytes are mapped to two locations for compatibility reasons). The game has two 4-byte score buffers for each player (0x38 and 0x48 for player 1, 0x3C and 0x4C for player 2, etc.). The scores are stored as binary-coded decimal (BCD), where each 4-bit nibble represents one decimal digit of the score. The pairs of buffers are used for quickly swapping between two scores, to alternate between the previous game’s scores and the high scores after a game over. Other memory locations store the game over flag, the current player, the current ball, and other game information.",
        "Since all of the data is stored in external RAM chips (the MC6808 has no internal RAM), my approach was straightforward: build a device that taps into the CPU’s memory bus and watches for writes to RAM. The device would monitor key memory locations (score buffers, game state), then wait for a game over event and upload the scores. Modern microcontrollers run far faster than 1 MHz, so I figured it would be possible to do this without too much trouble.",
        "The 6808 is a 40-pin DIP IC, and it’s inserted into a socket on the MPU board, rather than being directly soldered into the PCB. My original idea was to create an interposer board that would plug into the CPU socket, containing another IC socket (that the actual 6808 would be plugged into), with wires to connect the memory bus to a WiFi-enabled microcontroller. I found a blog post from someone who did a similar thing, with a Z80 on a 1987 arcade game.",
        "MPU board, highlighting the MC6808 microprocessor",
        "This approach has the advantage of avoiding a permanent modification to the machine. The interposer board could be removed, and the CPU inserted back into the slot. I spent a significant amount of time researching different types of pin headers, trying to figure out which ones would fit most easily into the socket without damaging it. Unfortunately, the common square pin headers are a fair amount thicker than DIP IC pins. Although I wasn’t able to find any headers that mimicked IC pins, I found a couple of options that seemed thin enough.",
        "Physical diagram of the MC6808",
        "However, when I decided to remove the 6808 from the machine to take a few more measurements, I found out that it took a large amount of force to remove. The MPU board is fairly large, and the board itself is thin and flimsy-feeling, so the circuit board was flexing an uncomfortable amount when I was trying to unseat the chip. I was worried that I would damage the machine, so I decided to stop and figure out a safer way to remove the chip.",
        "During another read-through of the PinWiki page, I noticed that it said the System 7 MPU boards had an unpopulated 0.1 inch 2x20-pin connector, with pads that connected to all of the important signals on the board, including the entire memory bus. Presumably, Williams used this to test MPU boards during manufacturing or to perform diagnostics. I took another look at my machine’s MPU board and observed that the connector was present, as expected.",
        "Unpopulated MPU test pads",
        "Although using this connector would involve permanently modifying the board (to solder in some headers), it seemed like a more reliable and simpler way to tap into the memory bus. My device would just need a matching 2x20 pin connector, and then I’d have easy access to all of the relevant signals.",
        "I started by reaching for the Espressif ESP32, a powerful (dual 240 MHz Xtensa cores) and inexpensive microcontroller with built-in Wi-Fi. The ESP32 input pins are apparently 5V tolerant (apparently confirmed by the CEO of Espressif, albeit not listed in the datasheet). This meant I wouldn’t need to use any additional chips to shift the 5 V logic of the 6808 down to the 3.3 V logic of the microcontroller. However, I quickly spotted a problem: in order to decode the MC6808 memory bus, I’d need 27 inputs: 16 for the address bus, 8 for the data bus, one for the clock, one for the “valid memory address (VMA)” signal, and one for the “read/write” signal. On my 30-pin ESP32 dev board, there are only 25 GPIOs exposed. And of those exposed GPIOs, three of them have boot-time behavior that renders them unsuitable (e.g. they’re sampled at boot to configure the SoC, or they output a signal at boot, which could damage the pinball machine).",
        "ESP32 dev board",
        "I resolved this problem by realizing that since I only care about the 1 KiB RAM region, I didn’t actually need the microcontroller to decode the full address bus. As long as it could access the lower 10 bits, I could use external logic to decode the upper bits (and control signals) to determine if there was a valid write to the RAM regions. This substantially cut down on the number of inputs needed: 10 for the address bus, 8 for the data bus, one for the clock, and one for the decoded “valid write to the RAM region” signal, for a total of 20 inputs.",
        "Next, I had to figure out how I’d do the address/control decode. My initial thought was to use discrete 74-series logic chips, which is what the System 7 MPU does. However, it would be pretty annoying to hand-wire them all up. I thought about using an FPGA, but that would be way overkill, plus modern FPGAs are not 5 V tolerant, don’t come in DIP packages, and FPGAs were nearly impossible to find (due to the chip shortage). A multitude of Google searches later, I found the Microchip ATF16V8B. The ATF16V8 is an electronically programmable logic chip with 250 gates (more than I need, but nothing ridiculous) and up to 18 I/O pins. Plus, it’s available as a DIP IC, it’s 5 V tolerant (but outputs 3.3 V signals), and it was readily available for cheap from sources like DigiKey and Mouser.",
        "The ATF16V8 is kind of annoying to program, requiring an old Windows-only program called WinCUPL (I didn’t have much luck with the open-source alternatives), and an EEPROM programmer. I didn’t have an EEPROM programmer, and I didn’t feel like buying a TL866II Plus that I’d probably only use once. Instead, I found Afterburner, a programming device I could build myself with an Arduino. I probably should have just bought the TL866II Plus though. It was a pain to acquire the MT3608 voltage booster module that Afterburner used (and modify it to break out the IC’s “enable” pin), and build the thing on a breadboard. But it worked, so there’s that.",
        "Programming the ATF16V8 with the Afterburner rig",
        "I read the address decode logic off of the MPU schematic. After writing a short script to test my interpretation of the logic, I realized that something was off: the memory regions that my logic decoded to the RAM didn’t align with the memory map in the Programming Guide. After double and triple checking my logic, I realized that there must be an error in the schematic. I used a logic probe to test various connections on the board, and found out that an input to one of the gates was mislabeled as “A7”, when it should have been “A9”.",
        "Pin 5 of IC31 is actually connected to A9",
        "I probed some other connections to be extra sure, but I didn’t find any other errors. Satisfied the logic was correct, I wrote and compiled the ATF16V8 program with WinCUPL. In total, I used 7 inputs (A8, A9, A12, A13, A15, R/W, and VMA) and one output (“write enable”), with plenty of pins left unused on the chip.",
        "Next, I thought about what the ESP32 would do. I decided to dedicate an entire core to reading the memory bus and maintaining a 1 KiB shadow buffer that reflected the state of the RAM. Then I’d have the other core periodically check on addresses that I care about (reading scores and detecting game overs), as well as all of the other tasks, like Wi-Fi and uploading scores.",
        "I was most concerned about the timing-sensitive code reading from the memory bus. To meet the 1 MHz clock, I had a budget of 1000 nanoseconds to detect each memory read. The ESP32 has two banks of GPIO, pins 0-31 in bank 1, and 32-39 in bank 2. Each bank can be read with a single 32-bit memory read that takes approximately 50 nanoseconds. Even though my inputs were spread across both banks and I had to do bit operations to extract the relevant signals, I clearly had plenty of time remaining in the budget.",
        "MC6808 bus timing diagram",
        "The 6808 datasheet had a very helpful bus timing diagram, from which I derived a few key pieces of information:",
        "There’s plenty of time to read the address signal, but the timing is tight for the data signal. Since it’s only valid for 30 ns after the clock goes low, and a GPIO read takes 50 ns, I decided to continuously read the data signal, relying on the clock falling to know whether the read was actually valid. This leads to a simple algorithm, synchronized to the clock signal:",
        "Even though the ESP32 apparently had 5 V tolerant inputs, I decided to use 5 V to 3.3 V level shifters anyway. I was actually more concerned that the voltage levels would be too low. The 6808 datasheet said that the “Output High Voltage” was at least 2.4 V, and the ESP32 datasheet said that the “High-level input voltage” needed to be at least 75% of the supply voltage, or 2.48 V. This was cutting it pretty close, so I decided I’d rather be safe than sorry.",
        "After triple-checking the voltage levels of the 6808 and the ESP32, I settled on the 74LVC245, a level shifter readily available as a DIP IC. Each chip has 8 I/O pairs, and I needed to level-shift 19 signals (10 address, 8 data, and 1 clock). Normally, this would mean I needed three level-shifter chips. However, I realized that I could repurpose the unused pins on the ATF16V8 to save a chip. The ATF16V8 has 18 I/O pins, but I was only using 7. I decided to pass it the clock signal and two of the address signals, using the programmable logic to output the signals level-shifted, but logically unchanged.",
        "My original plan for this project was to solder the chips to a protoboard (example), and hand-wire all of the connections. I looked at custom PCB pricing though, and realized it would be as cheap, easier, and far cooler to design my own PCB.",
        "I used the open-source electronic design software KiCad 6 to design my schematic and PCB. I was extremely impressed by the software. It was easy to use (after following a YouTube tutorial from Phil’s Lab), powerful, and highly polished. Overall, I had a great time designing my first PCB, and I’m excited to do it again some time in the future.",
        "The completed PCB in KiCad",
        "I ordered the PCB from JLCPCB, where it was about $3 plus a few dollars for shipping (I decided to spend an extra dollar to get it lead-free). While I was waiting for the PCB to arrive, I ordered the parts from Mouser. A couple weeks later, the PCBs arrived and I got to hold them in my hand, which was super cool.",
        "The manufactured PCB, in classic green",
        "I soldered everything together with my Pinecil V2. It had been a while since I’d last soldered, so my first few joints were pretty bad. After a couple dozen, I got the hang of it and the rest went smoothly.",
        "The assembled device",
        "After admiring my handiwork, I started testing the device. I wouldn’t have access to the pinball machine for a few more weeks, so I had to simulate the memory bus somehow.",
        "I had recently purchased a Raspberry Pi Pico, because I was intrigued by the Programmable I/O (PIO) of the RP2040. It excels at I/O with precise timing, so I figured it would do a good job simulating the specific timing characteristics of the 6808 memory bus.",
        "The test setup was simple: the Pico generated write signals at 1 MHz at a series of addresses and with a variety of values, to exercise all of the input pins. The PIO was carefully written to simulate the worst-case timing of the 6808 memory bus. The Pico did one million simulated writes, and the ESP32 counted how many it detected and a simple checksum of the data it received.",
        "The test rig",
        "I wrote the test and wired everything together, and it worked… sort of. It was wired up correctly: the ESP32 detected a write to every address and received every one of the possible 256 data values, but the final count was not one million. It was actually about 10k off, meaning about 1% of writes were not properly detected.",
        "I wasn’t okay with missing even a single write — after all, I wanted this to be reliable, and what if that missing write carried an important state change? And given the theoretical timing, there’s no reason the hardware would miss any of the writes.",
        "I spent a while debugging over the next few days. I tried to make sure that the Espressif SDK wasn’t scheduling any work on the second core, with a high priority FreeRTOS task. I attempted to disable interrupts on the second core, but that isn’t really supported by the SDK (and I found a few forum posts about it: [1] [2]). My most successful attempt came when I initialized the second core myself, running FreeRTOS in single-core mode (following someone’s guide). It required some modifications to the Espressif SDK, but even then, I was still missing tens of writes every second.",
        "I came to the unfortunate conclusion that the ESP32 simply wouldn’t work for me. I still don’t understand exactly what the problem was (bus contention? secret interrupts? clock jitter?), but the chip just doesn’t seem well suited for something like this. I read through the ESP32 Technical Reference Manual to see if there was some sort of peripheral that might help, and there were some interesting candidates (I2S and the PWM module), but nothing that ultimately worked for this application.",
        "I was pretty frustrated by the outcome of the first version of the device. I first thought about augmenting the ESP32 with an FPGA, but then I realized that a simpler solution was literally right in front of me.",
        "The PIO on the Raspberry Pi Pico that I was using to test the first version of the device was specifically intended to do this type of job: arbitrary time sensitive I/O. Plus, the Raspberry Pi Pico W was released a few months prior, and it had built-in Wi-Fi, meaning it could fully replace the ESP32.",
        "The RP2040 datasheet is excellent, detailed, and genuinely enjoyable to read. I prototyped a small test with the Picos connected to an FPGA to convince myself that it could reliably perform the necessary I/O, and the test Pico didn’t miss a single simulated write over ten minutes (600 million writes!). It was fun to write PIO programs — it reminded me of programming in Shenzhen I/O.",
        "Raspberry Pi Pico connected to FPGA",
        "I redesigned the PCB, which was actually very easy. The RP2040 is strictly 3.3 V only, but I had already designed the first one with logic level shifters. The Pico also had a much simpler mapping of GPIO to physical pins. I’m sure there’s an explanation for it, but the ESP32’s mapping is pretty strange.",
        "PCB revision 2, in KiCad",
        "I ordered the new PCB and got to work on writing the device software.",
        "I wrote the initial Pico prototypes in C, using the official C/C++ SDK. The SDK works pretty well, but doesn’t really have much for the Pico W (like an HTTP client, web server, OTA updates, etc). At this point I was getting a little sick of the project, so I looked for something that was a bit more batteries-included.",
        "I was intrigued by Embassy, a fully async embedded framework written in Rust. Due to incomplete support for the Raspberry Pi Pico W, I ultimately settled on Arduino-Pico, an unofficial implementation of the Arduino API. The Arduino API is perhaps a bit oversimplified, and makes asynchronous I/O basically impossible, but the project had some very useful libraries built in which let me focus on the interesting parts. The Arduino IDE is abysmal, so I used VS Code with PlatformIO instead.",
        "Pretty quickly I had a basic initial implementation of the device software. It was similar to the ESP32 version: core 1 was dedicated to interfacing with PIO. I probably could have used DMA to free up the core most of the time, but I didn’t end up needing to bother with it. Core 0 handled everything else. It connected to Wi-Fi on boot, hosted a status webpage, watched the shadow memory for a change in game state, and on game over, uploaded the scores from the shadow memory to a Flask webserver.",
        "The PCB arrived and I assembled the new version of the device.",
        "PCB revision 2, now in purple!",
        "Next, I installed the pin header on the pinball machine’s MPU board. First, I had to remove the MPU board from the machine, which was a bit of a challenge. The MPU board is connected to another large circuit board (the “Driver board”) via a large, very important, and apparently unreliable connector. I opted to remove both boards together so I didn’t have to risk breaking the connector.",
        "The boards are connected to the rest of the machine (display, switches, solenoids, sound, etc.) via eighteen different Molex connectors. They had become stiff over the past 40 years, so they were a little difficult to remove.",
        "To solder in the 2x20 header, I first had to clear out the holes on the MPU board, which were plugged with solder. I used a braided copper solder wick to soak up the solder as I melted it, and then I soldered on the connector.",
        "While the board was out, I removed the battery holder from the MPU board. The board needs 3x AA batteries to keep the CMOS RAM powered to maintain the high score list while the machine is off. I’d read that these batteries could sometimes leak onto the circuit board, causing substantial damage. To avoid this, I installed an enclosed battery pack that was connected to the MPU board by a long wire, so that the batteries would be located away from the MPU board if they ever leaked.",
        "I screwed the boards back into the machine and carefully reconnected all of the Molex connectors. Then I turned the machine back on and… it didn’t work.",
        "The display was showing what appeared to be an error message. I was afraid I had broken the machine, but I did some googling and realized that this was the expected behavior after the CMOS RAM loses power (when I replaced the batteries). The machine just needed to be reset with the coin door open, and then it started working again.",
        "The device plugged into the pinball machine",
        "I plugged in my board. It connected to Wi-Fi and I loaded the status webpage, which showed that the device wasn’t detecting any memory writes at all. I realized that while I had connected the “output enable” pin of the three chips to one of the RP2040 GPIOs, I forgot to actually turn it on. I fixed that and while the device still didn’t work, it was at least able to see the pins change.",
        "I was worried that my trick of using the ATF16V8 to level-shift some of the signals, including the critical clock signal, didn’t actually work. I used a cheap logic analyzer directly on the MPU board and on my own board (downstream of the level shifters and ATF16V8) and confirmed that the signals were as I expected. I was a little bit stumped, but in the process of moving code around I got it to work.",
        "I’m still not 100% sure what the issue was, but I think I wasn’t properly synchronizing the shared data between the two cores of the RP2040. Normally, I’d use atomic memory accesses (in this case, relaxed), but the RP2040 doesn’t have atomic instructions, so the libc excludes the atomics. Instead, I had to mark the shared memory as volatile to ensure that the compiler actually performed the writes so that the other core could see them.",
        "After that software fix, the device worked! The device received the writes, at a rate of about 40K per second, so only 4% of clock cycles involved writes to RAM. I started up a new game of Laser Cue, and via manual inspection confirmed that the shadow memory on the device correctly reflected the scores in the game.",
        "Once I got the core functionality of the device working, the rest of the project was relatively straightforward.",
        "I implemented the functionality for the device to periodically poll the state of the shadow memory to determine when a game starts and ends. At the end of each ball I also snapshot the entire shadow memory to track the state of the game over time. Once the game ends, it uploads the memory snapshots to the webserver, which processes them to extract the score information.",
        "If the device fails to upload the scores, it saves them locally on its flash storage, periodically re-attempting the upload. This ensures scores aren’t lost if the Wi-Fi drops or the score server goes down.",
        "The web interface shows a simple table with scores, sortable by date and score. Clicking on a score displays a score breakdown for that game by player and ball. After the game ends, you can also “claim” a score by tapping on it and entering your initials.",
        "Score webpage, showing high scores",
        "Score webpage, showing game detail page",
        "Overall, this was a really fun project. I learned some new skills (PCB design) and built a cool, somewhat useful toy.",
        "There were a few things I wish I had done differently:",
        "And a few things that I could maybe see myself doing in the future:"
      ]
    },
    {
      "title": "Is Artificial Light Poisoning the Planet?",
      "link": "https://www.newyorker.com/magazine/2023/02/27/darkness-manifesto-book-johan-eklof",
      "page": [
        "To revisit this article, select My Account, then View saved stories",
        "To revisit this article, visit My Profile, then View saved stories",
        "By Adam Gopnik",
        "Among the many looming ecological disasters that terrify us today, one that only a handful of people have contemplated as sufficiently looming and terrifying is the loss of the bats in our belfry. According to “The Darkness Manifesto” (Scribner), by the Swedish ecologist Johan Eklöf, most churches in southwest Sweden had bat colonies back in the nineteen-eighties, and now most of them don’t. Light pollution, his research suggests, has been a major culprit: “District after district has installed modern floodlights to show the architecture it’s proud of, all the while the animals—who have for centuries found safety in the darkness of the church towers and who have for 70 million years made the night their abode—are slowly but surely vanishing from these places.”",
        "The presence of bats in the belfry, as a metaphor for disordered thinking, is usually taken to refer to the way bats would flutter around the upper stories of distressed churches, but a larger madness, Eklöf thinks, is responsible for their absence. A professor at Stockholm University, he is an expert in bats, which might suggest a déformation professionnelle in his interest in darkness, the way an expert in roosters might have a weakness for the dawn. He is able to tell us authoritatively that, though bats do indeed use natural sonar to echolocate their way around, their eyes see well enough in the dark to help in their navigation. (As so often, nature’s secret to survival is not one perfect plan but a little bit of this and a little bit of that.) Of course, Eklöf’s arguments escape the narrow world of roof eaves and pointy ears. Though the book is written as a sort of “Silent Spring” manifesto against the ecological devastations of light pollution, its considerable charm depends on the encyclopedic intensity with which he evokes the hidden creatures of the night.",
        "Agreeably in love with darkness, Eklöf is not entirely a sentimentalist about it. Sex and violence rule the night sky as much as they ruled the drive-in movies that the night sky once superintended. What governs the sunless vistas is not a peaceable kingdom but a fierce contest for life, occasionally made vivid for us by the fiery, bioluminescent nature of its display. The firefly is signalling and winking as desperately as a Raymond Chandler heroine for a mate, until a greedy frog, like a Chandler gangster, stops everything and devours it. Eklöf makes it clear that the great Cambrian explosion of species, which began the evolution of animal eyes that could translate light into images, was set off by the advent of predation and countermeasures to it. Advanced animal evolution—and optical perception—began when creatures realized that they could make a better living by eating one another than by staying in place and absorbing nutrients from the ooze around them. Teeth and shells, claws and hide, rose in a flurry, and among the foremost of the defenses were eyes to sense the presence of a predator.",
        "Read our reviews of notable new fiction and nonfiction, updated every Wednesday.",
        "The difference between light and dark is, in a way, arbitrary: what counts as light and what as darkness depends on what wavelengths we discern. But the nocturnal world gives rise to creatures, equipped with large-pupilled and infrared-sensitive eyes, that see what we cannot and that, under cover of darkness, act as we can only imagine. And so Eklöf’s book is made most memorable by the sometimes wild eccentricities of the life-forms it chronicles. Though his catalogue of catastrophe is real, what one most remembers are the beasts in his bestiary.",
        "We learn, for instance, of the ghost moths, a species in which the adult males appear in fields in twilight, white as their namesakes and just as evanescent-seeming, floating eerily as they signal to the females—only to mate once and then fall to the ground dead. Mouthless by nature, they, like various others of their order, never feed at all in their adult lives. They do not sow, or reap; they merely fornicate once in the dark and die. (The females carry the eggs from their lonely coupling to distribute across the fields, and then die themselves.) Though Eklöf tells us that these Tristan-and-Isolde-like creatures are threatened by the confusing presence of artificial light and that moths play a crucial role as pollinators (“something of invaluable importance for keeping our ecosystem intact and thriving”), what one recalls is the plaintive doom of their couplings.",
        "Biological creatures ourselves, we pair our lives with the rest of biology. “It is fascinating to imagine how nocturnal animals experience their existence in the dark, how their brains interpret sensory stimuli,” Eklöf writes. He cites approvingly Thomas Nagel’s famous philosophical essay on why we as humans cannot know what it feels like to be a bat. And yet we can imagine it—certainly, we can imagine what it would be like to be an owl. We may not live as owls do, mating once to make baby owls and then, after the owlets have safely flown away, going off to separate perches. But we can imagine how it would feel to soar alone all night, see your spouse for a brief period to raise the kids, and then head off for a divorced life in your own studio on the opposite side of town. A naturalist’s acts of empathy can be emancipating even if incomplete.",
        "Alongside the spectral ghost moths come the speckled and companionable cabbage moths, as ready for one-night stands as Bobby in Sondheim’s “Company.” Only after the sun sets does the adult moth, having crawled from its chrysalis, look for a mate. “The female takes the first step by extending her antennae forward, flapping her wings, and secreting scents, at around ten in the evening,” Eklöf writes. “The two spend the night together, one wing of the female around the male’s body, then she leaves to lay the fertilized eggs.” But light ruins the romance: “The female emits fewer pheromones in the presence of artificial light, and furthermore, the composition of the scent is completely different from that emitted in darkness. So mating never gets started. The females wait in vain in the darkness.”",
        "For all the poetic appeal of his examples, Eklöf has come to us from Sweden—his book is translated by Elizabeth DeNoma—bearing a noirish moral. The source of all this harmful light is, of course, us, city-dwelling human beings, who are presumably keeping the lights on all night in pursuit of our own couplings. Where once human life had its nocturnal rhythms, interrupted only by the dim light of candles and fireplaces, the Earth is now so lit up that, seen from space, it glows like a Japanese lantern. Since the invention of the light bulb, street lights and floodlights have come, ominously, to disturb age-old circadian rhythms, to the point that, Eklöf writes, “artificial light, the polluted light, is now dominant—light that causes birds to sing in the middle of the night, sends turtle babies in the wrong direction, and prevents the mating rituals of coral in reefs, which take place under the light of the moon.”",
        "It turns out that the strongest source of illumination on Earth is not some helpful harborside lighthouse but the “sky beam” atop the Luxor Hotel, in Las Vegas. Creating forty-two billion candlepower of light every night, meant merely as a come-on to tourists and gamblers, it unintentionally excites and undoes flocks of birds, genetically programmed by evolution to fly toward bright light—and, in 2019, attracted clouds of grasshoppers, who flew toward the pseudo-Egyptian pyramid with all the horror of a pseudo-Egyptian plague. “Every evening Nevada’s meteorologists could see on their radar screens the swarms approach Las Vegas,” Eklöf says. Whoever would have imagined that reconstructing an Egyptian tomb and sending a piercing pillar of light from it to the heavens would reawaken an ancient curse—that is, aside from every screenwriter with a spec script? The, er, black comedy of this effect is not lost on Eklöf, but he sees it as something less than entertaining. In recent decades, he tells us, the biomass of all flying insect species has, by some measures, collapsed by close to seventy-five per cent.",
        "Nor are bugs and birds alone affected by the light; so are plants, and so are humans. Our eyes adapt badly to darkness, and our night vision—which is activated by the pigment protein rhodopsin—takes a long while to turn on, as anyone who leans back on a car roof to watch the evening stars knows. By now, cities such as Singapore and Hong Kong are so brightly lit that their inhabitants scarcely call on night vision at all, and, as their rhodopsin becomes superfluous, they may well create descendants who, in even middling darkness, are as blind as, it turns out, bats are not.",
        "Link copied",
        "The really insidious light pollution that people experience is of the indoor kind: our laptops and our devices bathe us in their light, and we find ourselves trapped in the same kind of death spiral that the Luxor beacon creates for the poor Las Vegas grasshoppers. Our daily cycles of melatonin and other sleep hormones are disrupted, with sometimes dire effects. “The body enters a vicious circle where stress and disturbed sleep go hand in hand,” Eklöf writes. “We become vaguely depressed.” Overweight, too: “Obesity has many causes, but one of these is constant low leptin levels, which is a direct result of the breaking down of the melatonin circle.” The grasshoppers beam down to their burning death; we just grow chubby and cheerless.",
        "Eklöf insists that doom is still avoidable. “Light pollution is the easiest of all environmental problems to solve, at least technically,” he writes. “We, as private individuals, can, with little cost, reduce the amount of our light pollution. With light shades, downward-facing light sources low to the ground, and dim lighting, we can reduce the cities’ total amount of light, as well as the artificial light scattered in the atmosphere.”",
        "Yet the glum practicality of the solution seems inadequate to the wound it describes. “The Darkness Manifesto” has, beyond its ecological arguments, a particular moral temperament. Eklöf does not merely think that too much artificial light is bad for our ecology, which it doubtless is; he thinks that light, and our preference for amplifying it, is in itself morally dubious. In his view, the will to light the night is in essence a will to power. Industrialized capitalism lights up our streets not to assist us on our path home but to show that its empire is inescapable. His point is made with a kind of good-humored if slightly puritanical melancholy that one thinks of as distinctly Swedish; in this spirit, he quotes Strindberg’s observation that electric lighting, presented as betterment, was simply a way of getting workers to work more. Dimming the world is a necessary and reasonable goal, he believes, and he is encouraged by various green initiatives, including Earth Hour, an annual event newly promoted by the E.U., in which electric lights are kept off for sixty minutes, both to discourage power consumption and to remind us of the antique joys of candlelight.",
        "Undoubtedly, the loss of night to artificial illumination is a loss for diversity in every sense, ecological and experiential. Yet we can wonder if what human beings mainly experience as improvements must, in every instance, be subordinated to the “welfare of the planet,” a concept that is itself available only to humans. Nor are Eklöf’s examples always exemplary. He notes that van Gogh’s “Starry Night” could not be readily painted today, given the light pollution of contemporary Provence. (“Maybe this was a manifestation of his inner darkness, or simply how the night sky could be experienced as crackling and chaotic—before the entry of electric light.”) But the gas lamps of London, enemies of night, were themselves another haunting Romantic subject, as van Gogh knew from his love of Whistler, with an equivalent poetry of their own, while in his earlier “Starry Night Over the Rhône” the bright lights of human habitation are themselves made to shine with an almost celestial aura.",
        "Inevitably, what presents itself as empirical inquiry reflects a cultural mood. Every environmental apocalypse bears the imprint of the apocalyptic imagination of its time: even the Book of Revelation, with its raptures and its scarlet woman, has a rich underpinning in Roman imperial politics. In the same way, Paul Ehrlich’s “The Population Bomb” (1968), now much derided, shared a semantic space with the sculptor Robert Smithson’s “Nonsites,” site-specific installations that were made in the same year and produced photographic monuments to the entropic wilderness of blighted post-industrial landscapes. Ehrlich’s specific pessimism may have been empirically misconceived, but it was part of the poetic pessimism of its time and perhaps a necessary corrective to a preceding era of pro-growth boosterism—as Smithson’s grim dust piles were correctives to the paradisiacal glow of industrial materials beloved of the other minimalists.",
        "The allure of night is one of the great cultural discoveries of the Romantic era, with its twilight landscapes and piano nocturnes, and Eklöf’s book is, sometimes knowingly and sometimes not, a Romantic one. If nature is made secondary to human will, as in classical and Enlightenment times, then a care for nature expresses itself in bucolics and pastorals—nature as a setting for human amorousness or agriculture. If the value of nature is an absolute, as it was for the Romantics, we discover ourselves in sublime nocturnes and moments of wonder. The Romantic love of darkness is a turn toward the embrace of nature in all her aspects. The faces that seemed hostile to us were to be as welcomed as those which seemed obviously benign.",
        "The Romantic contradiction is that, since nature is in itself moral, no landscape can be left unmoralized by man. When the lights go off, we fumble in the dark for meaning as the ghost moth fumbles for its mate; the loss of night to artificial light thus becomes not merely a mistake but a sin. A few decades ago, expressions of an original taste in natural phenomena were usually sprightly or self-consciously eccentric in tone—Alexander Frater’s wonderful travelogue “Chasing the Monsoon,” in 1990, made the case for rain almost entirely on sensual grounds. Today, we would stress that rain is essential to life, an obvious truth, but one whose emphasis holds virtue to be more important than pleasure. Eklöf’s nocturnal tastes are acceptable now only if we can make them part of a crusade.",
        "It may seem unduly sunny, but surely not false, to say that we need both artificial light and natural darkness. Winged creatures rightly petition us to ease the intensity of the Luxor beam, but the city planners who insisted on mandating a high incandescent signature for every new sign in Times Square—the so-called LUTS (Light Units Times Square) measure—were aesthetes more than despoilers. Times Square must shine to remain timeless. We can want a brightly lit Vegas Strip, while still wanting the desert outside Vegas, or for that matter the suburbs of New Jersey, to offer the spectacle of stars. The Enlightenment taste for progress and the Romantic love of mystery may be cabbage moths who seek each other in the night.",
        "“More light!,” Goethe’s famous deathbed command, was the battle cry of the Enlightenment, which produced the progressive-minded science that eventually gave us the light bulb and the neon sign and the L.E.D. “Turn on the night!,” still the essential cry of the Romantics, from Caspar David Friedrich to Kiss, urges us to love in darkness. The light of reason makes searchlights and lighthouses; the love of darkness asks us to adjust our eyes and egos sufficiently to see as owls do. Seek light in the morning; accept the night when it comes. Then call it a day. ♦",
        "Queen Elizabeth II’s fine-tuned feelings.",
        "After Muhammad Ali, Richard Pryor was the baddest person anywhere.",
        "John and Yoko take Manhattan.",
        "Edith Piaf’s thousand (delightful) ways to bum you out.",
        "Searching for signs of Oprah in O magazine.",
        "Hattie McDaniel arrives at the Coconut Grove.",
        "Fiction by Miranda July: “Roy Spivey.”",
        "Sign up for our daily newsletter to receive the best stories from The New Yorker.",
        "By signing up, you agree to our User Agreement and Privacy Policy & Cookie Statement.",
        "By Will Santino",
        "By Max Barth",
        "By Tommy Siegel",
        "By William Benton",
        "Sections",
        "More",
        "© 2023 Condé Nast. All rights reserved. Use of this site constitutes acceptance of our User Agreement and Privacy Policy and Cookie Statement and Your California Privacy Rights. The New Yorker may earn a portion of sales from products that are purchased through our site as part of our Affiliate Partnerships with retailers. The material on this site may not be reproduced, distributed, transmitted, cached or otherwise used, except with the prior written permission of Condé Nast. Ad Choices"
      ]
    },
    {
      "title": "Google Stopping Coding Competitions",
      "link": "https://developers.googleblog.com/2023/02/celebrate-googles-coding-competitions.html",
      "page": [
        "February 22, 2023",
        "",
        "By: The Coding Competitions Team",
        "Remember 2003? Before Chrome, Google Calendar, Android, and YouTube? When we carefully cleaned up our saved emails because GMail and its gigabyte of storage hadn't arrived? Two decades ago – Google launched a global coding competition called Code Jam, which challenged programmers of all levels to test and hone their skills by racing to solve algorithmic problems.",
        "From there, our coding competition lineup continued to grow. Kick Start began as a contest for recent graduates in China and quickly spread around the world. Hash Code, Google's first team-based challenge, started in Europe. And a first-in-class Distributed Code Jam asked participants to build solutions that could scale when run on multiple machines.",
        "Throughout our coding competitions' 20-year history, you've generated billions of lines of code across millions of submissions. You've gone through hundreds of rounds for thousands of problems and put in millions of hours of code execution and testing. Over a million of you from almost every country worldwide have participated — from experienced programmers to students and everyone in between. And now, just as we invited you to our very first round in 2003, we're asking you to join us for one final event as the competitions come to an end.",
        "Join us on Saturday, April 15, 2023 at 2 p.m. UTC as we host four simultaneous online rounds of competition at varying levels of difficulty. Register now to get in on the action.",
        "And to those who've taken part over the years: It's been an honor to learn, succeed, fail, and have fun coding with you. Through the conceptual art, the slides, the gophers, and the absurd number of pancakes, we did it – and we did it together. Thanks for going on this journey with us.",
        "",
        ""
      ]
    },
    {
      "title": "Loxilb: eBPF based cloud-native service load-balancer",
      "link": "https://github.com/loxilb-io/loxilb",
      "page": [
        "eBPF based cloud-native service load-balancer. Powering K8s|Edge|5G|IoT|XaaS Apps.",
        "Use Git or checkout with SVN using the web URL.",
        "Work fast with our official CLI.      Learn more.",
        "Please                sign in                to use Codespaces.",
        "If nothing happens, download GitHub Desktop and try again.",
        "If nothing happens, download GitHub Desktop and try again.",
        "If nothing happens, download Xcode and try again.",
        "Your codespace will open once ready.",
        "There was a problem preparing your codespace, please try again.",
        "",
        "loxilb is an open source hyper-scale software load-balancer for cloud-native workloads. It uses eBPF as its core-engine and is based on Golang. It is designed primarily to support on-premise, edge and public-cloud Kubernetes cluster deployments, but it should work equally well as a standalone load-balancer. loxilb aims to provide the following :",
        "eBPF based cloud-native service load-balancer. Powering K8s|Edge|5G|IoT|XaaS Apps."
      ]
    },
    {
      "title": "Hope Mirrlees and her curious masterpiece",
      "link": "https://hedgehogreview.com/web-features/thr/posts/a-novelists-reflections-on-useful-fictions",
      "page": [
        "Alan Jacobs is a distinguished professor of humanities in the honors program at Baylor University and a Senior Fellow of the Institute for Advanced Studies in Culture. A prolific essayist, reviewer, and blogger, he is the author of Breaking Bread with the Dead: A Reader's Guide to a More Tranquil Mind, The Year of Our Lord 1943: Christian Humanism in an Age of Crisis, “The Book of Common Prayer”: A Biography, and The Pleasures of Reading in an Age of Distraction, among others.",
        "One way to describe the brilliant Hope Mirrlees, the author of a great novel that still hasn’t found the readership it deserves, is as a satellite member of the Bloomsbury group in early twentieth-century London. She knew them all—during World War II, T. S. Eliot lived for a time at her house in Surrey and wrote parts of the Four Quartets there—but was closest to Virginia and Leonard Woolf. Virginia was sometimes puzzled and even exasperated by her younger friend (they were five years apart in age). In her diary she described Mirrlees as “a very self conscious, wilful, prickly & perverse young woman, rather conspicuously well dressed & pretty, with a view of her own about books & style, an aristocratic & conservative tendency in opinion, & a corresponding taste for the beautiful & elaborate in literature.” In a letter Woolf expressed the same ideas more generously: Mirrlees is “her own heroine—capricious, exacting, exquisite, very learned, and beautifully dressed.” (The immediate juxtaposition of praise for learning and praise for clothing is very Woolfian.)",
        "As a young woman, Mirrlees, under the patronage of the famous actress universally known as Mrs. Patrick Campbell, had attended the Royal Academy of Dramatic Art, but abandoned that path in order to study Greek. At Newnham College, Cambridge—then one of only two women’s colleges in that university—her tutor was the great classicist Jane Ellen Harrison. (A famous classicist of our moment, Mary Beard, wrote a biography of Harrison, and has said that “she was the first woman in England to become an academic, in the fully professional sense—an ambitious, full-time, salaried, university researcher and lecturer. She made it possible for me to do what I do.”)",
        "In 1913, when Mirrlees was twenty-six and Jane Harrison sixty-three, they began to live together, and remained inseparable until Harrison’s death in 1928. No one really understood the relationship, though all saw that it was deeply intimate: The two women developed, for instance, a private mythology in which they were the wives of Harrison’s ancient teddy bear, whom they called the Old One. What outsider can read such language? Some relationships evade our categories. But Harrison spoke of Mirrlees as her “spiritual daughter” and the great gift of her old age.",
        "While Harrison and Mirrlees were living together, Mirrlees wrote three novels, plus an experimental poem called Paris, first published by the Woolfs’ Hogarth Press in 1920. The critic Julia Briggs has called Paris “modernism’s lost masterpiece.” Virginia Woolf thought it “obscure, indecent and brilliant.”",
        "But after Harrison died in 1928, Mirrlees stopped publishing for three decades. Though she never wrote another novel, late in life she had some poems privately published and produced the first half of a biography of the seventeenth-century antiquarian Robert Cotton. No one understands her long silence any more than they understand her relationship with Harrison; but it’s worth noting that her conversion to Roman Catholicism soon after Harrison’s death prompted her to ask what kinds of work and thought were acceptable to God. Thus in a journal entry in the 1930s she made a resolution: “To accept my talent gratefully and to offer it to God. To pray that if it never gets recognition that I may accept it with resignation; and that if it does, I may accept it with humility.” Others have speculated, more prosaically, that her personal wealth—her grandfather and father had been immensely successful businessmen—made publishing unnecessary to her. This commercial background is one of the key ways in which she differed from most of the Bloomsbury set.",
        "The last novel Mirrlees published is called Lud-in-the-Mist (1926), and it is one of the greatest fantasy novels ever written. It is also, I believe, a response to a major work of fantasy that had been published two years earlier, Lord Dunsany’s The King of the Elfland’s Daughter. Dunsany’s novel describes the kingdom of Erl, a mostly rural world that happens to be situated on the boundary of Elfland. Though it has a parliament, it is ruled by a king, as is Elfland, and the world of the book seems largely medieval.",
        "Settings of this sort had been the norm for fantasy since the days of George MacDonald and William Morris, but Mirrlees didn’t think it had to be that way. She seems to have asked herself what a fantasy novel would look like if it were set not in a medieval society but in a later one, not in a feudal society but in a mercantile one. Perhaps her own upbringing among successful capitalists prompted her to think along these lines. In any case, the question led her to a novel unlike any other.",
        "The King of the Elfland’s Daughter begins with the parliament of Erl telling their king that they “wish to be ruled by a magic lord.” By contrast, the second chapter of Lud-in-the-Mist tells how the country of Dorimare, led by the merchants of its capital city, Lud-in-the-Mist, had overthrown a ruling lord who was thought to be too intimate with the practices of Fairyland, and transformed itself into a modern mercantile republic. Which required, these merchants believed, a complete severance of their country’s longstanding relationship with the neighboring realm of Fairy.",
        "The story Mirrlees tells centers on the inability of the senators of Dorimare to prevent smugglers from bringing intoxicating fairy fruit into their city. Thus the main arc of the story is, essentially, a drug war centered on a puzzlingly permeable border. Call it Narcos: Fairy Land Edition. But it is also a story of political intrigue; a cold-case murder mystery; and, above all I think, an extended meditation on the necessary fictions that inevitably sustain any political economy. As I say: a very peculiar book.",
        "In many respects, Lud-in-the-Mist articulates in narrative form the point that philosopher Charles Taylor would make eighty years later in his great book A Secular Age: that Western society at a certain point in its history moved from an understanding of the human self as essentially porous—open to the divine and the demonic—to an understanding of the human self as buffered—self-enclosed, neither vulnerable in the way that the porous self is nor capable of exaltation either. The buffered self is a safer, more predictable self, one that exists in an essentially horizontal world, rather than in the vertical and vertiginous cosmos of medieval Christianity. In the old understanding human beings are made in the image of God but fallen and subject to demonic assault (if also sometimes angelic aid). In what Taylor calls the Modern Moral Order, we are merely rational, sociable animals.",
        "Were one inclined to think in terms of political economy rather than philosophy, one could also describe this change as the Victorian jurist and historian Henry James Sumner Maine did: the move from a world governed by status—the status embodied in a hereditary aristocracy, for instance—to a world governed by contract—agreements entered into formally by competent individuals. “Starting, as from one terminus of history, from a condition of society in which all the relations of Persons are summed up in the relations of Family, we seem to have steadily moved towards a phase of social order in which all these relations arise from the free agreement of Individuals…. we may say that the movement of the progressive societies has hitherto been a movement from Status to Contract.”",
        "Like many other fantasy writers, Mirrlees is interested in what happens if the power of Fairyland cannot be wholly excluded from our well-buffered society. In this case, we see what happens when magic begins to creep back into well-ordered and well-buffered lives. To figure this as essentially a drug war—an inevitably unsuccessful attempt to prevent the smuggling of what one character in the story significantly calls the “commodity” of fairy fruit—is a wonderful conceit and developed with delightful panache, tracing an elegantly oscillating line between the economic and the metaphysical. When one character tells a senator that he should be more aware of the high levels of consumption of fairy fruit among the poor, I find myself murmuring, Fairy fruit is the opiate of the masses.",
        "The makers of modernity, those who helped shepherd the move from a world of porous selves to the Modern Moral Order of rational and sociable beings, thought the world they promoted was more true, more closely correspondent to what-is-the-case, than the “superstitious” world of porous selves had been. Mirrlees is less sure. One of the recurrent themes of Lud-in-the-Mist is the suspicion that the move from a world led by a magical and mysterious aristocracy to a world governed by law is not necessarily a closer approximation to the way things are. Indeed, one of her characters suggests, it is simply a move from one useful fiction to another that those who grasp for power find more useful. “In the eye of the law, neither Fairyland nor fairy things existed. But then, as Master Josiah [a senator and scholar of a previous generation] had pointed out, the law plays fast and loose with reality and no one really believes it.” The law, says Master Josiah Chanticleer’s son Nathaniel, reflecting on his father’s thought, is but “the homeopathic antidote that our forefathers discovered to delusion”—a carefully measured dose of the very delusion we wish to dispel.",
        "It impossible to talk about this in any detail without spoiling the story. Since I will do that now: reader, be forewarned.",
        "What happens at the end of the book is a restoration of magic to Dorimare and Lud-in-the-Mist. In this sense, the end of the story might be thought to resemble that of The King of Elfland‘s Daughter, in which Elfland, which had previously “ebbed” or withdrawn itself from our world, rushes back to enclose the kingdom of Erl, making it a region of Elfland. But in Mirrlees’s tale, that’s not quite how things work out. The once and future mayor of Lud-in-the-Mist, Nathaniel Chanticleer, restores Dorimare’s friendship with Fairyland and not only makes fairy fruit freely available rather than legally prohibited but indeed suggests, as does his friend Ambrose Honeysuckle, that everyone eat it. He is in his own way making the argument that Gore Vidal made half a century ago at the height of an American panic over drug use: Legalize drugs and make them available to anyone who wants them at cost.",
        "But—and here perhaps we should recall Woolf’s description of Mirrlees as a “prickly & perverse young woman”—Master Nathaniel’s radical policy does not result in in Dorimare’s being absorbed into Fairyland. Rather, there is a kind of negotiated contract between the two worlds that in many ways confirms, rather than refutes or overcomes, the mercantile and capitalist character of Dorimare. Fairy fruit becomes so plentiful in Dorimare that it can’t all be eaten, and the people of Dorimare extend their commercial influence by learning how to produce candied fairy fruit, which they then export to the whole world. We witness not the absorption of Dorimare into a magical world but rather the triumph of its commercial expertise and ambition. Fairy fruit becomes indeed a commodity, and a commodity that makes mercantile Dorimare richer and more powerful than it had ever been. For those who grow tired of the merely horizontal world of the well-buffered self, the porous self may now be purchased at a reasonable price. What could go wrong?",
        "Hope Mirrlees lived for fifty-two years after publishing Lud-in-the-Mist, dying at the age of ninety-one in 1978. In the 1970s the novel was reprinted by Ballantine Books, whose editor, Lin Carter, had no idea that Mirrlees was still alive. This led to the tale being discovered by a young Neil Gaiman, who has regularly celebrated it ever since and who rightly calls it “a little golden miracle of a book.” It is not clear that Mirrlees, in her last years, had any idea that her book was being rediscovered; nor do we know whether she would have cared.",
        "© 2023 Institute for Advanced Studies in Culture",
        "Forgot your password?"
      ]
    },
    {
      "title": "Multi-policy-based annealer to solving real combinatorial optimization problems",
      "link": "https://phys.org/news/2023-02-multi-policy-based-annealer-real-world-combinatorial-optimization.html",
      "page": [
        "Click here to sign in with                                                                                                                                    or",
        "Forget Password?",
        "Learn more",
        "share this!",
        "93",
        "13",
        "Share",
        "Email",
        "February 17, 2023",
        "by \t\t\t\t\t\t\t\t\t\t Tokyo Institute of Technology",
        "A fully-connected annealer extendable to a multi-chip system and featuring a multi-policy mechanism has been designed by Tokyo Tech researchers to solve a broad class of combinatorial optimization (CO) problems relevant to real-world scenarios quickly and efficiently. Named Amorphica, the annealer has the ability to fine-tune parameters according to a specific target CO problem and has potential applications in logistics, finance, machine learning, and so on.",
        "",
        "The modern world has grown accustomed to an efficient delivery of goods right at our doorsteps. But did you know that realizing such an efficiency requires solving a mathematical problem, namely what is the best possible route between all the destinations? Known as the \"traveling salesman problem,\" this belongs to a class of mathematical problems known as \"combinatorial optimization\" (CO) problems.",
        "As the number of destinations increases, the number of possible routes grows exponentially, and a brute force method based on exhaustive search for the best route becomes impractical. Instead, an approach called \"annealing computation\" is adopted to find the best route quickly without an exhaustive search.",
        "Yet, a numerical study done by Tokyo Tech researchers has shown that while there exists many annealing computation methods, there is no one method suitable for solving a broad class of CO problems. Therefore, there is a need for an annealing mechanism that features multiple annealing methods (a multi-policy mechanism) to target a variety of such problems.",
        "Fortunately, the same team of researchers, led by Assistant Professor Kazushi Kawamura and Professor Masato Motomura from Tokyo Institute of Technology (Tokyo Tech), have reported a new annealer that features such a multi-policy approach or \"metamorphic annealing.\" Their findings are published in Proceeding of ISSCC2023 and will be presented in the upcoming 2023 International Solid-State Circuits Conference.",
        "\"In the annealing computation, a CO problem is represented as an energy function in terms of (pseudo) spin vectors. We start from an initially randomized spin vector configuration and then update it stochastically to find the minimum energy states by reducing its (pseudo) temperature. This closely mirrors the annealing process of metals where hot metals are cooled down in a controlled manner,\" explains Dr. Kawamura. \"Our annealer named Amorphica features multiple annealing methods, including a new one proposed by our team. This provides it the ability to adopt the annealing method to the specific CO problem at hand.\"",
        "The team designed Amorphica to address the limitations of previous annealers, namely that their applicability is limited to only a few CO problems. This is firstly due to the fact that these annealers are local-connection ones, meaning they can only deal with spin models having local inter-spin coupling. Another reason is that they do not have flexibility in terms of annealing methods and parameter control. These issues were solved in Amorphica by employing a full-connection spin model and incorporating finely controllable annealing methods and parameters. In addition, the team introduced a new annealing policy called \"ratio-controlled parallel annealing\" to improve the convergence speed and stability of existing annealing methods.",
        "Additionally, Amorphica can be extended to a multi-chip, full-connection system with reduced inter-chip data transfer. On testing Amorphica against a GPU, the researchers found that it was up to 58 times faster while using only (1/500) power consumption, meaning it achieves around 30k times more energy efficient.",
        "\"With a full-connection annealer like Amorphica, we can now deal with arbitrary topologies and densities of inter-spin couplings, even when they are irregular. This, in turn, would allow us to solve real-world CO problems such as those related to logistics, finance, and machine learning,\" concludes Prof. Motomura.",
        "More information:\t\t\t\t\t\t\t\t\t\t\t\tAmorphica: 4-Replica 512 Fully Connected Spin 336MHz Metamorphic Annealer with Programmable Optimization Strategy and Compressed-Spin-Transfer Multi-Chip Extension, Proceeding of ISSCC2023.",
        "Conference: www.isscc.org/",
        "Provided by\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tTokyo Institute of Technology",
        "Explore further",
        "Facebook",
        "Twitter",
        "Email",
        "Feedback to editors",
        "1 hour ago",
        "1",
        "2 hours ago",
        "0",
        "2 hours ago",
        "0",
        "4 hours ago",
        "0",
        "4 hours ago",
        "0",
        "9 minutes ago",
        "18 minutes ago",
        "37 minutes ago",
        "1 hour ago",
        "1 hour ago",
        "1 hour ago",
        "1 hour ago",
        "1 hour ago",
        "1 hour ago",
        "1 hour ago",
        "Sep 28, 2022",
        "Aug 17, 2022",
        "Jan 6, 2022",
        "Jan 6, 2021",
        "Feb 27, 2020",
        "Jul 5, 2021",
        "6 hours ago",
        "Feb 21, 2023",
        "Feb 20, 2023",
        "Feb 20, 2023",
        "Feb 16, 2023",
        "Feb 15, 2023",
        "Use this form if you have come across a typo, inaccuracy or would like to send an edit request for the content on this page.\t\t\t\t\t\t\t\t\t\t\tFor general inquiries, please use our  contact form.\t\t\t\t\t\t\t\t\t\t\tFor general feedback, use the public comments section below (please adhere to guidelines).",
        "Please select the most appropriate category to facilitate processing of your request",
        "Thank you for taking time to provide your feedback to the editors.",
        "Your feedback is important to us. However, we do not guarantee individual replies due to the high volume of messages.",
        "Your email address is used only to let the recipient know who sent the email. Neither your address nor the recipient's address will be used for any other purpose.\t\t\t\t\t\t\t\t\t\t\tThe information you enter will appear in your e-mail message and is not retained by Phys.org in any form.",
        "",
        "Get weekly and/or daily updates delivered to your inbox.\t\t\t\t\tYou can unsubscribe at any time and we'll never share your details to third parties.",
        "More information\t\t\t\t\tPrivacy policy",
        "Medical research advances and health news",
        "The latest engineering, electronics and technology advances",
        "The most comprehensive sci-tech news coverage on the web",
        "This site uses cookies to assist with navigation, analyse your use of our services, collect data for ads personalisation and provide content from third parties.                    By using our site, you acknowledge that you have read and understand our Privacy Policy                    and Terms of Use."
      ]
    },
    {
      "title": "Apple Makes Major Progress on No-Prick Blood Glucose Tracking for Its Watch",
      "link": "https://www.bloomberg.com/news/articles/2023-02-22/apple-watch-blood-glucose-monitor-could-revolutionize-diabetes-care-aapl",
      "page": [
        "To continue, please click the box below to let us know you're not a robot.",
        "Please make sure your browser supports JavaScript and cookies and that you are not            blocking them from loading.            For more information you can review our Terms of                Service and Cookie Policy.",
        "For inquiries related to this message please contact            our support team and provide the reference ID below."
      ]
    },
    {
      "title": "There Are No (Absolute) Red Flags in Venture Capital",
      "link": "https://blog.aaronkharris.com/there-are-no-absolute-red-flags-in-venture-capital",
      "page": [
        "Learning by doing, because I can't follow instructions",
        "Let’s accept, for the purposes of this essay, that founders and venture capitalists are engaged in a simple trade. Founders sell business risk for the cash they need to take bigger risks; venture capitalists buy that risk hoping it will one day transmute into reward. Each side does this because they believe that, ultimately, the size of the risk is directly correlated to the scale of the potential reward.",
        "But there’s acceptable risk and there’s unacceptable risk. No sane person is going to invest in a scheme to turn lead into gold, but early-stage startups—and even some mid- and late-stage startups—rarely present such a clear-cut profile. Investors are often under pressure to evaluate seemingly great ideas and teams without all of the information they’d ideally have to decide whether to put their money on the line.",
        "I’ve written in the past about how investors consider the reward side of this process, so let’s focus on the risk side. Some risks are obvious—the market may be too small or the costs too high—not to mention that pesky fact that the future is always ultimately unknowable. But some risks are more idiosyncratic. We call these red flags.",
        "There’s been a lot of talk about red flags recently, mostly in the context of FTX and the diligence that its investors may or may not have done before committing their partners’ funds. I happen to believe that investors did a heck of a lot more diligence than they’re being given credit for having done, but I also think that conversation misses the point. Red flags, when you find them, are rarely deal-killers. They’re just pieces of information, indications of risk. The bigger the reward potential, the more red flags an investor should be willing to accept—or even expect.",
        "Let’s take a look at a specific type of red flag I’ve seen and the nuances it presents: During the diligence process, an investor discovers that the numbers in a pitch don’t match the numbers on a revenue or income statement. This is, without a doubt, cause for concern. There are two major explanations here—either the founder made a mistake or the founder is lying.",
        "If the founder doesn’t seem to understand the numbers, the investor will probably decline the deal—not because of any specter of dishonesty, but rather because the founder is demonstrably incompetent. If the founder gets evasive when confronted, the investor would probably conclude that they’re lying and walk away. But if the founder recognizes the discrepancy as a mistake and quickly corrects it, provided the error is fairly trivial, the investor may lose some confidence but not give up on the deal.",
        "There are other classes of red flags. Sometimes the corporate structure is odd (this was true of Facebook, which in its earliest days granted founder Mark Zuckerberg enough super voting shares to ensure his will would go virtually unchallenged), or the company was originally a non-profit (see: OpenAI). Founders get flagged for not thinking deeply enough about a problem and for thinking too deeply about a problem without taking action. Some investors believe that being a first-time founder is a red flag in and of itself, while others see it as a strong positive.",
        "Remember: Red flags are very rarely outright fraud, and when they are, it’s often obvious only in hindsight. Different investors have different levels of risk tolerance and generally only agree with each other when someone else makes a catastrophically bad and public mistake. Especially in a later stage company, there are so many places for a malicious actor to hide their dirty dealings that it would be incapacitating for any investor to do all the diligence required to definitively eliminate fraud. Such a thing simply isn’t possible. Look at Enron! Look at Madoff!",
        "And finally, on the other side of any red flag is one critical, inescapable question: If the product is selling and the company is making money, how big a problem could it be? What if what looks like a red flag turns out to be a meaningless distraction and the deal you walked away from nets someone else a billion-dollar return? I’m willing to bet that there are investors who passed on Google’s Series A in 1999 because it had almost no revenue—a clear red flag for a company raising $25 million—and are still kicking themselves for it.",
        "All of which is to say that so-called red flags matter, but not in any kind of mechanistic way. And if you flip that around, there’s an important lesson here for founders.",
        "Every business has flaws that could be considered red flags by someone. (If there are absolutely no red flags, that could be the biggest red flag of all! But I digress…) One of the most useful things a founder can do when preparing to raise capital, therefore, is to take as objective a view as possible of their business and know where those red flags are. For instance, delivery businesses generally have low margins relative to software businesses. Some investors won’t touch delivery for that reason, but most are happy to dig deep provided that margins are improving at a high enough rate that they can turn a hefty profit before the company implodes.",
        "One of my favorite misunderstood red flags has to do with the default rate of a lending business. Many founders work hard to demonstrate that their default rate is, effectively, zero. This feels smart, like perfect risk-management. But it is also almost always the wrong answer. Lending requires at least some risk, so if the default rate is zero, it means the founder hasn’t stress tested their model on a broad enough range of users. What investors actually want to see is a reasonable default rate within the context of factors like the cost of capital, the ease of scale, the return profile, etc. As long as the default rate makes sense within the overall story of the business—and that the story ends in huge returns—no red flag.",
        "The best thing a founder can do is to draw attention to their red flags proactively and in detail. See this unusual management structure we have? That’s on purpose. See this gap in our revenue over here? We screwed up, here’s how and here’s what we learned from it.",
        "In the end, what matters is context—the way whatever red flags there may be fit into the larger narrative of the business. No red flags mean no risk at all, and that wouldn’t be particularly interesting.",
        "__",
        "I originally published this in by The Information on Jan 18, 2023: https://www.theinformation.com/articles/red-flags-are-in-the-eye-of-the-beholder"
      ]
    },
    {
      "title": "Show HN: Graphic – A grammar of data visualization and Flutter charting library",
      "link": "https://github.com/entronad/graphic",
      "page": [
        "A grammar of data visualization and Flutter charting library.",
        "Use Git or checkout with SVN using the web URL.",
        "Work fast with our official CLI.      Learn more.",
        "Please                sign in                to use Codespaces.",
        "If nothing happens, download GitHub Desktop and try again.",
        "If nothing happens, download GitHub Desktop and try again.",
        "If nothing happens, download Xcode and try again.",
        "Your codespace will open once ready.",
        "There was a problem preparing your codespace, please try again.",
        "",
        "Graphic is a grammar of data visualization and Flutter charting library.",
        "See in the documentation.",
        "Example of charts can be seen in the Example App. Please clone this repository and run the example project in example directory.",
        "",
        "The Versatility of the Grammar of Graphics",
        "How to Build Interactive Charts in Flutter",
        "",
        "Graphic is MIT License.",
        "Twitter",
        "Medium",
        "Zhihu",
        "A grammar of data visualization and Flutter charting library."
      ]
    },
    {
      "title": "C++ Coroutines",
      "link": "https://nigeltao.github.io/blog/2023/cpp-coro-part-1-yield-return-prime-sieve.html",
      "page": [
        "This blog post is one of a two part series.",
        "C++ is late to the coroutine party, compared to other programming languages,but they are part of C++20. Prior to coroutines, a C++ programmer had twochoices, roughly speaking:",
        "Coroutines, “functions whose execution you can pause”, aim to get the best ofboth worlds: programs that look like sync code but performs like async code.",
        "Generally speaking, C++ language design tends to favor efficiency,customizability and the zero-overheadprincipleinstead of things like ease of use, safety or “batteries included”.",
        "These are neither “good” or “bad” design principles, but as C++ isn’t garbagecollected and it doesn’t come with a runtime system, it does mean that C++coroutines have a steep learning curve. LewisBaker has written some good blog posts, as hasRaymondChen, butChen’s series is a 61 part epic and yet his table-of-contents page finisheswith “I’m not done with coroutines”! Unsurprisingly (given its domain name),cppreference.com hasgood reference material but that doesn’t make a good tutorial.",
        "My two blog posts don’t aim to be comprehensive but instead to give a quicktour of the three fundamental mechanisms (the new-in-C++20 coroutine-relatedoperators): co_yield, co_return and co_await. Both blog posts walkthrough a complete, simple program, somewhat like literateprogramming.",
        "The Sieve ofEratosthenes is one ofthe earliest recorded algorithms, over two thousand years old, generating theseries of prime numbers: 2, 3, 5, 7, 11, etc.",
        "Last millenium, Doug McIlroy and Ken Thompson invented Unixpipes as a way ofconnecting concurrent processes. McIlroy wrote a page-long C version of theSieve that uses Unixprocesses and pipes. Per that link, the essence of that program also shows upin Tony Hoare’s influential Communicating SequentialProcesses (CSP) paper. Morerecently, there’s a 36-line Go version of theSieve in the Go playground.",
        "That design can be ported to C++ coroutines. The “processes” in CSP are not thesame as Unix processes. Our program (unlike McIlroy’s) is single-threaded andsingle-process (in the Unix process sense). Here’s the “business logic”:",
        "To be clear, coroutines aren’t necessarily the best (simplest, fastest, etc.)way to implement a prime sieve in C++. It’s that a prime sieve is a nice way todemonstrate C++ coroutines.",
        "For those familiar with C++ range-based forloop, that can simplifythe call site for simple loops, but our Generator doesn’t bother implementingit. One subtlety here is that we pass Generator values around (see thestd::move(g)). We don’t just iterate over them.",
        "Build and run the complete C++file like below or ongodbolt.org:",
        "The -fno-exceptions flag just simplifies away some C++ ceremony that’simportant if your program uses exceptions but uninteresting noise otherwise.",
        "Here’s our source function again.",
        "This is a coroutine (instead of a regular function) because there’s at leastone explicit co_yield or co_return in its body. An explicit co_awaitwould also suffice, but we won’t discuss co_await until part 2.",
        "While a regular function can only return (something of type RType, say), andonly return at most once, a coroutine can do that too but also co_yield zeroor more things (of type CYType) before co_returning (something of typeCRType) at most once. Just as a regular function could loop forever withoutreturning, a coroutine could loop forever, perhaps co_yielding things orperhaps not, without co_returning.",
        "Here, source co_yields (generates) the sequence of integers 2, 3, 4, 5,etc. up to (but excluding) end. Because source is a coroutine, there’s animplicit co_return; statement at the end of its body. Its RType, CYTypeand CRType are Generator, int and void.",
        "source returns a Generator (even though the function body never mentionsreturn or Generator). The main function saves the result of callingsource just as if it was calling a regular function. From the caller’s (notcallee’s) point of view, and from a “function signature in a .h file” pointof view, it is indeed just a regular function. Unlike other programminglanguages, C++ coroutines don’t need an async keyword.",
        "Calling source(40) physically returns (physically means in the callingconvention sense and in thex86 CALL andRET instructions sense) before itconceptually, logically finishes by reaching a co_return (the implicit one atthe final ‘}’ curly bracket). main can continue running concurrently whilesource is also running. For a multi-threaded program, the two could run inparallel (and we’d have to use mutexes, atomics or similar) but our exampleprogram is single-threaded and concurrency is notparallelism.",
        "Logically, source is running its for (int x = 2; x < end; x++) loop off onits own, occasionally co_yielding a thing. Physically, source is calledonce, suspending, returning, and then repeatedly resuming andco_yielding/suspending until finishing with a final co_return/suspend.",
        "As we’ll see further below, in our program, resuming is explicitly triggeredinside the Generator::next method (and resume is just a method call). Our“pull-style” generator coroutines are scheduled “on demand”, which works wellhere as we’re never waiting on I/O.",
        "With a regular function call, the caller and callee collaborate (according tothe calling convention) to reserve some memory for a stack frame, holdinge.g. the function arguments, local variables, return address and return value.After the callee returns, the stack frame is no longer needed.",
        "With a coroutine call, such state (function arguments, local variables, etc.)is needed even after physically returning. That’s therefore held in aheap-allocated coroutine frame. The coroutine frame also holds some notion of“where to resume, inside the coroutine body” plus a customized helper object todrive the coroutine. In C++, the pointer to that coroutine frame is representedas a std::coroutine_handle<CustomizedHelper>.",
        "I’m not sure why, but that customized helper object is called a “promise” or“promise object” (but its type is not a std::promise) and theCustomizedHelper type is usually RType::promise_type, where RType is thecoroutine’s return type.",
        "Some documentation talks about “coroutine state” instead of “coroutine frame”,as in: the promise object lives alongside (instead of within) the “coroutineframe” (which holds arguments and locals), both of which are within the“coroutine state”. But I prefer “coroutine frame” to mean the whole thing. Seealso frame_ptr, furher below, being a pointer to the (coroutine) frame.",
        "In our program, the compiler knows that source and filter are coroutines(because they have co_yield expressions). They are also declared to return aGenerator, so the compiler looks for a Generator::promise_type and expectsit to have certain methods.",
        "For example, our coroutine body says co_yield x and the CYType (the type ofx) is an int, so our promise type needs to have a yield_value method thattakes an int. It also has an (implicit) co_return statement (but not aco_return foo statement) so it also needs a return_void method that takesno arguments. It also needs get_return_object, initial_suspend andfinal_suspend. Here’s the complete Generator::promise_type definition:",
        "get_return_object produces the Generator object that source or filterreturns, in the Generator g = source(40) sense. We’ll discussstd::coroutine_handle further below, but it’s essentially a glorified pointerto the coroutine frame. We’ll pass it to the Generator constructor so thatGenerator::next can resume the coroutine when necessary.",
        "initial_suspend returns an awaitable (covered in part 2) that controlswhether the coroutine is eager (also known as “hot start”) or lazy (“coldstart”). Does the coroutine start running straight away or does it need aseparate kick first? Our program returns a std::suspend_always which meanslazy, as that will work better with “Generator::next always calls resume topull the next value”, as we’ll see further below.",
        "final_suspend likewise controls whether to suspend after the (possiblyimplicit) co_return. If it doesn’t suspend, the coroutine frame will beautomatically destroyed, which is great from a “don’t forget to clean up” pointof view, but destroying the coroutine frame also destroys the promise object.",
        "In our program, Generator::next needs to inspect (call methods on) thepromise object after the co_return (and calling a promise object’s methods isonly valid if the coroutine is suspended), so we do suspend (by final_suspendreturning a std::suspend_always). Our Generator will be responsible forexplicitly destroying the coroutine frame (spoiler alert: it’ll do it in itsdestructor, via the std::coroutine_handle passed to its constructor).",
        "The yield_value and return_void methods have already been mentioned, butnote that yield_value saves its argument to a member variable (thatGenerator::next will load). This is how the generator coroutine passes whatit yields (produces) back to the consumer. Our implementation only buffers onevalue at a time but other promise_type implementations could do somethingdifferent. At the very least, it would have to do something thread-safe if theprogram was multi-threaded.",
        "Here’s the Generator::next method (and the Generator constructor). Itresumes the wrapped coroutine, running it up until its next suspension (at anexplicit co_yield or at the final_suspend after the implicit co_return;the latter means the coroutine is done).",
        "To clean up properly, we should destroy the std::coroutine_handle exactlyonce. We’ll do that in the Generator destructor (and the m_cohandle fieldis private). When we pass a Generator from main to filter, we have tostd::move it, just as if it was a std::unique_ptr.",
        "Here’s the bureaucratic incantations to make Generator a move-only type.",
        "That’s it! You can look back over the complete C++file at your leisure.",
        "It may get better in the coming months and years, but debugging coroutines canbe a little rough today, at least on Debian stable (Bullseye). Breakpointswork, but local variables are buggy.",
        "For example, we can set a breakpoint on the co_yield x in the sourcecoroutine function, but the x value doesn’t seem to change (printing xalways says 2) and making the breakpoint conditional on x == 5 means that, inpractice, the breakpoint no longer triggers. Curiously, info breakpoints alsoplaces the breakpoint in the _Z6sourcei.actor(_Z6sourcei.frame *) function,presumably a compiler-transformed version of the plain source(int) function.",
        "We can insert a manual breakpoint (even a conditional one) in the source code,instead of via gdb.",
        "In the x == 5 loop iteration (but before the co_yield), our processes (inthe CSP sense) should be chained like this: main - filter(3) - filter(2) -source. Recompiling and running in a debugger confirms this: from the bottomup, the stack trace shows main, filter twice and then source.",
        "Recall that logically (and in the source code), the filter function takestwo arguments (a Generator and an int) but physically (in the stacktrace), after the compiler transformed it, filter (or perhaps_Z6filter9Generatori.actor, which c++filt demangles as filter(Generator,int) [clone .actor])  takes only one (what g++ calls the frame_ptr). Thispointer value turns out to be the same address as what thestd::coroutine_handle<Generator::promise_type>::address() method wouldreturn. For g++, the frame_ptr address is also a small, constant offsetfrom the promise’s address (what this is inside promise_type methods).",
        "Coroutines are magic in some sense, in that it requires compiler support andisn’t something you could easily do in pure C++ (e.g. boost coroutines dependon boost contexts and that requires CPU-architecture-specific assembly code).But this blog post has hopefully demystified C++20 coroutines’ co_yield andco_return operators:",
        "That last bullet point glosses over a lot of potential detail. Our exampleprogram is relatively simple but, in general, scheduling is a hard problem.C++20 doesn’t provide a one-size-fits-all solution. It merely providesmechanism, not policy.",
        "This is partly because of the customizability and “no runtime” design goalsmentioned earlier but also because a high-performance coroutine schedulingimplementation may be OS (Operating System) specific (and you may not evenhave an OS).",
        "C++20 doesn’t give you an ergonomic, high-level coroutine API. It’s not“sprinkle some asyncs and awaits and you’re done.” It gives you a low-levelcoroutine API construction kit. Some further C++ (but not assembly) isrequired.",
        "Baker puts it likethis:“The facilities the C++ Coroutines TS [Technical Specification] provides in thelanguage can be thought of as a low-level assembly-language [emphasis in theoriginal] for coroutines. These facilities can be difficult to use directly ina safe way and are mainly intended to be used by library-writers to buildhigher-level abstractions that application developers can work with safely.”",
        "It gives you the coroutine equivalent of a goto and it’s up to you (or thelibraries you use) to build better abstractions like the equivalent of if-else,while loops and function calls. Indeed, some have argued for structuredconcurrency, evenas far to say “Go statement consideredharmful”,but that bigger discussion is out of scope of this blog post.",
        "The last thing I’ll say about co_yield is that co_yield expr is basicallysyntactic sugar for co_await promise.yield_value(expr). Or, it would be, ifyou could otherwise access the coroutine’s implicit promise object. What’sco_await and how does it work? Find out more inpart 2: co_await and Fizz Buzz.",
        "Published: 2023-02-20"
      ]
    },
    {
      "title": "Turning a Typewriter into a Linux Terminal",
      "link": "https://habr.com/en/post/692488/",
      "page": [
        "Hi everyone, a few months ago I got a Brother AX-25, and since then, I've been working on turning it into a computer. It uses an Arduino to scan the custom mechanical keyboard and control the typewriter, and a Raspberry Pi is connected to the Arduino over serial so I can log into it in headless mode.",
        "This video goes over the design and assembly of it. There's also a test of the typewriter in action, as well as a sound test at the end of the video.",
        "Back in high school, one of my friends was working on making a computer using a Z80 for a school project. He had it set up on a few breadboards in a briefcase, and after we talked about it for a bit, we decided that we would try to put it in an old typewriter. We wanted to make our own Commodore 64. We gutted an old electronic typewriter, but never got around to putting the computer in it. For the past 6 years, I've had that typewriter's shell sitting in my room.",
        "For a while, I wanted to turn the typewriter into a cyberdeck. I planned on putting a screen in it, and a Raspberry Pi with a hefty battery. I had that idea rolling around in my head until a couple years ago, when I saw CuriousMarc's video about his teletype turned into a Linux terminal. I wanted to do the same to a typewriter, but I never had the time to do it and couldn’t find a typewriter at any thrift stores. After graduating from college, I finally had enough spare time, and knowledge, to turn a typewriter into a computer, so I went to a thrift store and bought the first electronic typewriter I could find.",
        "I can use all sorts Linux commands, and by processing the escape sequences that the Raspberry Pi outputs, it can automatically toggle the typewriter’s formatting features. I can also type commands using the typewriter's keyboard.",
        "I've also used it to print some ASCII art, I think the results look pretty great!",
        "",
        "The typewriter’s keyboard is wired up in an 8x11 matrix, and it connects to the typewriter using two connectors, one for the rows, and one for the columns. When you press one of the keys, it connects one of the row pins to a column pin, which the typewriter then detects. To figure out which pair of pins each key corresponds to, I connected each pair by hand one at a time, and wrote down what key was printed. I did this until I had the entire matrix mapped out.",
        "The typewriter uses a 7805 linear regulator to power its 5V components, and I was able to locate an unused 5V pad and ground pad that I can tap into to power my circuit. I had to add a heatsink to the regulator to accommodate for the increased power consumption of my circuit.",
        "The Arduino code is available on my GitHub repository if you’d like to look at it in more detail! My Arduino controls the typewriter using two multiplexers, one connected to each of the keyboard connectors. The multiplexer’s signal pins are connected so they can be used to connect pairs of pins on the keyboard connectors together. To send a key, the Arduino selects a pin on each multiplexer to connect them, which tricks the typewriter into thinking that a key has been pressed.",
        "The Arduino is connected via serial to the Pi, which has the serial console enabled on its UART pins. I chose to use an Arduino in addition to the Raspberry Pi because I’m more familiar with them, and it makes interfacing with the Raspberry Pi’s UART console much easier. The Arduino and the Raspberry Pi communicate at a rate of 120 characters per second, but the typewriter can only type 12 per second. To prevent long messages from getting cut off, I added serial flow control to my code. This allows the Arduino to tell the Pi when to start and stop sending text. The Raspberry Pi is running Raspberry Pi OS Lite, since I only need access to the terminal.",
        "To scan the keyboard, I used essentially the same circuit; two  multiplexers, one for the rows, one for the columns. The Arduino scans  the keyboard one key at a time by selecting a channel on each  multiplexer. When it detects that a key has been pressed, it sends that  character to the Raspberry Pi so it can be processed.",
        "I could have used the typewriter’s original keyboard for this project, but I decided to replace it with a custom mechanical keyboard, with Matias Alps Clicky switches, which feel awesome to type on!",
        "By turning my typewriter into a computer, I was able to recreate the  experience of using a teletype. Now I know what it was like to use Unix in the 1960s when it was originally being developed! The custom mechanical keyboard feels amazing to type on, and is a huge upgrade over the mushy membrane keyboard it originally had. With these upgrades, my typewriter is much more powerful now!",
        "User",
        "Your account",
        "Sections",
        "Information",
        "Services"
      ]
    },
    {
      "title": "Italian prosecutors probe Meta for '870Ms EUR tax evasion'",
      "link": "https://www.ansa.it/english/news/business/2023/02/22/milan-prosecutors-probe-meta-for-870-mn-tax-evasion_4093668e-23d4-4841-81c8-cdf4eb91fdf9.html",
      "page": [
        "",
        "(ANSA) - ROME, FEB 22 - Milan prosecutors are reportedlyinvestigating allegations that Meta failed to pay around 870million euros in value added tax in Italy.   \t\t\t\tThe investigation was opened after an audit by finance policewhich allegedly revealed the parent group of Facebook, Instagramand WhatsApp had failed to present VAT declarations between 2015and 2021.   \t\t\t\tDaily newspaper Il Fatto Quotidiano reported that the probe waslaunched by the European Public Prosecutor's Office but passedto Milan prosecutors on Tuesday. (ANSA)."
      ]
    },
    {
      "title": "Jimmy Carter: Unlucky President, Lucky Man",
      "link": "https://fallows.substack.com/p/jimmy-carter-unlucky-president-lucky",
      "page": [
        "Last night The Atlantic published a piece by me about Jimmy Carter and his long life. The original link is here.",
        "With the magazine’s permission, and with my thanks to them, I reprint the article below. I will plan to follow up with more discussion of Carter and his times, and what they show about the times ahead.",
        "Life is unfair, as a Democratic president once put it. That was John F. Kennedy, at a press conference early in his term.",
        "Jimmy Carter did not go through as extreme a range of the blessings and cruelties of fate as did Kennedy and his family. But I think Carter’s long years in the public eye highlighted a theme of most lives, public and private: the tension between what we plan and what happens. Between the luck that people can make for themselves and the blind chance they cannot foresee or control.",
        "In the decades of weekly Bible classes he led in his hometown of Plains, Georgia, Jimmy Carter must have covered Proverbs 19:21. One contemporary translation of that verse renders it as: “Man proposes, God disposes.”",
        "Not everything in his life happened the way Jimmy Carter proposed or preferred. But he made the very most of the years that God and the fates granted him.",
        "Americans generally know Jimmy Carter as the gray-haired retiree who came into the news when building houses or fighting diseases or monitoring elections, and whose political past became shorthand for the threadbare America of the 1970s. Most of today’s Americans had not been born by the time Carter left office in 1981. Only about one-fifth are old enough to have voted when he won and then lost the presidency. It is hard for Americans to imagine Jimmy Carter as young—almost as hard as it is to imagine John F. Kennedy as old.",
        "But there are consistent accounts of Carter’s personality throughout his long life: as a Depression-era child in rural Georgia, as a hotshot Naval Academy graduate working in Hyman Rickover’s then-futuristic-seeming nuclear-powered submarine force, as a small businessman who entered politics but eventually was forced out of it, as the inventor of the modern post-presidency.",
        "What these accounts all stress is that, old or young, powerful or diminished, Jimmy Carter has always been the same person. That is the message that comes through from Carter’s own prepresidential campaign autobiography, Why Not the Best?, and his many postpresidential books, of which the most charming and revealing is An Hour Before Daylight: Memories of a Rural Boyhood. It is a theme of Jonathan Alter’s insightful biography, His Very Best. It is what I learned in two and a half years of working directly with Carter as a speechwriter during the 1976 campaign and on the White House staff, and in my connections with the Carter diaspora since then.",
        "Whatever his role, whatever the outside assessment of him, whether luck was running with him or against, Carter was the same. He was self-controlled and disciplined. He liked mordant, edgy humor. He was enormously intelligent—and aware of it—politically crafty, and deeply spiritual. And he was intelligent, crafty, and spiritual enough to recognize inevitable trade-offs between his ambitions and his ideals. People who knew him at one stage of his life would recognize him at another.",
        "Jimmy Carter didn’t change. Luck and circumstances did.",
        "Share",
        "Jimmy Carter made his luck, and benefited from luck, when he ran for president. He couldn’t have done it without his own discipline and commitment, and his strategy. He seemed to shake every hand in Iowa—but his team was also the first to recognize that the new Iowa caucus system opened the chance for an outsider to leap into the presidency. At a time when his national name recognition was 1 percent, he spent all day walking up to strangers and saying, “My name is Jimmy Carter, and I’m running for president.” Stop and imagine doing that yourself, even once. Carter was easier to admire—when delivering his stump speech to a rapt crowd, when introducing himself at a PTA meeting or in a diner—than he was to work for. But that is probably true of most public figures with such a drive to succeed.Because he was so engaging in person, and made such a connection in countless small-group meetings across Iowa, he won the caucuses and went on to win the nomination and the presidency. No other candidate has gone from near-invisibility to the White House in so short a time. (Barack Obama became a Democratic Party star with his famous convention speech in 2004, four years before he won the presidency. Donald Trump had been a celebrity for decades.)",
        "This is how Carter and his team helped themselves. Other developments they hadn’t planned affected the race—mainly to their benefit.",
        "By early 1976, Carter had become the new thing. He embraced rock music and quoted Bob Dylan. He was as powerful and exciting a fusion of cultures as any candidate who came after him. He was a Naval Academy graduate and an Allman Brothers fan. He was deeply of the South and of the Church. He also spoke about Vietnam as a racist war. He quoted poems by Dylan Thomas. He was, yes, cool. He appeared at a Law Day meeting at the University of Georgia’s law school and upbraided the audience about the injustice of America’s legal system. Here’s just one sample of the speech, which would now be considered part of the Sanders-Warren platform:",
        "I grew up as a landowner’s son. But I don’t think I ever realized the proper interrelationship between the landowner and those who worked on a farm until I heard Dylan’s record … ”Maggie’s Farm.”",
        "It’s worth reading the whole thing.",
        "But what if Hunter S. Thompson had not noticed this speech and announced that he “liked Jimmy Carter” in an influential article in Rolling Stone? What if Time and Newsweek, also very influential then, had not certified him as a serious potential leader with their coverage? What if the civil-rights figures Martin Luther King Sr. and Andrew Young had not endorsed Carter to Black audiences around the country, and reassured white liberals that he was the southern voice an inclusive America needed? (As governor of Georgia, Carter had placed a portrait of MLK Jr. in the state capitol.) What if Jerry Brown had not waited so long to enter the primaries? What if Teddy Kennedy had dared to run? What if Mo Udall had figured out the Iowa-caucus angle before Carter did? What if Scoop Jackson had not been so dull? Or George Wallace so extreme?",
        "And for the general election, what if Gerald Ford had not pardoned Richard Nixon, turning Watergate into Ford’s own problem? (The Carter team knew that this was a campaign plus. But in the first sentence of his inaugural address, Carter thanked Ford for all he had done “to heal our land.”) What if Saturday Night Live, then in its first season and itself hugely influential, had not made Ford the butt of ongoing jokes? What if Ford had not blundered in a crucial presidential debate? What if Carter’s trademark lines on the stump—I’ll never lie to you and We need a government as good as its people—had not been so tuned to the battered spirit of that moment, and had been received with sneers rather than support?",
        "What if, what if. There are a thousand more possibilities. In the end the race was very close. Luck ran his way.",
        "Then he was in office. Intelligent, disciplined, self-contained, spiritual. President Carter made some of his own luck, good and bad—as I described in this magazine 44 years ago. There is little I would change in that assessment, highly controversial at the time, except to say that in 1979 Carter still had nearly half of his time in office ahead of him, and most of his adult life. I argued then that his was a “passionless” presidency. He revealed his passions—his ideals, his commitments—in the long years to come.",
        "In office he also had the challenge of trying to govern a nearly ungovernable America: less than two years after its humiliating withdrawal from Saigon, in its first years of energy crisis and energy shortage, on the cusp of the “stagflation” that has made his era a symbol of economic dysfunction. It seems hard to believe now, but it’s true: The prime interest rate in 1980, the year Carter ran for reelection, exceeded 20 percent. You never hear, “Let’s go back to the late ’70s.”",
        "Probably only a country as near-impossible to lead as the United States of that time could have given someone like Jimmy Carter a chance to lead it.",
        "Despite it all, Carter had broader support during his first year in office than almost any of his successors, except briefly the two Bushes in wartime emergencies. Despite it all, most reckonings have suggested that Carter might well have beaten Ronald Reagan, and held on for a second term, if one more helicopter had been sent on the “Desert One” rescue mission in Iran, or if fewer of the helicopters that were sent had failed. Or if, before that, Teddy Kennedy had not challenged Carter in the Democratic primary. Or if John Anderson had not run as an independent in the general election. What if the ayatollah’s Iranian government had not stonewalled on negotiations to free its U.S. hostages until after Carter had been defeated? What if, what if.",
        "Carter claimed for years that he came within one broken helicopter of reelection. It’s plausible. We’ll never know.",
        "Because we do know, in retrospect, that Reagan had two landslide victories, over Carter and then Walter Mondale, and that the 1980 election broke heavily in Reagan’s favor in its final weeks, it’s natural to believe that Carter never had a chance. But it looked so different at the time. History changed, through effort and luck, when Carter arrived on the national stage in 1976. And it changed, through effort and luck, when he departed four years later.",
        "Share",
        "Effort and luck combined for Jimmy Carter’s first two acts: becoming president, and serving in office.",
        "Luck played a profoundly important role in his third act, allowing him to live mostly vigorously until age 98, and to celebrate his 76th wedding anniversary with his beloved wife, Rosalynn. He had 42 full years in the postpresidential role—10 times longer than his term in office, by far the most of any former president.",
        "This extended span mattered for reasons within Carter’s control, and beyond it. Good fortune, medical science, and a lifetime history as a trim, fit athlete (he was a good tennis player, a runner, and a skillful softball pitcher), helped Carter survive several bouts of cancer and other tolls of aging. But his faith, will, idealism, and purpose allowed him to invent and exemplify a new role for former presidents, and to see his own years in office reconsidered.",
        "Suppose that, like Lyndon B. Johnson, he had died of a literal and figurative broken heart at age 64. His record and achievements would have concluded with Ronald Reagan still in office, and his story would have been summarized as ending on a loss. Carter could never have received the Nobel Peace Prize, which he won while nearing age 80, in 2002. (Nobel Prizes cannot be given posthumously.)",
        "With health like Lyndon Johnson’s, Jimmy Carter would not have had a chance to establish his new identity—and to see prevailing assessments of his role as president change as profoundly as those of Harry Truman did. As with Truman, the passing years have made it easier to see what Carter achieved, and to recognize what he was trying to do even when unsuccessful. But Truman was no longer alive to see that happen. For Carter I think the process of reassessment will go on.",
        "It is hard for most Americans to imagine the Jimmy Carter of those days. It is hard even for me to recognize how different the country is as a whole.",
        "Just to talk about politics: The South was then the Democrats’ base, and the West Coast was hostile territory. Jimmy Carter swept all states of the old Confederacy except Virginia, and lost every state west of the Rockies except Hawaii. In Electoral College calculations, the GOP started by counting on California.",
        "The Democrats held enormous majorities in both the Senate and the House. Carter griped about dealing with Congress, as all presidents do. But under Majority Leader Robert Byrd, the Democrats held 61 seats in the Senate through Carter’s time. In the House, under Speaker Tip O’Neill, they had a margin of nearly 150 seats (not a typo). The serious legislative dealmaking was among the Democrats.",
        "In culture and economics—well, you just need to watch some movies from the 1970s, Rocky, Taxi Driver, The Conversation, Dog Day Afternoon (or, if you prefer, Saturday Night Fever and Star Wars). The United States was a country fraying on all its edges, just beginning to absorb the shock of the Vietnam years, in its first wave of grappling with globalization and environmental constraints.",
        "Prevailing memories reached back far beyond Vietnam to the Korean War, World War II, and the Great Depression. In campaign speeches, Carter talked about the difference it made to him, as a boy, when Franklin Roosevelt’s Rural Electrification Administration brought electric power to small communities like his. We on the speechwriting staff could rely on the story for applause. Enough people remembered.",
        "There were no cellphones then, nor even bulky “portable” phones. Computers meant behemoths at major data centers.",
        "And in civic life, Richard Nixon’s downfall seemed to have reinforced the idea that there was such a thing as public shame. It was construed as embarrassing for Jimmy Carter that his hard-luck brother, Billy, was in a penny-ante way cashing on the family fame by promoting six packs of his own “Billy Beer.” Carter, from a small-town business-owning background, felt that he had to sell the family peanut mill to avoid even the appearance of impropriety. After Nixon’s scandals and Spiro Agnew’s resignation, “doing the right thing” mattered, and Carter did so.",
        "Jimmy Carter took office in the “before” times. We live in an unrecognizable “after.” He did his best, in office and out, to promote the values he cared about through it all.",
        "What did he do in office? He did a lot. He was visionary about climate and the environment. He changed the composition of the federal courts. For better and worse he deregulated countless industries, from craft brewing to the airlines. I direct you to Stuart Eizenstat’s detailed and authoritative President Carter: The White House Years for specifics. I’ll just add:",
        "Jimmy Carter did more than anyone else, before or since, to bring peace to the Middle East, with his Camp David accords. The agreement between Menachem Begin and Anwar Sadat could not possibly have been reached without Carter’s all-in, round-the-clock involvement. I was there and saw it. Any other witness would agree. (This was also the theme of Lawrence Wright’s excellent Thirteen Days in September.)",
        "Jimmy Carter saved the United States decades of woe with his Panama Canal Treaty.",
        "Jimmy Carter bought the United States several generations’ worth of respect with his human-rights policy. Can such an approach be no-exceptions or absolute? Of course not. Carter recognized as clearly as anyone the tension between ideals and reality. But does even imperfect idealism make a difference? That is the case Carter made in a speech at Notre Dame in 1977. I think it stands up well. Its essence:",
        "“We have reaffirmed America's commitment to human rights as a fundamental tenet of our foreign policy …",
        "“This does not mean that we can conduct our foreign policy by rigid moral maxims. We live in a world that is imperfect and which will always be imperfect—a world that is complex and confused and which will always be complex and confused.",
        "“I understand fully the limits of moral suasion. We have no illusion that changes will come easily or soon. But I also believe that it is a mistake to undervalue the power of words and of the ideas that words embody. In our own history, that power has ranged from Thomas Paine's \"Common Sense\" to Martin Luther King, Jr.’s “I Have a Dream.”",
        "“In the life of the human spirit, words are action.”",
        "Jimmy Carter spoke to the “values” and “engagement” crises decades before demagogues like Trump or healers like Obama. In the summer of 1979, he gave an unusually sober and sermonlike address on the national “crisis of confidence.” This is generally known as the “malaise” speech, and is widely considered a downbeat marker of a down era. But as Kevin Mattson points out in his entertaining What the Heck Are You Up to, Mr. President?, the speech was well received at the time. Carter’s popularity rating went up nearly 10 points in its wake. (Also, the speech didn’t include the word malaise.) Things again started going wrong for Carter soon after that—he made mistakes, and was unlucky—but the speech deserves respect. It was a leader’s attempt to express the fears and hard truths many people felt, and to find a way forward.",
        "Jimmy Carter survived to see many of his ambitions realized, including near eradication of the dreaded guinea worm, which, unglamorous as it sounds, represents an increase in human well-being greater than most leaders have achieved. He survived to see his character, vision, and sincerity recognized, and to know that other ex-presidents will be judged by the standard he has set.",
        "He was an unlucky president, and a lucky man.",
        "We are lucky to have had him. Blessed.",
        "",
        "I'm re-reading The 8th Habit by Stephen R. Covey and he defines the role of leadership as having four qualities--vision, discipline, passion, and conscience. Those words describe President Carter's life and work. Thank you for this article. As a kid of the seventies, Carter was the first President I would have wanted to vote for and as an agnostic when I think of a true Christian--he is who I envision. Every once in a while, I would look up and see a photo of him with a hammer in his hand or hear about his work for human rights and think, \"That is a good man. We need more like him.\"",
        "Writing like this is why I subscribe to your Substack. I read your article on President Carter in the Atlantic the day it was published. It was brilliant. I wondered if you would republish it here. Imagine my delight when I discovered your timely amendments to the original! You are a wonderful reporter and commentator and I think you ought to get that recognition publicly.",
        "No posts",
        "Ready for more?"
      ]
    }
  ]
}

const dataMock = {
  "created_at": "2023-02-22T20:02:38.682Z",
  "data": [
    {
      "title": "Show HN: AskHN",
      "link": "https://www.patterns.app/blog/2023/02/19/ask-hn-gpt-embeddings-question-answering/",
      "page": [
        "We just launched on product hunt. Give us an upvote!",
        "(fyi, here’s the code for everything I built below, you can clone and deploy the full app here as well.)",
        "“AskHN” is a GPT-3 bot I trained on a corpus of over 6.5 million Hacker News comments to represent the collective wisdom of the HN community in a single bot. You can query it here in our discord using the /askhn command if you want to play around (I’ve rate-limited the bot for now to keep my OpenAI bill from bankrupting me, so you might have to wait around for your spot).",
        "More details on how I built it below, but I found the LLM-embedded embodiment of HN’s wisdom to be an impressive and genuinely useful resource. Thousands of the sharpest minds in technology have volunteered up their expertise, wisdom, and occasional flame over the years. There are very few topics Ask HN Bot does not have a solid answer to, even the question of finding love!",
        "It does well with job advice:",
        "",
        "...classic flame wars:",
        "",
        "...the important questions:",
        "",
        "...and unanswerable questions:",
        "",
        "The GPT-3 prompted summaries are pretty good! And the linked articles are all very relevant -- the 1500 dimensions of the OpenAI GPT embeddings are enough to slice the semantic space for this use case.",
        "It's main failure mode is summarizing contradictory / irrelevant comments into one response, which can lead to incoherence.",
        "I built it in Patterns Studio over the course of a few days. Here was my rough plan at the start:",
        "This plan went ok, but results tended to be a bit to generic — I didn’t have enough of the specific relevant comment content in the prompt to give technical and specific answers. Embedding every single one of the 6.5 eligible comments was prohibitively time-consuming and expensive (12 hours and ~$2,000). So I ended up with this extension for step 6:",
        "Let's dive into details for each of the steps above.",
        "Using the firebase API, downloaded the entire ~35m item database of HN comments and stories in parallel. This took about 30 minutes and left us with 4.8m stories and 30m comments. I filtered the stories to just those with more than 20 upvotes and at least 3 comments, this left me with 400k stories over the entire 17 year history of HN. I then further filtered to stories from the last 5 years, leaving us with a final number of 160k stories. For eligible comments, I filtered to those on an eligible story with at least 200 characters, for ~6.5 million comments total.",
        "To index these stories, I loaded up to 2000 tokens worth of comment text (ordered by score, max 2000 characters per comment) and the title of the article for each story and sent them to OpenAI's embedding endpoint, using the standard text-embedding-ada-002 model, this endpoint accepts bulk uploads and is fast but all 160k+ documents still took over two hours to create embeddings. Total cost for this part was around $70.",
        "The embeddings were then indexed with Pinecone.",
        "For a user interface, I decided to implement AskHN as a Discord bot. Given that I needed to rate limit responses, having a Discord bot (over a dedicated web app, for instance) would allow for a more fun and collaborative experience of folks sharing questions and answers, even if any given individual did not get a chance to ask a question.",
        "With the embeddings indexed, and our bot live, responding to a given question involved the following steps:",
        "There are often dozens or even hundreds of relevant comments that we get the embeddings for, luckily embeddings are cheap and fast, so the cost of this is much less than even the single call to GPT-3 for the completion.",
        "With the top comments text in hand we build the final prompt for GPT-3 as:",
        "I played around with a number of prompts, but the main thing is to get GPT-3 to break out of its \"Generic Helpful Internet Article\" voice and take a more opinionated stance when warranted. So I told it to do that, and it did :)",
        "The methodology I used here is a generic, scalable solution for distilling a knowledge corpus into an embodied intelligence. Would I use a bot like this over hn.algolia.com? Maybe, maybe not. Would I appreciate this service added onto Algolia results page? Absolutely 100%.",
        "Just shoot me an email Algolia, kvh@patterns.app, happy to help!",
        "This same architecture and flow would work well for almost any text corpus and question-answering bot. If you have such a use case, please feel free to reach out to me kvh@patterns.app anytime to discuss my learnings or apply for our CoDev program at Patterns. You can get started by cloning the template for this bot."
      ],
      "summary": "Give us an upvote!,(fyi, here’s the code for everything I built below, you can clone and deploy the full app here as well.),“AskHN” is a GPT-3 bot I trained on a corpus of over 6.5 million Hacker News comments to represent the collective wisdom of the HN community in a single bot.\nAnd the linked articles are all very relevant -- the 1500 dimensions of the OpenAI GPT embeddings are enough to slice the semantic space for this use case.,It's main failure mode is summarizing contradictory / irrelevant comments into one response, which can lead to incoherence.,I built it in Patterns Studio over the course of a few days."
    },
    {
      "title": "The dystopian underworld of South Africa’s illegal gold mines",
      "link": "https://www.newyorker.com/magazine/2023/02/27/the-dystopian-underworld-of-south-africas-illegal-gold-mines",
      "page": [
        "To revisit this article, select My Account, then View saved stories",
        "To revisit this article, visit My Profile, then View saved stories",
        "By Kimon de Greef",
        "A few years ago, a mining company was considering reopening an old mine shaft in Welkom, a city in South Africa’s interior. Welkom was once the center of the world’s richest goldfields. There were close to fifty shafts in an area roughly the size of Brooklyn, but most of these mines had been shut down in the past three decades. Large deposits of gold remained, though the ore was of poor grade and situated at great depths, making it prohibitively expensive to mine on an industrial scale. The shafts in Welkom were among the deepest that had ever been sunk, plunging vertically for a mile or more and opening, at different levels, onto cavernous horizontal passages that narrowed toward the gold reefs: a labyrinthine network of tunnels far beneath the city.",
        "Most of the surface infrastructure for this particular mine had been dismantled several years prior, but there was still a hole in the ground—a concrete cylinder roughly seven thousand feet deep. To assess the mine’s condition, a team of specialists lowered a camera down the shaft with a winding machine designed for rescue missions. The footage shows a darkened tunnel, some thirty feet in diameter, with an internal frame of large steel girders. The camera descends at five feet per second. At around eight hundred feet, moving figures appear in the distance, travelling downward at almost the same speed. It is two men sliding down the girders. They have neither helmets nor ropes, and their forearms are protected by sawed-off gum boots. The camera continues its descent, leaving the men in darkness. Twisted around the horizontal beams below them—at sixteen hundred feet, at twenty-six hundred feet—are corpses: the remains of men who have fallen, or perhaps been thrown, to their deaths. The bottom third of the shaft is badly damaged, preventing the camera from going farther. If there are other bodies, they may never be found.",
        "As Welkom’s mining industry collapsed, in the nineteen-nineties, a dystopian criminal economy emerged in its place, with thousands of men entering the abandoned tunnels and using rudimentary tools to dig for the leftover ore. With few overhead costs or safety standards, these outlaw miners, in some cases, could strike it rich. Many others remained in poverty, or died underground. The miners became known as zama-zamas, a Zulu term that loosely translates to “take a chance.” Most were immigrants from neighboring countries—Zimbabwe, Mozambique, Lesotho—that once sent millions of mine workers to South Africa, and whose economies were heavily dependent on mining wages. “You started seeing these new men in the townships,” Pitso Tsibolane, a man who grew up in Welkom, explained to me. “They’re not dressed like locals, don’t talk like locals—they’re just there. And then they vanish, and you know they’re back underground.”",
        "Owing to the difficulty of entering the mines, zama-zamas often stayed underground for months, their existence illuminated by headlamps. Down below, temperatures can exceed a hundred degrees, with suffocating humidity. Rockfalls are common, and rescuers have encountered bodies crushed by boulders the size of cars. “I think they all go through hell,” a doctor in Welkom, who has treated dozens of zama-zamas, told me. The men he saw had turned gray for lack of sunlight, their bodies were emaciated, and most of them had tuberculosis from inhaling dust in the unventilated tunnels. They were blinded for hours upon returning to the surface.",
        "I recently met a zama-zama named Simon who once lived underground for two years. Born in a rural area of Zimbabwe, he arrived in Welkom in 2010. He started digging for gold at the surface, which was dusted with ore from the industry’s heyday. There was gold beside the railway tracks that had once transported rock from the mines, gold among the foundations of torn-down processing plants, gold in the beds of ephemeral streams. But Simon was earning only around thirty-five dollars a day. He aspired to build a house and open a business. To get more gold, he would need to go underground.",
        "In no other country in the world does illegal mining take place inside such colossal industrial shafts. In the past twenty years, zama-zamas have spread across South Africa’s gold-mining areas, becoming a national crisis. Analysts have estimated that illegal mining accounts for around a tenth of South Africa’s annual gold production, though mining companies, wary of alarming investors, tend to downplay the extent of the criminal trade. The operations underground are controlled by powerful syndicates, which then launder the gold into legal supply chains. The properties that have made gold useful as a store of value—notably the ease with which it can be melted down into new forms—also make it difficult to trace. A wedding band, a cell-phone circuit board, and an investment coin may all contain gold that was mined by zama-zamas.",
        "Welkom, once an economic engine of the apartheid state, emerged as an early—and especially dire—hot spot for illegal mining. Since 2007, officials in the Free State province, where Welkom is situated, have recovered the bodies of more than seven hundred zama-zamas—but not all deaths are reported to the authorities, and many bodies remain belowground. “We call it the zama graveyard,” a forensic officer said in a 2017 news interview, following an underground explosion that killed more than forty people. In decommissioned mines, the ventilation systems no longer function, and harmful gases accumulate. At certain concentrations of methane, a mine becomes a bomb that can be detonated by the merest spark; even rocks knocking against each other can set off a blast. In Johannesburg, about a hundred and fifty miles northeast of Welkom, there are fears that illegal miners may cause gas pipelines to explode, including those beneath Africa’s largest soccer stadium.",
        "But perhaps the biggest dangers stem from the syndicates that have seized control of the illicit gold economy. Organized crime is rampant in South Africa—“an existential threat,” according to a recent analysis from the Global Initiative Against Transnational Organized Crime—and gold-mining gangs are especially notorious. Armed militias war over turf, both at the surface and underground, carrying out raids and executions. Officials have discovered groups of corpses that have been bludgeoned with hammers or had their throats slit.",
        "In Welkom, getting underground became impossible without paying protection fees to the criminal groups in charge. By 2015, just nine shafts were still operating, in spots where there was ore of sufficient grade to justify the expense of hauling it out. Some syndicates took advantage of these shafts, bribing employees to let the zama-zamas ride “the cage”—the transport elevator—and then walk to areas where mining had ceased. There were also dozens of abandoned shafts, including separate ventilation channels and ducts for subsurface cables. “Companies have difficulty plugging all the holes,” a 2009 report on illegal mining noted. Each of these provided openings for zama-zamas. The miners climbed down ladders made of sticks and conveyor-belt rubber, which deteriorated over time and sometimes snapped. Or they were lowered into the darkness by teams of men, or behind vehicles that reversed slowly for a mile or farther, the ropes feeding over makeshift pulleys above the shaft. Sometimes the ropes would break, or a patrol would arrive, causing the men at the surface to let go. There were stories of syndicates deceiving miners, promising them a ride in the cage, only to force them to climb down the girders. Men who refused were thrown over the edge, with some victims taking around twenty seconds to hit the bottom.",
        "In 2015, Simon entered the mines by paying a thousand dollars to a local syndicate boss, known as David One Eye, who allowed him to walk into the tunnels via an inclined shaft just south of Welkom. One Eye, a former zama-zama himself, had risen from obscurity to become one of the most fearsome figures in the region. He was powerfully built from lifting weights, and he had lost his left eye in a shooting.",
        "Link copied",
        "The syndicate would charge Simon more than twice as much to exit the mines. He remained underground for almost a year, subsisting on food provided by One Eye’s runners. He came away with too little money, so he went into the mines again, paying the same syndicate to lower him with a rope. He became accustomed to life underground: the heat, the dust, the darkness. He planned to remain there until he was no longer poor, but in the end he came out because he was starving.",
        "Zama-zamas are a nightmarish late chapter in an industry that, more than any other, has shaped South Africa’s history. Surface-level gold deposits were discovered in the area that became Johannesburg, sparking a gold rush in 1886. Twelve years later, the new South African mines were providing a quarter of the world’s gold. (To date, the country has produced more than forty per cent of all the gold ever mined.)",
        "The reefs that outcropped in Johannesburg extend deep underground, making up part of the Witwatersrand basin, a geological formation that stretches in an arc two hundred and fifty miles long. Extracting this gold required tremendous inputs of labor and capital. The Chamber of Mines once likened the basin to “a fat 1,200-page dictionary lying at an angle. The gold bearing reef would be thinner than a single page, and the amount of gold contained therein would hardly cover a couple of commas.” Complicating matters further, this page had been “twisted and torn” by geological forces, leaving fragments “thrust between other leaves of the book.”",
        "In the nineteen-thirties, mining companies began prospecting in a different province—a sparsely populated area that would later be called the Free State. After the Second World War, one borehole produced a sample “so astonishing that financial editors refused to believe the press release,” the historian Jade Davenport wrote, in “Digging Deep: A History of Mining in South Africa.” The yield was more than five hundred times richer than a usual profitable return, propelling the international gold-shares market “into complete dementia.” Land values in the nearest village increased more than two-hundredfold within a week.",
        "But these new goldfields needed to be developed from scratch. There was no electricity or potable water. Vast maize fields spread across the grasslands. In 1947, a mining house called the Anglo American Corporation received permission to establish a new town, to be called Welkom—“welcome” in Afrikaans. The company’s founder, Ernest Oppenheimer, who was the richest man in South Africa, tasked a British planner named William Backhouse with designing the settlement. Inspired by housing developments in England, Backhouse envisaged a garden city with satellite towns and ample greenbelts. There would be wide boulevards and circles to direct the flow of traffic. At the outset, Oppenheimer’s son wrote, the region was “depressing in the extreme”: flat and featureless, choked by frequent dust storms, with a single acacia tree, which was later designated a local monument. Eventually, the city was planted with more than a million trees.",
        "Across South Africa, white mine workers were perpetually in demand, owing to laws that limited Black people to menial and labor-intensive jobs. To attract white workers and skilled technicians away from the Witwatersrand, the Anglo American Corporation built subsidized houses in Welkom, along with lavish recreational facilities such as cricket fields and a horse-riding club. By 1950, Welkom was growing at an average rate of two families per day. “Welkom is going to be the showplace of South Africa!” the national finance minister declared on an official visit.",
        "The economic logic of the mines also demanded an inexhaustible supply of cheap Black labor. Restricted from unionizing until the late nineteen-seventies, Black mine workers performed gruelling and dangerous tasks, such as wielding heavy drills in cramped spaces and shovelling rock; tens of thousands died in accidents, and many more contracted lung diseases. To prevent competition among companies, which would have driven up wages, the Chamber of Mines operated as a central recruiting agency for Black workers from across Southern Africa; between 1910 and 1960, according to one estimate, five million mine workers travelled between South Africa and Mozambique alone. Expanding the labor pool helped the mining industry depress Black wages, which remained almost static for more than five decades. By 1969, the pay gap between white and Black workers had reached twenty to one.",
        "In Welkom, a separate township was built for Black residents, set apart from the city by an industrial area and two mine dumps. One of the city planners’ main goals, according to a history of Welkom from the nineteen-sixties, was to “prevent the outskirts of the town being marred by Bantu squatters.” Named Thabong, or “Place of Joy,” the township lay in the path of the dust from the mines. Segregated mining towns, which dated back to the nineteenth century, laid a foundation for South Africa’s apartheid system, which was formally introduced the year after Welkom was founded. Every evening, a siren sounded at seven o’clock, announcing a curfew for Black people, who faced arrest if they stayed too late in the white part of town.",
        "Oppenheimer had imagined Welkom as “a town of permanence and beauty.” The cornerstone of the civic center, an imposing set of buildings laid out in the shape of a horseshoe, was a twenty-four-inch slab of gold-bearing reef. The council chambers were furnished in walnut, with crystal chandeliers imported from Vienna. There was a banquet hall and one of South Africa’s finest theatres. In 1971, just three years after the complex was unveiled, a guidebook to South African architecture described the design as “perhaps too ambitious for a town which will, in all probability, have a limited life.”",
        "The crash came in 1989. The price of gold had fallen by nearly two-thirds from its peak, inflation was rising, and investors were wary of instability during South Africa’s transition to democracy. (Nelson Mandela was freed the following year.) The rise of powerful unions, in the final years of apartheid, meant that it was no longer possible for the industry to pay Black workers “slave wages,” as the former chairman of one large mining company told me. The Free State goldfields eventually laid off more than a hundred and fifty thousand mine workers, or eighty per cent of the workforce. The region was almost wholly reliant on mining, and Welkom’s economy was especially undiversified. The town’s sprawling urban design was also expensive to maintain, leading to a “death spiral,” Lochner Marais, a professor of developmental studies at the University of the Free State, told me.",
        "I first visited Welkom in late 2021. As I drove into the city, Google Maps announced that I had arrived, but around me it was dark. Then my headlights picked out a suburban home, followed by another. The entire neighborhood was without electricity. South Africa is in the midst of an energy crisis and experiences frequent scheduled power outages, but that was not the cause of this blackout. Rather, it was symptomatic of chronic local dysfunction, in a municipality ranked South Africa’s second worst in a 2021 report on financial sustainability.",
        "Welkom is surrounded by enormous flat-topped mine dumps that rise from the plains like mesas. The roads have been devoured by potholes. Several years ago, zama-zamas began breaking open wastewater pipes to process gold ore, which requires large volumes of water. They also attacked sewage plants, extracting gold from the sludge itself. Now untreated sewage flows in the streets. In addition, zama-zamas stripped copper cables from around town and within the mines. Cable theft became so rampant that Welkom experienced power failures several times per week.",
        "As the gold-mining companies scaled back in South Africa, they left behind wasted landscapes and extensive subterranean workings, including railway lines and locomotives, intact winders and cages, and thousands of miles of copper cable. Many companies had devised protocols for withdrawing from depleted mines, but these were seldom followed; likewise, government regulations around mine closures were weakly enforced. “It’s as if they just locked the door—‘Now we’re done,’ ” a mine security officer said of the companies. Shafts were often sold many times over, the constant changing of hands allowing companies to evade responsibility for rehabilitation. By the early two-thousands, according to authorities, South Africa had a large number of “derelict and ownerless” gold mines across the country, creating opportunities for illegal mining. Mining researchers in South Africa sometimes joke that the story of gold mining runs from AA to ZZ—from multinationals like Anglo American to zama-zamas.",
        "Authorities first became aware of the burgeoning illegal-mining industry in the nineties. A fire broke out in one of Welkom’s operational shafts, and a rescue team was called to extinguish it. The team discovered several dead bodies—the suspected victims of carbon-monoxide inhalation. The managers of the mine were not missing any workers, and the dead men were carrying no identification. They had been mining illegally in a disused area. “We weren’t aware something like this could happen,” a member of the rescue team recalled. A few years later, in 1999, police arrested twenty-eight zama-zamas in a nearby section of the tunnels. The men, laid-off mine workers, knew their way around like spelunkers in a cave network. An investigator involved in the arrest described them to me as “the forefathers of underground illegal mining in South Africa.”",
        "Even before there were zama-zamas, South Africa had a thriving black market for gold. In 1996, a security manager at one of the country’s biggest mining houses prepared a report about gold theft, which he described as “the least reported and talked about criminal activity in South Africa.” Back then, workers often pilfered gold from processing plants. One cleaner smuggled out gold-bearing material in a bucket of water; painters on the roof of a facility removed gold through the air vents. An employee was caught with gold inside his tobacco pipe; he didn’t smoke, but had been using this method to steal for twenty years. Others used slingshots to shoot gold over security fences or flushed gold, wrapped in condoms, down the toilet, which they retrieved from nearby sewage plants. One official was observed, several times, leaving a facility with potted plants from his office; a security officer sampled the soil, which was rich in gold concentrate.",
        "In Welkom, the main destination for stolen gold was in Thabong, at a dormitory known as G Hostel. During apartheid, hostels housed migrant workers as a way of preventing them from settling permanently in cities; these hostels have since become notorious for crime and violence. G Hostel had multiple entrances and was difficult to surveil. It functioned as an illicit smelting house, where teams of men would crush and wash the gold, then process it into ingots. Following the rise of zama-zamas, G Hostel developed into one of the largest gold-smuggling centers in the country. Eventually, around twenty-five hundred people were crammed into the compound, many of them undocumented immigrants. Police frequently conducted raids; in 1998, officers recovered more than ten metric tons of gold-bearing material. One dealer had been selling an average of a hundred ounces of gold per day.",
        "During a raid in the early two-thousands, police arrested a zama-zama from Mozambique who gave his name as David Khombi. He was wearing a white vest, tattered cutoff jeans, and flip-flops. Khombi lived at the compound, where he supplemented his income by cutting hair, mending shoes, and tailoring Mozambican garments. Not long after the arrest, he was released and went underground, where he earned a small fortune, a former member of his inner circle told me. According to an expert on the illegal gold trade in the Free State, by 2008 Khombi had “started building his empire.”",
        "In South Africa, gold smuggling is loosely organized into a pyramid structure. At the bottom are the miners, who sell to local buyers, who sell to regional buyers, who sell to national buyers; at the top are international gold dealers. The margins at each level are typically low—unlike many other illicit products, the market price of gold is public—and turning a profit requires substantial investments of capital, Marcena Hunter, an analyst who studies illicit gold flows, told me. To move upward, Khombi focussed his attention on a different commodity: food.",
        "Sustaining thousands of zama-zamas underground is a complex and lucrative exercise in logistics. At first, many illegal miners in the Free State purchased food from legal mine workers, who sold their rations at inflated prices. But as the mines laid people off, and the number of zama-zamas grew, the syndicates began providing food directly. A new economy developed—one that could be even more profitable than gold. Men underground had little bargaining power, and markups on food usually ranged from five hundred to a thousand per cent. A loaf of bread that cost less than ten rand at the surface sold for a hundred rand down below. Fixed prices were set for peanuts, tinned fish, powdered milk, Morvite (a high-energy sorghum porridge originally developed for feeding mine workers), and biltong, a South African jerky.",
        "Zama-zamas could also purchase such items as cigarettes, marijuana, washing powder, toothpaste, batteries, and headlamps. They paid with the cash they made from selling gold; when they were flush, some miners celebrated with buckets of KFC, which were available underground for upward of a thousand rand. Around a decade ago, one KFC in Welkom was supplying so much food to gold syndicates that customers started avoiding it: orders took forever, items on the menu ran out, and meals were often undercooked. Police contacted the owner, who agreed to notify them whenever large orders came in. On one occasion, officers observed a truck picking up eighty buckets of chicken.",
        "Khombi began paying men to shop at wholesalers, package the goods in layers of cardboard and bubble wrap, and then drop the fortified parcels down the shafts. (They often used ventilation channels, the powerful updrafts slowing the rate at which the supplies fell.) As his earnings increased, Khombi began buying gold from zama-zamas, profiting doubly from their labor. He built a large house in Thabong, where he developed a reputation for sharing his wealth—“like a philanthropist,” one community activist told me. During his rise to prominence, he also made enemies. He was later shot in the face, but survived, and became known as David One Eye.",
        "Link copied",
        "One afternoon, I met a former zama-zama whom I’ll refer to as Jonathan. He spent a year in the tunnels around 2013. “We were thousands underground,” he recalled. The men worked bare-chested because of the heat, and they slept on makeshift bunks. Khombi controlled the supply of food, and there were deliveries of beer and meat—“everything,” Jonathan said. For nearly three months, Jonathan was dependent on a group of more experienced miners, who guided him through the tunnels and shared their supplies. Finding and extracting gold required considerable expertise, and some zama-zamas were able to read the rock like mineralogists. But there were also other jobs underground, and Jonathan found work as a welder, producing small mills, known as pendukas, for crushing ore. The other miners paid him in gold.",
        "Access to the tunnels was controlled, increasingly, by armed gangs from Lesotho, to whom Khombi paid protection fees. Known as the Marashea, or “Russians,” these gangs traced their origins to mining compounds on the Witwatersrand, where Basotho laborers banded together in the nineteen-forties. (Their name was inspired by the Russian Army, whose members were “understood to have been fierce and successful fighters,” the historian Gary Kynoch wrote, in “We Are Fighting the World: A History of the Marashea Gangs in South Africa, 1947–1999.”) The Marashea dressed in gum boots, balaclavas, and traditional woollen blankets, worn clasped beneath the chin. Following the rise of illegal mining, they muscled in on the shafts. They carried weapons—assault rifles, Uzis, shotguns—and fought viciously over abandoned mines. Accordion players affiliated with the gangs wrote songs taunting their enemies, like drill rappers with nineteenth-century instruments.",
        "Working with factions of the Marashea, Khombi seized control of large areas of the Free State goldfields. He structured his illicit business almost like a mine, with separate divisions for food, gold, and security. As his wealth grew, he and his wife acquired extravagant tastes. They built a second home in Thabong, so ornate that it drew comparisons to a compound built by Jacob Zuma, South Africa’s notoriously corrupt former President. On Instagram, Khombi posted photographs of himself wearing Italian suits and flexing his biceps in tight-fitting tees. (One caption: “Everyone talks about mother’s love but no one talks about a father’s sacrifice.”) He bought a fleet of cars, including a customized Range Rover worth an estimated quarter-million dollars, and opened a pair of night clubs in Thabong, rising above a sea of metal shacks. His wife, who was from an extremely poor family, began dressing in Gucci and Balenciaga, and often flew to Johannesburg for shopping trips.",
        "In the nineteen-fifties, according to Welkom records, there were white women who “made a point of flying regularly to Johannesburg for a day’s shopping.” Their husbands, who worked in the mines, were “absolutely fearless, accepting hazard and risk, with a terrific driving force to earn the maximum possible amount of money.” The structure of the company town guaranteed that, for its white residents, there was plenty of money in circulation. Khombi rose to the top of a new hierarchy, one that enriched a different set of bosses but was similarly based on Black labor.",
        "Today, a row of grand banks stands mostly shuttered, a putt-putt course has been taken over by drug dealers, and the public gardens are strewn with trash and stripped cables. This past November, a clock tower outside the civic center, considered one of Welkom’s landmarks, displayed a different incorrect time on each of its three faces, with a faded banner for an event in 2018. The commercial district has retreated into the Goldfields Mall, which was built in the nineteen-eighties; it has a giant statue of a rhinoceros out front. (In December, they gave the statue a Christmas hat.)",
        "I met a former police reservist there one morning. He asked to be identified as Charles. For around nine years, he was on Khombi’s payroll, selling him gold confiscated from rival dealers, protecting him, and escorting zama-zamas to the mines. Charles used the money to buy a new car and pay lobola, a bride-price customary in many Southern African cultures.",
        "Corruption is a corrosive force in South Africa. In Welkom, which has not received a clean financial audit since 2000, tens of millions of dollars in government funds have gone missing. Even in this context, Khombi’s influence was legendary. Charles estimated that seventy per cent of the local police force had been in the kingpin’s pocket; I took this to be an exaggeration, until a senior detective who works on illegal-mining cases corroborated the figure, laughing bitterly.",
        "But Khombi, like any capable mafia don, was also propping up core services of the city. He repaired dirt roads in Thabong and donated supplies to local schools. In 2015, the national electricity utility threatened to cut off power to Welkom and its surrounding towns unless the municipality began paying off an outstanding bill of around thirty million dollars. Rumors circulated that Khombi had made a cash payment to avert the power cuts.",
        "Corruption was just as pervasive in the operational mines. Smuggling in zama-zamas could cost as much as forty-five hundred dollars per person, according to the illegal-gold-mining expert. The process could require bribing up to seven employees at once, from security guards to cage operators; this meant that mine employees could earn many times their regular salaries through bribery. Some were caught with bread loaves strapped to their bellies and batteries hidden inside their lunchboxes, which they planned to sell to zama-zamas. They also served as couriers, ferrying gold and cash.",
        "Mine workers who couldn’t be paid off were targeted by the syndicates. In 2017, a Welkom mine manager known for his tough stance against zama-zamas was murdered. Two months later, a mine security officer was shot thirteen times on his way to work. The following year, an administrator was stabbed ten times at home while his wife and children were in another room, and the wife of a plant manager was kidnapped for a ransom of one bar of gold.",
        "Today, after a series of acquisitions and mergers, a single company, Harmony, owns the mines around Welkom. Harmony specializes in exploiting marginal deposits at so-called mature mines, which has allowed it to prosper during the twilight years of South Africa’s gold industry. According to a company presentation that I obtained, Harmony has spent roughly a hundred million dollars on security measures between 2012 and 2019, including outfitting its mines with biometric authentication systems. They have also demolished several dozen disused shafts. Company records show that more than sixteen thousand zama-zamas have been arrested since 2007; in addition, more than two thousand employees and contractors have been arrested under suspicion of taking bribes or facilitating illegal mining. But these arrests were mostly at the bottom of the illegal-mining hierarchy, and had little lasting impact.",
        "One day, I met a team of security officers who patrolled some of the mines beneath Welkom; several of them had worked in Afghanistan and Iraq, and told me that the mines were more dangerous. The officers recounted coming across explosives the size of soccer balls, stuffed with bolts and other shrapnel. In shoot-outs, bullets ricocheted off the mine walls. “It’s tunnel warfare,” a member of the team said.",
        "But in town, especially among poorer residents, there was a sense that this violence was peripheral to a trade that sustained a large number of people. Money from zama-zamas spilled over into the general economy, from food wholesalers to car dealerships. “The economy of Welkom is through zama-zamas,” Charles, the former police reservist, told me. “Now Welkom is poor because of one man.” A few years ago, Khombi began ordering brazen hits on his rivals, becoming the focal point of a wider clampdown on illegal mining. “He took it too far,” Charles said. “He ruined it for everyone.”",
        "The first known murder linked to Khombi was that of Eric Vilakazi, another syndicate leader who had been delivering food underground. In 2016, Vilakazi was shot dead in front of his home while holding his young child in his arms. (The child survived.) Afterward, Khombi visited Vilakazi’s family to share his condolences and to offer financial support for the funeral. “If he killed you, he’ll go see the wife the next day,” the former member of Khombi’s inner circle, who accompanied him on the visit, told me. An aspiring kingpin named Nico Rasethuntsha attempted to take over the area where Vilakazi had been operating, but a few months later he, too, was assassinated.",
        "In December, 2017, Thapelo Talla, an associate of Khombi’s who had tried to break away, was gunned down outside a party for Khombi’s wedding anniversary. The following month, a syndicate boss known as Majozi disappeared, along with a policeman who had worked with him; Majozi’s wife was found dead at their home, and his burned-out BMW was found near an abandoned hostel. (Informants said afterward that Majozi and the policeman were tossed down a shaft by Khombi’s henchmen.) Later, a gold smuggler named Charles Sithole was murdered after receiving death threats from Khombi, and a pastor in Thabong who had sold a house to Khombi, and was requesting the full payment, was shot and killed.",
        "The incident that led to Khombi’s undoing took place in 2017, at a cemetery outside Welkom. Like the towns around it, the cemetery was running to ruin—a metal sign over the entrance, along with some headstones, had been stolen. The graves had been racially segregated during apartheid, and headstones of white people remained clustered at one end. Khombi suspected one of his lieutenants of stealing money and gave orders for him to be shot in the cemetery. The body was discovered the next morning, lying beside an abandoned vehicle.",
        "One of Khombi’s men, who was at the cemetery that night, was also working as an informant for the police, and Khombi was eventually charged with murder. (The first investigating officer assigned to the case was found guilty of lying under oath to protect him.) Khombi was held at a local jail, where wardens delivered KFC to his cell. “They were treating him like a king,” the expert on the illegal gold trade told me. A man who was charged alongside Khombi was thought to have been poisoned—an effort, officials believe, to prevent him from testifying—and had to be brought to court in a wheelchair.",
        "The trial began in late 2019. Khombi, who had been released on bail, showed up in designer suits every day. He presented himself as a businessman with philanthropic interests, alleging that he was a victim of a conspiracy. The judge was unpersuaded. “The entire murder has the hallmark of a hit,” he declared, sentencing Khombi to life in prison. Khombi’s legal team is petitioning the courts to overturn this decision, but he also faces other charges: for the 2017 murder of Talla, and for identity fraud. (Police discovered two South African I.D.s in his home, with different names, both featuring his photograph.)",
        "I returned to Welkom to attend the trials for both cases. Last September, driving from Johannesburg along the arc of the Witwatersrand basin, I passed through a series of blighted mining towns, now home to armies of zama-zamas. It was the windy season, and clouds of dust blew from the mine dumps. The waste from South African gold mines is rich in uranium, and in the nineteen-forties the U.S. and British governments initiated a top-secret program to reprocess the material for the development of nuclear weapons. But a large number of dumps remain, with dangerously high levels of radioactivity. In Welkom, the dust blows into houses and schools. Some residential areas have radioactivity readings comparable to those of Chernobyl.",
        "The magistrate’s court is in the city center—a modernist building with arresting red metal finishes where thousands of zama-zamas have been prosecuted. In the halls, there are posters that read “STOP ILLEGAL MINING,” with images of gold in its different forms, from ore concentrate to refined bars. Outside the courtroom, on the first day of Khombi’s trial for identity fraud, a garrulous man wearing a kufi hat with a red feather introduced himself to me as Khombi’s half brother, although I later found out that he was a more distant relative. Without my asking, he said of Khombi, “He worked with gold, I won’t deny it. But he wasn’t a killer.” The problem, he told me, was the gangs from Lesotho: “He had to work with them.” Khombi had become rich from the gold trade, and also arrogant, he added. “But the cops were in his circle. Who’s the real mafia here?”",
        "Inside, Khombi was in shackles, laughing with the wardens. He wore a black sweatshirt pulled tight over his muscles, and his voice boomed across the courtroom. He had already begun serving his murder sentence, and in prison he was organizing prayer meetings for the inmates. (Khombi is a member of an Apostolic church.) Before the trial could begin, his defense lawyer secured a postponement, and Khombi was escorted back to the cells.",
        "Link copied",
        "I was able to speak to Khombi two months later, at the trial for Talla’s murder. Our conversations took place as he was led in and out of the courtroom, with his wardens repeatedly shooing me away. When I introduced myself, Khombi greeted me like a politician and gave me a warm handshake, as if he had been expecting me. He denied being a gold dealer, but said that he knew many people involved in the trade. “From what I have observed,” he said, “it involves a lot of people—police, judges, magistrates, security. It’s too dangerous to talk about.” He also told me, smiling, that he had paid close to a million dollars for the municipal electricity bill, and made separate payments for water. “I’m not what all these people say about me,” he said. “I don’t sit and plot to kill people.”",
        "One day in Welkom, I got lunch with Khombi’s legal adviser, a smooth-talking former attorney named Fusi Macheka, who was disbarred in 2011. Macheka is a lay pastor, and he blessed our food when it arrived. He told me that he had known Khombi since around 2007, claiming to have successfully defended him in an illegal-gold-dealing case at the time. “Ultimately he became my man,” Macheka said. “He calls me brother.”",
        "While we were talking, a man with heavily scarred forearms arrived and sat down without greeting me. Macheka introduced him as Khombi’s lieutenant. “He’s a shock absorber for him,” Macheka explained. The lieutenant, who gave his name as Sekonyela, was wearing a yellow golf shirt that identified him as the chairman of the Stingy Men Association of Free State, which he was reluctant to elaborate on. He had known Khombi for close to three decades, working his way up from being Khombi’s gardener to being his right-hand man. Through the years, he said, Khombi had paid for his wedding, including lobola and a honeymoon to Cape Town, and had given him multiple cars and motorbikes.",
        "A few days later, Sekonyela arrived on one of those bikes, a Yamaha with a top speed of around a hundred and thirty miles per hour, to accompany Macheka and me on a tour of Khombi’s properties. We began at Khombi’s newest home, purchased from the pastor who was murdered. It featured the only residential swimming pool in Thabong, Sekonyela said. A former chief interpreter of the Welkom magistrate’s court happened to be passing by, and he informed me, misleadingly, that Khombi was “never ever in court for one murder.” He added that Khombi had donated soccer balls and kits for two youth teams he managed. “He was for the people,” the interpreter said.",
        "Many people in the township shared stories of Khombi’s generosity and lamented his absence. “He wanted people’s stomachs to be full,” one community leader said. I heard about Khombi paying for children to go to school and providing cattle to slaughter at funerals. Multiple officials I spoke with believe that Khombi remains active in the illicit gold trade, organizing deals from inside prison, but I got the sense that his power had waned. Weeds flourished outside his properties, and his night clubs were often closed. Khombi’s incarceration had left room for other syndicates to grow, but nobody had inherited his mantle as Thabong’s benefactor. Macheka wanted me to appreciate his client’s importance in the community, but he was evasive when I asked if Khombi had been involved in gold smuggling. “I can’t say that with certainty,” Macheka replied. “According to my instructions, he was a hard worker.” Macheka also mentioned that Khombi had given him two cars. “He knew about this secret of giving,” Macheka had said, a few days earlier. “In terms of my Biblical understanding, you give one cent, you get a hundredfold. Maybe that was his secret.”",
        "Khombi’s murder conviction coincided with a joint operation, by various police agencies and a private-security firm contracted by Harmony, to bring illegal mining in the Free State under control. The project is called Knock Out, and its logo is a clenched fist. To circumvent the corruption in Welkom, fifty police officers were brought in from the city of Bloemfontein, a hundred miles away. The operation has recorded more than five thousand arrests; among those taken into custody were seventy-seven mine employees, forty-eight security officers, and four members of the military. Investigators opened cases against more than a dozen police officers. Some cops, in the face of increased scrutiny, preëmptively quit the force.",
        "Central to the operation was cutting off food supplies for zama-zamas underground. Investigators raided locations where food was being packed. In parallel, some of the operational mines instituted food bans for employees, and Harmony closed off more entrances to the tunnels. At first, contractors capped old shafts with slabs of concrete, but zama-zamas dug underneath and broke these open, so the contractors began filling the shafts with rubble, sealing them completely. The company spent two years on one shaft, pumping in seemingly endless volumes of concrete; investigators later discovered that, inside the tunnels, zama-zamas had been removing the slurry before it could set. On another occasion, a syndicate sent three excavators to reopen a shaft. Security officers who intervened were shot at and almost run over by one of the machines. (The driver was later convicted of attempted murder.) To regain control of the site, officials sent in helicopters and erected a perimeter of sandbags—“like an army camp,” one member of the operation told me.",
        "Sealing vertical shafts restricts access from the surface, but it does not close the entire tunnel network, and thousands of zama-zamas remained below Welkom, their food supplies dwindling. Many still owed money to the syndicates that had put them underground. They didn’t want to exit. How else were they going to pay? Jonathan, the former zama-zama, estimated that hundreds had died of starvation, including several of his friends. “The saddest part of it, the most painful, is that you can’t bury them,” he said.",
        "Burials are of supreme importance in many Southern African cultures. In the past, when zama-zamas died underground, their bodies would typically be carried, shrouded in plastic, to the nearest functioning shaft and left for mine employees to discover. Affixed to the corpses were labels with a contact number and a name. The bodies were repatriated to neighboring countries or buried in the Free State. But now so many men were dying that it was impossible to collect them all. Simon, the zama-zama from Zimbabwe, told me that during 2017 and 2018 more than a hundred men died on just two levels of the mine he was living in. Using blankets as stretchers, he and some other zama-zamas had carried out at least eight bodies, one at a time; each journey had lasted around twelve hours. “The first time I see a dead body, I’m scared,” he recalled. As conditions worsened underground—at one point, Simon went fourteen days without food—he stopped caring, and would sit on the bodies to rest.",
        "Operation Knock Out forced zama-zamas to go elsewhere in search of gold. Many left for Orkney, a mining town eighty miles north. One weekend in 2021, according to the South African Police Service, more than five hundred zama-zamas exited the tunnels in Orkney after their food and water supplies were cut off; days later, hundreds of men attempted to force their way back inside, culminating in a shoot-out with officials that left six dead. When I visited, a security officer took me to an abandoned shaft nearby that had been capped with concrete but blown open by zama-zamas. Ropes were strung over the mouth of the hole, which was more than a mile deep. The shaft was no longer ventilated, and gusts of hot vapor blew up from the tunnels. Marashean snipers were observing us from a mine dump; that night, more zama-zamas would lower themselves over the shaft’s edge.",
        "In Welkom, the drop in illegal mining dealt yet another blow to an already ravaged economy. “Most of our illegal miners are our businesspeople,” Rose Nkhasi, the president of the Free State Goldfields Chamber of Business at the time, told me. I met her in a boardroom with framed portraits of her predecessors, almost all of whom were white men. Nkhasi, who is Black, acknowledged the violence and corruption associated with gold smuggling, but she was frank about its role in sustaining Welkom. She singled out Khombi—“He’s huge in the township, like the biggest mafia”—for his economic impact. “He employs a lot of people,” she said. “You can feel his money.”",
        "Nkhasi owns a property with a car wash, a mechanical workshop, and a restaurant. In earlier years, she told me, zama-zamas would bring their cars in for repairs and order food, paying with two-hundred-rand bills—the largest denomination in South Africa—and declining change. Police vehicles cruised by to collect payments from Khombi’s henchmen. Nkhasi also has an independent town-planning practice, where syndicate leaders often brought her rezoning applications to build rental units. “They are the ones developing this town,” Nkhasi told me.",
        "Investigators believe that there are still around two hundred illegal miners underground, roaming the passages beneath Welkom; they are adamant that, eventually, many more will return. The problems are deeply embedded. South Africa, once the world’s largest gold producer by far, now ranks a distant tenth. The country is still home to some of the richest gold deposits in the world, and there are many companies that would be interested in digging for them. But there is an increasingly strained relationship between the state and the mining sector, with ever-shifting policies—including a requirement that a large number of shares go to historically disadvantaged South Africans—and the spectre of corruption acting as deterrents to investment. Margins on gold mines are thin, and increasing security costs, combined with gold losses to zama-zamas, can “eliminate most of the profits,” the former mining chairman told me. “Nobody wants to go into the casino.” The gold-mining industry has come to symbolize the dispossession and exploitation that have shaped South Africa, today the country with the highest income inequality in the world.",
        "One evening, before sunset, I drove out to an old shaft on the southern edge of Welkom. Sunk in the early nineteen-fifties, it once led to one of South Africa’s richest mines, producing thousands of tons of ore per day. The shaft was filled a few years ago, and all that remains is a low mound in the middle of a grassy field. Nearby, at a venue called Diggers Inn, where Khombi held his wedding, an end-of-year celebration was kicking off for the graduates of Welkom High School. A crowd had gathered to cheer for the teen-agers, many of whom had hired chauffeured cars. Not two thousand feet away, at the opposite end of the shaft, some men were at work with picks and shovels, scraping gold from the earth. ♦",
        "Queen Elizabeth II’s fine-tuned feelings.",
        "After Muhammad Ali, Richard Pryor was the baddest person anywhere.",
        "John and Yoko take Manhattan.",
        "Edith Piaf’s thousand (delightful) ways to bum you out.",
        "Searching for signs of Oprah in O magazine.",
        "Hattie McDaniel arrives at the Coconut Grove.",
        "Fiction by Miranda July: “Roy Spivey.”",
        "Sign up for our daily newsletter to receive the best stories from The New Yorker.",
        "By signing up, you agree to our User Agreement and Privacy Policy & Cookie Statement.",
        "By James Lasdun",
        "By Elizabeth Kolbert",
        "By Idrees Kahloon",
        "By Richard Brody",
        "Sections",
        "More",
        "© 2023 Condé Nast. All rights reserved. Use of this site constitutes acceptance of our User Agreement and Privacy Policy and Cookie Statement and Your California Privacy Rights. The New Yorker may earn a portion of sales from products that are purchased through our site as part of our Affiliate Partnerships with retailers. The material on this site may not be reproduced, distributed, transmitted, cached or otherwise used, except with the prior written permission of Condé Nast. Ad Choices"
      ],
      "summary": "page: To revisit this article, select My Account, then View saved stories,To revisit this article, visit My Profile, then View saved stories,By Kimon de Greef,A few years ago, a mining company was considering reopening an old mine shaft in Welkom, a city in South Africa’s interior.\nIn the past twenty years, zama-zamas have spread across South Africa’s gold-mining areas, becoming a national crisis."
    },
    {
      "title": "Learnings from employing ChatGPT as a ML Engineer for a day",
      "link": "https://encord.com/blog/we-employed-chatgpt-as-an-ml-engineer-this-is-what-we-learned/",
      "page": [
        "Eric Landau •February 22, 2023",
        "TLDR; Among the proliferation of recent use cases using the AI application ChatGPT, we ask whether it can be used to make improvements in other AI systems. We test it on a practical problem in a modality of AI in which it was not trained, computer vision, and report the results. The average over ChatGPT suggestions, achieves on average 10.1% improvement in precision and 34.4% improvement in recall over our random sample, using a purely data-centric metric driven approach. Code for the post is here.",
        "",
        "",
        "Introduction",
        "Few technological developments have captured the public imagination as quickly and as starkly as the release of ChatGPT by OpenAI.",
        "Within two months of launch, it had garnered over 100 million users, the fastest public application to do so in history. While many see ChatGPT as a leap forward technologically, its true spark wasn’t based on a dramatic technological step change (GPT3, the model it is based on has been around for almost 3 years), but instead on the fact that it was an AI application perfectly calibrated towards individual human interactions.",
        "It was its ostentatiousness as an AI system that could demonstrate real-world value that so thoroughly awed the public. Forms of AI are present in various aspects of modern life but are mostly hidden away (Google searches, Youtube recommendations, spam filters, identity recognition) in the background.",
        "ChatGPT is one of the few that is blatantly artificial, but also intelligent. AI being in the limelight has spawned a deluge of thought pieces, articles, videos, blog posts, and podcasts.",
        "Amid this content rush have been renewed questions and concerns around the more provocative implications of AI advancement, progression towards AI consciousness, artificial general intelligence(AGI), and a technological singularity. In the most speculative scenarios, the fear (or hope depending on who you ask) is that the sophistication, power, and complexity of our models will eventually breach an event horizon of breakaway intelligence, where the system develops the capability to iteratively self-improve both it’s core functionality and it’s own ability to self-improve. This can create an exponentially growing positive reinforcement cycle spurring an unknowable and irreversible transition of society and human existence as we know it.",
        "",
        "",
        "",
        "Not yet, ChatGPT",
        "",
        "",
        "To be clear…that’s not where we are.",
        "ChatGPT is not the dawn of the Terminator. Prognosticating on the direction of a technology still in rapid development is often a folly, and on its broader implications even more so. However, in the presence of a large looming and unanswerable question, we can still develop insights and intuition by asking smaller, more palatable ones.",
        "In that vein, we look for a simpler question we can pose and subsequently test on the topic of AI self-improvement:",
        "Can we find an avenue by which we can examine if one AI system can iteratively improve another AI system?",
        "We observe that the main agents at the moment for AI progression are people working in machine learning as engineers and researchers. A sensible proxy sub-question might then be:",
        "Can ChatGPT function as a competent machine learning engineer?",
        "",
        "The Set Up",
        "If ChatGPT is to function as an ML engineer, it is best to run an inventory of the tasks that the role entails. The daily life of an ML engineer includes among others:",
        "The thread tying together the role is the fact that machine learning engineers have to be versatile technical problem solvers. Thus, rather than running through the full gamut of ML tasks for ChatGPT, we can focus on the more abstract and creative problem-solving elements of the role.",
        "We will narrow the scope in a few ways by having ChatGPT:",
        "",
        "",
        "",
        "",
        "",
        "With this narrowed scope in mind, our approach will be to use ChatGPT to write custom quality metrics through Encord Active that we can run over the data, labels, and model predictions to filter and clean data in our panda problem.",
        "Quality metrics are additional parametrizations over your data, labels, and models; they are methods of indexing training data and predictions in semantically interesting and relevant ways. Examples can include everything from more general attributes like the blurriness of an image to arbitrarily specific ones like the number of average distance between pedestrians in an image.",
        "ChatGPT’s job as our ML engineer will be to come up with ideas to break down and curate our labels and data for the purpose of improving the downstream model performance, mediated through tangible quality metrics that it can program on its own accord.",
        "The code for an example quality metric is below:",
        "",
        "",
        "",
        "This simple metric calculates the aspect ratio of bounding boxes within the data set. Using this metric to traverse the dataset we see one way to break down the data:",
        "",
        "",
        "",
        "",
        "ChatGPT’s goal will be to find other relevant metrics which we can use to improve the data.",
        "One final point we must also consider is that ChatGPT is at a great disadvantage as an ML engineer. It can’t directly see the data it’s dealing with. Its implementation capabilities are also limited. Finally, ChatGPT, as a victim of its own success, has frequent bouts of outages and non-responses. ChatGPT is an ML engineer at your company that lives on a desert island with very bad wifi where the only software they can run is Slack. We thus require a human-in-the-loop approach for practical reasons. We will serve as the eyes, ears, and fingers of ChatGPT as well as its probing colleagues in this project.",
        "",
        "",
        "The Process",
        "With the constraints set above, our strategy will be as follows:",
        "",
        "With a data-centric approach, we will limit the variables with which ChatGPT has to experiment to just quality metrics. All models and hyper parameters will remain fixed. To summarise:",
        "",
        "",
        "",
        "One of the luxuries we have as humans versus a neural network trapped on OpenAI servers (for now), is we can directly look at the data. Through some light visual inspection, it is not too difficult to quickly notice label errors (that we deliberately introduced). Through the process, we will do our best to communicate as much as what we see to ChatGPT to give it sufficient context for its solutions. Some (incontrovertibly cute) data examples include:",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "With some clear labeling errors:",
        "",
        "",
        "",
        "",
        "",
        "Not exactly pandas",
        "",
        "",
        "Benchmarking",
        "",
        "With all this established, we can start by running an initial model to benchmark ChatGPT’s efforts. For our benchmark we take a random sample of 25% of the training data set and run it through the model training loop described above. Our initial results come to a mean average precision (mAP) of 0.595 and mean average recall of 0.629.",
        "",
        "",
        "",
        "",
        "We can now try out ChatGPT for where to go next.",
        "",
        "ChatGPT Does Machine Learning",
        "",
        "With our benchmark set, we engage with ChatGPT on ideas for ways to improve our dataset with quality metrics. Our first approach is to set up a high-level description of the problem and elicit initial suggestions.",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "A series of back and forths yields a rather productive brainstorming session:",
        "",
        "",
        "",
        "",
        "Already, we have some interesting ideas for metrics. To continue to pull ideas, we chat over a series of multiple long conversations, including an ill fated attempt to play Wordle during a break.",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "After our many interactions(and a solid rapport having been built) we can go over some of the sample metric suggestions ChatGPT came up with:",
        "",
        "",
        "Besides ideas for metrics, we also want its suggestions for how to use these metrics in practice.",
        "",
        "Data selection:",
        "Let’s ask ChatGPT what it thinks about using metrics to improve data quality.",
        "",
        "",
        "",
        "",
        "Label errors",
        "We can also inquire about what to do when metrics find potential label errors.",
        "",
        "",
        "",
        "To summarise, a few concrete strategies for improving our model according to ChatGPT are:",
        "",
        "",
        "We have now compiled a number of actionable metrics and strategies through ChatGPT ideation. The next question is:",
        "",
        "Can ChatGPT actually implement these solutions?",
        "",
        "The next step will be for it to instantiate its ideas as its own custom metrics. Let’s try it out by inputting some sample metric code and instructions from Encord Active’s documentation on an example metric:",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "From the surface, it looks good. We run through various other metrics ChatGPT suggested and find similar plausible looking code snippets we can try via copy/paste. Plugging these metric into Encord Active to see how well it runs we get:",
        "",
        "",
        "",
        "Looks like some improvement is needed here. Let’s ask ChatGPT what it can do about this.",
        "",
        "",
        "",
        "",
        "Uh-oh. Despite multiple refreshes, we find a stonewalled response. Like an unreliable colleague, ChatGPT has written buggy code and then logged out for the day, unresponsive.",
        "",
        "Seems like human input is still required to get things running. After a healthy amount of manual debugging, we do finally get ChatGPT’s metrics to run. We can now go back and implement its suggestions.",
        "",
        "As with any data science initiative, the key is trying many iterations over candidate ideas. We will run through multiple ChatGPT metrics and average the results, but for purposes of brevity we will only try the filtering strategy it suggested. We spare ChatGPT from running these experiments, letting it rest after the work it has done so far. We share sample code for some of our experiments and ChatGPT metrics in the Colab notebook here.",
        "",
        "The Results",
        "",
        "We run multiple experiments using ChatGPT’s metrics and strategies. Looking over metrics we can see ChatGPT’s model performance below.",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "The average over ChatGPT metric suggestions, achieves on average 10.1% improvement in precision and 34.4% improvement in recall over our random sample, using a purely data-centric metric driven approach.",
        "",
        "While not a perfect colleague, ChatGPT did a commendable job in ideating plausible metrics. Its ideas made a significant improvement in our panda detector. So is ChatGPT the next Geofrey Hinton?",
        "",
        "",
        "Not exactly. For one, its code required heavy human intervention to run. We also would be remiss to omit the observation that in the background of the entire conversation process, there was a healthy dose of human judgement implicitly injected. Our most successful metric in fact, the one that had the most significant impact in reducing label error, and improving model performance was heavily influenced by human suggestion:",
        "",
        "",
        "",
        "",
        "",
        "This “Bounding Box Tightness” metric, defined early, was arrived at over a series of prompts and responses. The path to the metric was not carved by ChatGPT, but instead by human hand.",
        "",
        "ChatGPT also missed the opportunity for some simple problem-specific metrics. An obvious human observation about pandas is their black and white colour. A straightforward metric to have tried for label error would have been taking the number of white and black bounding box pixels divided by the total number of pixels in the box. A low number for this metric would indicate that the bounding box potentially did not tightly encapsulate a panda. While obvious to us, we could not coax an idea like this despite our best efforts.",
        "",
        "",
        "Conclusion",
        "",
        "Overall, it does seem ChatGPT has a formidable understanding of computer vision. It was able to generate useful suggestions and initial template code snippets for a problem and framework for which it was unfamiliar with. With its help, we were able to measurably improve our panda detector.The ability to create code templates rather than having to write everything from scratch can also significantly speed up the iteration cycle of a (human) ML engineer.",
        "",
        "Where it lacked, however, was in its ability to build off its own previous ideas and conclusions without guidance. It never delved deeper into the specificity of the problem through focused reasoning.",
        "",
        "For humans, important insights are not easily won, they come from building on top of experience and other previously hard-fought insights. ChatGPT doesn’t seem to have yet developed this capability, still relying on the direction of a “prompt engineer.” While it can be a strong starting point for machine learning ideas and strategies, it does not yet have the depth of cognitive capacity for independent ML engineering.",
        "",
        "Can ChatGPT be used to improve an AI system? Yes.",
        "",
        "Would we hire it as our next standalone ML engineer? No.",
        "",
        "Let’s wait until GPT4.",
        "",
        "In the meantime, if you’d like to try out Encord Active yourself you can find the open source repository on GitHub and if you have questions on how to use ChatGPT to improve your own datasets ask us on our Slack channel.",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "",
        "Get the latest computer vision news and insights",
        "Related Blogs",
        "February 20, 2023",
        "3 min read",
        "February 13, 2023",
        "15 min read",
        "February 9, 2023",
        "15 min read",
        "Get occasional product updates and tutorials to your inbox."
      ],
      "summary": "We test it on a practical problem in a modality of AI in which it was not trained, computer vision, and report the results.\nExamples can include everything from more general attributes like the blurriness of an image to arbitrarily specific ones like the number of average distance between pedestrians in an image.,ChatGPT’s job as our ML engineer will be to come up with ideas to break down and curate our labels and data for the purpose of improving the downstream model performance, mediated through tangible quality metrics that it can program on its own accord.,The code for an example quality metric is below:,,,,This simple metric calculates the aspect ratio of bounding boxes within the data set."
    },
    {
      "title": "Gossip Glomers: Fly.io Distributed Systems Challenges",
      "link": "https://fly.io/blog/gossip-glomers/",
      "page": [
        "We're Fly.io. We run apps for our users on hardware we host around the world. This post isn't about our platform. Rather, it's an elaborate plot to get you to write some code just for the hell of it.",
        "In the field of computer science, the industry is represented by two separate yet equally important groups: the software developers who build Rails applications and mobile games, and the academics who write theory papers about why the problems those apps try to solve are NP-hard. This is a story about both.",
        "Distributed systems span the practical-academic divide. Reading a stack of MIT PhD dissertations may be a good Friday night, but it won't equip you for debugging a multi-service outage at 2am. That requires real-world experience.",
        "Likewise, building a fleet of microservices won't give you the conceptual tools to gracefully & safely handle failure. Many failure scenarios are rare. They don't show up in unit tests. But they're devastating when they do show up. Nailing down the theory gives you a fighting chance at designing a correct system in the first place.",
        "The practical and academic tracks seldom converge. To fix this, we teamed up with Kyle Kingsbury, author of Jepsen, to develop a series of distributed systems challenges that combine real code with the academic rigor of Jepsen's verification system.",
        "We call these challenges the Gossip Glomers.",
        "What the f$#* is a Glomer?  It's an elaborate pun about the CAP theorem.",
        "You know Kyle Kingsbury from his \"Call Me Maybe\" blog posts that eviscerate distributed databases. You may also have known about Jepsen, the Clojure-based open-source tooling Kyle uses to conduct these analyses. Well, Kyle also wrote another tool on top of Jepsen called Maelstrom.",
        "Maelstrom runs toy distributed systems on a simulated network. It easily runs on a laptop. Kyle uses it to teach distributed systems. We all thought it'd be neat to build a series of challenges that would teach people around the Internet Maelstrom, and, in turn, some distributed systems theory.",
        "Each challenge is composed of several parts:",
        "Our challenges start off easy and get more difficult as you move along. They're organized into six high-level challenges with many of those having several smaller challenges within them.",
        "First, you'll start with the Echo challenge. This is the \"hello world\" of distributed systems challenges. It gets you up and running and helps you understand how these challenges work.",
        "Next, you'll build a totally-available, distributed unique ID generator. In this challenge, nodes will need to be coordination-free and independently generate a unique identifier for any number of clients.",
        "After that, the difficulty starts to ramp up with the broadcast challenge. In this challenge, you'll need to propagate messages out to all the nodes in the cluster. You'll need to ensure fault tolerance in the face of network partitions and then work to optimize your message delivery to minimize the number of messages sent within your system.",
        "Once you've made it past broadcast, you'll implement a grow-only counter, or g-counter. The tricky part with this challenge is that you'll need to build on top of Maelstrom's sequentially consistent key/value store.",
        "Then you'll dive into the world of replicated logs by building a Kafka-like system. This challenge will build on the linearizable key/value store provided by Maelstrom but you'll need to figure out how to not only make it correct but also efficient.",
        "Finally, you'll wrap up with the totally-available transactions challenge where you'll build a transactional database on various consistency levels.",
        "Over the past year, we've been growing like gangbusters. That's great. But it also means we've been hiring, and hiring is hard.",
        "We hire resume-blind, based on work-sample tests: we have people write code and design systems, and then score those submissions based on a rubric. We've got criteria set up for early-career, mid-level, and team-lead developers. But we didn't have strong criteria for hiring staff engineers.",
        "So we began tossing around ideas. In a previous life, some of us had success with a series of cryptography challenges called Cryptopals, so we figured we'd try something similar, but with a distributed systems flavor.",
        "That sounded great but how do you actually test distributed systems to know if someone passed or failed? For weeks, we wrote up one iteration after another but none of them felt right.",
        "Finally, we had a brilliant idea. Let's find someone who lives and breathes distributed system validation! That someone is Kyle Kingsbury.",
        "After working on these challenges with Kyle, we realized that they are too much fun to keep to ourselves as an internal evaluation tool. So we're releasing them for anyone to play with.",
        "If you scoff in the face of cascading failures, if you bend consistency levels to your will, and if you read k8s.af post-mortems as bedtime stories to your kids, you may be interested in trying our hardest challenge.",
        "We reserved this last challenge for evaluating our staff engineers at Fly.io. So if you think you'd be up to the challenge, we'd love to talk to you.",
        "Copyright © 2023 Fly.io"
      ],
      "summary": "title: Gossip Glomers: Fly.io Distributed Systems Challenges.\nTo fix this, we teamed up with Kyle Kingsbury, author of Jepsen, to develop a series of distributed systems challenges that combine real code with the academic rigor of Jepsen's verification system.,We call these challenges the Gossip Glomers.,What the f$#* is a Glomer?"
    },
    {
      "title": "Eggspensive",
      "link": "https://eggspensive.net/",
      "page": [
        "This website tracks the price of \"12 Great Value Large White Eggs\" at Walmart locations across the U.S.Please note that online prices may differ to prices shown in store. All prices correct at time of retrieval.📧 QuestionsLast Update: 📊 View The Data"
      ],
      "summary": "page: This website tracks the price of \"12 Great Value Large White Eggs\" at Walmart locations across the U.S.Please note that online prices may differ to prices shown in store.\nAll prices correct at time of retrieval.📧 QuestionsLast Update: 📊 View The Data"
    },
    {
      "title": "The Unreasonable Effectiveness of Conditional Probabilities",
      "link": "https://two-wrongs.com/unreasonable-effectiveness-of-conditional-probabilities.html",
      "page": [
        "I have been steeping myself in probabilistic exercises recently, because it’s anarea where I feel like I could benefit from building better intuition. I havefound a recurring key to solving many of them: conditioning on an intermediarystate, and then computing the value of that intermediary state separately. Thisturns very difficult problems into ones where the solution is almostobvious.11 Although sometimes we are trading efficiency for simplicity, here.",
        "That was useful in the Birthday Line Puzzle, but here are three more exampleswhere it shows up. If you find the a problem uninteresting, scroll on downto the next – they’re all different.",
        "A fast food franchise includes a toy in their child-size meals. Thereare four different toys. Each meal costs $8. How much do you expect to paybefore you have all four toys?",
        "As always with these types of problems, start by gut feeling your way toward arough approximation.22 The minimum number of meals would be four, and I wouldbe very surprised if it took anyone more than 25 meals, so maybe a reasonableguess for the expected cost is in the range of $50–120 ? It’s a very roughestimation, but better than none at all! Sometimes you need to get a solutionto a problem out quickly while you’re working on a more accurate one, and thenit’s useful to have practised your gut feeling.",
        "The cost is a simple function of the number of meals you buy, so let’s focus onthe number of meals. There are many ways to work out that expectation, but Ifavour methods that build on fundamentals33 The reason for this is that mymemory is terrible but my intelligence usually serves me well, so by focusing onfundamentals I can memorise fewer things but apply them in a wide variety ofways.,44 Another reason to work with fundamentals is that they are robustagainst variations in problem specification. In this example, all toys have thesame probability of appearing. if they did not, that would invalidate some othertypes of analysis. This one would be relatively easy to adapt to account forthat.. From a fundamentals perspective, the expected number of meals is afunction of the probability of finding the fourth toy in any specific meal. Tomake the solution simpler55 More steps, but each step is simpler., we’llstart by looking at the probability of having four toys (not finding the fourthtoy) after having bought any number of meals.",
        "We are going to write the probability of having \\(k\\) toys after \\(i\\) meals as\\(P(n_i=k)\\). Some examples are trivial:",
        "Computing this probability for any combination of \\(i\\) and \\(k\\) is formidable, butwe can break it up into multiple, easier, parts. If we have three toys after wehave eaten the sixth meal, there are only two ways that can happen. Either",
        "In more general mathematical notation, we would write that as",
        "\\[P(n_i=k) = P(n_i=k, n_{i-1}=k) + P(n_i=k, n_{i-1}=k-1).\\]",
        "We are one step closer, but not quite there yet. What is the probability of e.g.\\(P(n_i = k, n_{i-1}=k)\\)? I.e. what’s the probability that we had \\(k\\) toys after theprevious meal, and still have \\(k\\) now? We can split that up further, and thisis where the power of conditional probabilities come in. Probability laws tellus that",
        "\\[P(a, b) = P(a \\mid b) \\times P(b),\\]",
        "i.e. the probaiblity that \\(a\\) and \\(b\\) happens is equal to the probability that\\(a\\) happens given that \\(b\\) has already happened, times the probability that \\(b\\)happens in the first place. Applied to our example, we have",
        "\\[P(n_i=k, n_{i-1}=k) = P(n_i=k \\mid n_{i-1} = k) \\times P(n_{i-1} = k).\\]",
        "The first of these factors, \\(P(n_i=k \\mid n_{i-1} = k)\\) is the probability ofnot finding the next toy in meal \\(i\\). This depends only on how many toys wehave: if we have one toy, the probability of getting that same toy again is 1/4.If we have three toys, the probability of getting any of them again is 3/4.",
        "The second factor, \\(P(n_{i-1} = k)\\) can be computed recursively.",
        "Similar reasoning applies to the other case where we do find toy \\(k\\) in meal\\(i\\). In the end, the probability ofhaving \\(k\\) toys after \\(i\\) meals is",
        "\\[\\begin{array}{l}P(n_i=k) &= &P(n_i=k &\\mid &n_{i-1}&=&k) &\\times &P(n_{i-1}&=&k) \\\\&+ &P(n_i=k &\\mid &n_{i-1}&=&k-1) &\\times &P(n_{i-1}&=&k-1).\\end{array}\\]",
        "If you read it carefully, you should be able to figure out the intuitive meaningof each factor. Given what we know about the conditional probabilities, we canalso simplify the calculation a bit more.66 If you are confused about the 5-knumerator: Given that we have \\(k-1\\) toys after meal \\(i-1\\), the probability offinidng toy \\(k\\) in this meal depends only on how many toys we are missing. if weare looking for the last toy, the probability of finding it is 1/4. One placeit’s easy to slip here is that if we are looking for toy \\(k\\), that means we aremissing not just 4-k toys, but 4-(k-1) = 5-k toys.",
        "\\[P(n_i=k) = \\frac{k}{4} \\times P(n_{i-1}=k) + \\frac{5-k}{4} \\times P(n_{i-1}=k-1)\\]",
        "We can, in principle, calculate this in a spreadseheet. For the first meal, wehard-code (1,0,0,0) because we will find the first toy in that first meal, andit gives the recursion a base case to rest on. Similarly, the probaiblity ofhaving 0 toys is 0 after every meal – also a base case for the recursion. Thenfor each cell, we set it to be k/4 times the cell to the left, and (5-k)/4 timesthe cell above and to the left.77 It surprised me that, after eating fourmeals, there’s a much larger probaility that we have all four toys (9 %) thanthat we still have just one (2 %). To my intuition, those two cases both seemlike equally unlikely flukes – either we get the same toy in every meal, or weget a different one in every meal. The reason four toys is more likely is thatit offers more choices for the order in which second, third, and fourth toy arereceived.",
        "When we get tired of autofilling cells in spreadsheets, we can alsowrite the recursion in something like Python, and ask for the probability ofhaving four toys after eating five meals, for example. According to ourspreadsheet sketch, this should be 23 %.",
        "And it is!",
        "However, if we try to use this to find the probability of having fourtoys after every meal, we may run into a problem that the recursion isinefficient. Since every meal depends only on the meal before, and the number oftoys we find cannot decrease, we can use dynamic programming instead ofrecursion.",
        "This function will return a generator for the probability of having four toysafter every meal. If we slice out the first five probabilities, they shouldmirror what we had in our spreadsheet.",
        "They do!",
        "What we have now is a way to figure out what the probability is of having fourtoys after a given number of meals. The original question we wanted to answerwas about the probability of finding the fourth toy. However, if we take theprobability of having the fourth toy after meal 9, and subtract the probabilityof having the fourth toy after meal 8, then we get the probability of havingfound the fourth toy in meal 9.",
        "We create a new generator based on the one we have which computes thesesuccessive differences.",
        "Then we can use this to compute the expected number of meals we’ll go through,by multiplying the probability of finding the fourth toy in each meal with itsmeal number. Since we have an infinite number of such probabilities, we’ll haveto limit this computation to, say, the first 150, which seems to contain most ofthe information of the entire series.88 How did I arrive at 150? I just trieda bunch of numbers until the result stabilised.",
        "This is the number of meals we should expect to buy! At $8 apiece, we shouldexpect to spend about $67. Depending on the quality of toys and theircollectible value, that might be a tad much.",
        "We want to validate our calculations. Fortunately, this scenario is small enoughthat we can just simulate it outright. We write one function that simulatesbuying meals until it has got all four toys99 What about the iteration limit?Doesn’t matter for the simulation because in practise it will always find allfour toys well before it has bought a thousand meals. It’s just that havinganything that can potentially turn into an infinite loop is a bad idea forproduction code, so I have the habit of always encoding iteration limits onthese things if I can’t prove they will terminate on their own., and anotherthat runs this simulation a large number of times to get the average number ofmeals purchased.",
        "It is indeed close to the theoretical 8.33 value we found before. Good!",
        "The game master rolls a die once. You win a dollar amount equal to the number ofpips on the side that is up, but you can exchange your winnings (whatever theywere) for a new roll. You can do this two times – in other words, on the thirdroll you have to accept whatever winnings you get. It costs $4 to enter thisgame. Would you play?",
        "The question is whether the expected value, or ev, of the first throw exceedsthe $4 cost of entering the game. That sounds tough to figure out. However, wecan quickly rattle off the ev of the third throw: $3.5.1010 This is theaverage number of pips a die will show. We can go backwards from there. If weassume we’ve chosen to do the second roll, then our choice is between keepingour current winnings (a known number in the 1–6 range) or we take our chances onthe last roll, ev 3.5.",
        "Clearly, if our second roll ended up being 1–3, we should take our chances onthe third roll. If our second roll ended up being 4–6, we will on average earnmore by keeping those winnings and not rolling again. What, then, is the ev ofthe second roll? There are two possibilities:",
        "Both of these outcomes are equally likely, meaning the ev is(3.5+5)/2 = 4.25.",
        "We use the same reasoning to go back to the first throw. Given the ev of thesecond throw, we would keep our winnings on the first throw only if they are 5or 6. This means the first throw has an ev of 2/6 × 5.5 + 4/6 × 4.25 = 4.67.",
        "If someone charges us just $4 for this, we should play as much as we can, for anaverage profit of $0.67 per game! But the reason we can work this out is thatwe’re able to condition on the outcome of the previous throw, and we know theprobabilities of that.",
        "Team Alpha plays a series of games against team Bravo, with the winner of theseries being the first to win two games. Your friend wants to wager on teamAlpha taking the entire series (i.e. being the first to two wins), but thebookies will only allow wagers on individual games, with odds 2:1, meaning youpay $1 to enter the wager, and if you have picked the winning team you get $2back, otherwise nothing.",
        "You tell your friend that you will be counterparty to their bet, and pay outtwice what they pay you if Alpha wins, otherwise nothing. Are you making amistake?",
        "Assuming you don’t want to hold the risk of that bet, the question is really“for each $1 your friend gives you, can you place it on the individual gameswith the bookies such that at the end, you get $2 if Alpha takes the entireseries, and nothing otherwise?”",
        "The series structure can be drawn like this.1111 The white nodes representgames, and the score in the node is the record of wins to each team before thegame starts. The black nodes indicate that a winner is determined and no moregames are played, and the series result is indicated in the node.",
        "",
        "In the outcomes represented by the two top black nodes, we need to be inpossession of $2, and in the bottom two nodes, nothing. For clarity, let’s addthis information to the graph.",
        "",
        "This puts a constraint on the 1–1 game: we need to place a bet such that ifAlpha wins, we get $2, and if Alpha loses, we have nothing. Some thinking willlead to the answer: before that game, we must be in possession of $1, and placeit all on Alpha winning the game. We’ll add that to the graph too.",
        "",
        "Now the process repeats. This has put a constraint on the 1–0 game. We have topossess and wager money such that if Alpha wins, we have $2, and if Alpha loses,we still have $1. This can only happen if we have $1.5, and wager $0.5. Thiscontinues all the way to the first game:",
        "",
        "In other words, as long as the odds for all games are set in advance, we canreplicate the 2:1 series bet by cleverly betting on the individual games. Wefigured out how by conditioning on the outcome of earlier games.",
        "In this small number of games, we could do the calculations manually. If theteams play more games, we might want to make a spreadsheet. If we tilt our head,the nodes in the graphs above actually sort of make up a coordinate system,where each axis counts the number of wins by the corresponding team.",
        "So we can start our spreadsheet by filling in the boundary conditions, here fora first-to-three-wins series, again, with 2:1 odds on both individual games andthe series. In each cell is the amount of money we have in the outcome inquestion.",
        "Now, for each game, we have the following equations:",
        "\\[w + x = R\\]",
        "\\[w - x = D\\]",
        "where \\(w\\) is wealth before the game, \\(x\\) is bet size, \\(R\\) is the cell to theright and \\(D\\) is the cell below. We can add those together to cancel out the betsize, and then we learn that",
        "\\[2w = R + D\\]",
        "or simply that the wealth in each cell should be the average of the win and theloss on that bet. (Due to the 2:1 odds.)",
        "We plug this in and autofill from the bottom right to the top left.",
        "This doesn’t tell us directly how to bet, only how much money to have in varioussituations. But we can derive how much to bet from this, using the sameequations as above.",
        "If the odds are something other than 2:1, e.g. 1.63, we would end up with only atiny bit more complicated equations:",
        "\\[w + 0.63x = R\\]",
        "\\[w - x = D\\]",
        "which combined give us \\(w = (1.59R + W)/2.59\\). If we plug that formula into ourspreadsheet instead, we’ll see that to end up with $1 if A wins, we have tostart with $0.71.",
        "From this, we learn that the appropriate odds for the entire series, based onthe odds for the individual games, is 0.71:1, or 1.41 decimal.",
        "Although sometimes we are trading efficiency for simplicity, here.",
        "The minimum number of meals would be four, and I wouldbe very surprised if it took anyone more than 25 meals, so maybe a reasonableguess for the expected cost is in the range of $50–120 ? It’s a very roughestimation, but better than none at all!",
        "The reason for this is that mymemory is terrible but my intelligence usually serves me well, so by focusing onfundamentals I can memorise fewer things but apply them in a wide variety ofways.",
        "Another reason to work with fundamentals is that they are robustagainst variations in problem specification. In this example, all toys have thesame probability of appearing. if they did not, that would invalidate some othertypes of analysis. This one would be relatively easy to adapt to account forthat.",
        "More steps, but each step is simpler.",
        "If you are confused about the 5-knumerator: Given that we have \\(k-1\\) toys after meal \\(i-1\\), the probability offinidng toy \\(k\\) in this meal depends only on how many toys we are missing. if weare looking for the last toy, the probability of finding it is 1/4. One placeit’s easy to slip here is that if we are looking for toy \\(k\\), that means we aremissing not just 4-k toys, but 4-(k-1) = 5-k toys.",
        "It surprised me that, after eating fourmeals, there’s a much larger probaility that we have all four toys (9 %) thanthat we still have just one (2 %). To my intuition, those two cases both seemlike equally unlikely flukes – either we get the same toy in every meal, or weget a different one in every meal. The reason four toys is more likely is thatit offers more choices for the order in which second, third, and fourth toy arereceived.",
        "How did I arrive at 150? I just trieda bunch of numbers until the result stabilised.",
        "What about the iteration limit?Doesn’t matter for the simulation because in practise it will always find allfour toys well before it has bought a thousand meals. It’s just that havinganything that can potentially turn into an infinite loop is a bad idea forproduction code, so I have the habit of always encoding iteration limits onthese things if I can’t prove they will terminate on their own.",
        "This is theaverage number of pips a die will show.",
        "The white nodes representgames, and the score in the node is the record of wins to each team before thegame starts. The black nodes indicate that a winner is determined and no moregames are played, and the series result is indicated in the node.",
        "Comments? Send me an email.I will                publish your comment on this site as soon as I'm able.",
        "",
        "You can also show your support                by buying me a coffee,                iff you want                to."
      ],
      "summary": "However, if we take theprobability of having the fourth toy after meal 9, and subtract the probabilityof having the fourth toy after meal 8, then we get the probability of havingfound the fourth toy in meal 9.,We create a new generator based on the one we have which computes thesesuccessive differences.,Then we can use this to compute the expected number of meals we’ll go through,by multiplying the probability of finding the fourth toy in each meal with itsmeal number.\nYour friend wants to wager on teamAlpha taking the entire series (i.e. being the first to two wins), but thebookies will only allow wagers on individual games, with odds 2:1, meaning youpay $1 to enter the wager, and if you have picked the winning team you get $2back, otherwise nothing.,You tell your friend that you will be counterparty to their bet, and pay outtwice what they pay you if Alpha wins, otherwise nothing."
    },
    {
      "title": "NASA's planetary radar captures detailed view of oblong asteroid",
      "link": "https://phys.org/news/2023-02-nasa-planetary-radar-captures-view.html",
      "page": [
        "Click here to sign in with                                                                                                                                    or",
        "Forget Password?",
        "Learn more",
        "share this!",
        "518",
        "49",
        "Share",
        "Email",
        "February 18, 2023",
        "by \t\t\t\t\t\t\t\t\t\t NASA",
        "On Feb. 3, an asteroid more than three times as long as it is wide safely flew past Earth at a distance of about 1.1 million miles (1.8 million kilometers, or a little under five times the distance between the Moon and Earth). While there was no risk of the asteroid—called 2011 AG5—impacting our planet, scientists at NASA's Jet Propulsion Laboratory in Southern California closely tracked the object, making invaluable observations to help determine its size, rotation, surface details, and, most notably, shape.",
        "",
        "This close approach provided the first opportunity to take a detailed look at the asteroid since it was discovered in 2011, revealing an object about 1,600 feet (500 meters) long and about 500 feet (150 meters) wide—dimensions comparable to the Empire State Building. The powerful 230-foot (70-meter) Goldstone Solar System Radar antenna dish at the Deep Space Network's facility near Barstow, California, revealed the dimensions of this extremely elongated asteroid.",
        "\"Of the 1,040 near-Earth objects observed by planetary radar to date, this is one of the most elongated we've seen,\" said Lance Benner, principal scientist at JPL who helped lead the observations.",
        "The Goldstone radar observations took place from Jan. 29 to Feb. 4, capturing several other details: Along with a large, broad concavity in one of the asteroid's two hemispheres, 2011 AG5 has subtle dark and lighter regions that may indicate small-scale surface features a few dozen meters across. And if the asteroid were viewed by the human eye, it would appear as dark as charcoal. The observations also confirmed 2011 AG5 has a slow rotation rate, taking nine hours to fully rotate.",
        "Beyond contributing to a better understanding of what this object looks like up close, the Goldstone radar observations provide a key measurement of the asteroid's orbit around the Sun. Radar provides precise distance measurements that can help scientists at NASA's Center for Near Earth Object Studies (CNEOS) refine the asteroid's orbital path. Asteroid 2011 AG5 orbits the Sun once every 621 days and won't have a very close encounter with Earth until 2040, when it will safely pass our planet at a distance of about 670,000 miles (1.1 million kilometers, or nearly three times the Earth-Moon distance).",
        "\"Interestingly, shortly after its discovery, 2011 AG5 became a poster-child asteroid when our analysis showed it had a small chance of a future impact,\" said Paul Chodas, the director for CNEOS at JPL. \"Continued observations of this object ruled out any chance of impact, and these new ranging measurements by the planetary radar team will further refine exactly where it will be far into the future.\"",
        "CNEOS calculates every known near-Earth asteroid orbit to provide assessments of potential impact hazards. Both the Goldstone Solar System Radar Group and CNEOS are supported by NASA's Near-Earth Object Observations Program within the Planetary Defense Coordination Office at the agency's headquarters in Washington.",
        "More information:\t\t\t\t\t\t\t\t\t\t\t\tMore information about planetary radar, CNEOS, and near-Earth objects can be found at: www.jpl.nasa.gov/asteroid-watch",
        "Provided by\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\t\tNASA",
        "Explore further",
        "Facebook",
        "Twitter",
        "Email",
        "Feedback to editors",
        "1 hour ago",
        "1",
        "1 hour ago",
        "0",
        "1 hour ago",
        "0",
        "3 hours ago",
        "0",
        "3 hours ago",
        "0",
        "8 minutes ago",
        "52 minutes ago",
        "52 minutes ago",
        "1 hour ago",
        "1 hour ago",
        "1 hour ago",
        "1 hour ago",
        "1 hour ago",
        "1 hour ago",
        "1 hour ago",
        "Jan 25, 2023",
        "Jan 26, 2023",
        "Mar 26, 2021",
        "Sep 6, 2017",
        "Sep 3, 2021",
        "Aug 18, 2017",
        "2 hours ago",
        "3 hours ago",
        "23 hours ago",
        "Feb 20, 2023",
        "Feb 20, 2023",
        "Feb 20, 2023",
        "Use this form if you have come across a typo, inaccuracy or would like to send an edit request for the content on this page.\t\t\t\t\t\t\t\t\t\t\tFor general inquiries, please use our  contact form.\t\t\t\t\t\t\t\t\t\t\tFor general feedback, use the public comments section below (please adhere to guidelines).",
        "Please select the most appropriate category to facilitate processing of your request",
        "Thank you for taking time to provide your feedback to the editors.",
        "Your feedback is important to us. However, we do not guarantee individual replies due to the high volume of messages.",
        "Your email address is used only to let the recipient know who sent the email. Neither your address nor the recipient's address will be used for any other purpose.\t\t\t\t\t\t\t\t\t\t\tThe information you enter will appear in your e-mail message and is not retained by Phys.org in any form.",
        "",
        "Get weekly and/or daily updates delivered to your inbox.\t\t\t\t\tYou can unsubscribe at any time and we'll never share your details to third parties.",
        "More information\t\t\t\t\tPrivacy policy",
        "Medical research advances and health news",
        "The latest engineering, electronics and technology advances",
        "The most comprehensive sci-tech news coverage on the web",
        "This site uses cookies to assist with navigation, analyse your use of our services, collect data for ads personalisation and provide content from third parties.                    By using our site, you acknowledge that you have read and understand our Privacy Policy                    and Terms of Use."
      ],
      "summary": "title: NASA's planetary radar captures detailed view of oblong asteroid.\nWhile there was no risk of the asteroid—called 2011 AG5—impacting our planet, scientists at NASA's Jet Propulsion Laboratory in Southern California closely tracked the object, making invaluable observations to help determine its size, rotation, surface details, and, most notably, shape.,,This close approach provided the first opportunity to take a detailed look at the asteroid since it was discovered in 2011, revealing an object about 1,600 feet (500 meters) long and about 500 feet (150 meters) wide—dimensions comparable to the Empire State Building."
    },
    {
      "title": "Show HN: We’re open-sourcing our session replay tool",
      "link": "https://github.com/highlight/highlight",
      "page": [
        "highlight.io: The open source, full-stack monitoring platform. Error monitoring, session replay, logging and more.",
        "Use Git or checkout with SVN using the web URL.",
        "Work fast with our official CLI.      Learn more.",
        "Please                sign in                to use Codespaces.",
        "If nothing happens, download GitHub Desktop and try again.",
        "If nothing happens, download GitHub Desktop and try again.",
        "If nothing happens, download Xcode and try again.",
        "Your codespace will open once ready.",
        "There was a problem preparing your codespace, please try again.",
        "",
        "",
        "Docs - Community (Support & Feedback) - Feature request - Bug report",
        "highlight.io is a monitoring tool for the next generation of developers (like you!). Unlike the age-old, outdated tools out there, we aim to build a cohesive, modern and fully-featured monitoring solution, something we wished WE had. And it's all open source :)",
        "At a high level, highlight.io's feature set is:",
        "Read more about our features below.",
        "We strive to make highlight.io as easy to install as a few lines of code in any environment.",
        "Read more about our features, values and mission below, and get started at https://highlight.io today!",
        "The fastest and most reliable way to get started with highlight.io is signing up for free at app.highlight.io. After making an account, getting started is as easy as installing the client SDK snippet.",
        "Deploy a hobby instance in one line on Linux with Docker (recommended 16 CPU cores, 32GB RAM, 256GB disk):",
        "After a brief frontend load time, the app should be accessible at https://localhost:3000",
        "Good for <10k sessions and <50k errors ingested monthly. See our docs for more info and limitations.",
        "See our enterprise self-hosted docs to deploy a scalable, production-ready instance with support from our team.",
        "",
        "",
        "Our logging product is still in beta, but please message us in discord if you'd like a sneak peak of what we're building. We'd love for you to try an early version to share feedback.",
        "Have an idea for what we should build next? Please share our community or via a Github Issue!",
        "Read a full list of highlight.io features.",
        "All of our SDKs for highlight.io can be found in the sdk directory. We currently support:",
        "Our mission is to support developers like you in shipping with confidence. We do this by giving you the tools you need to uncover, resolve, and prevent issues in your web app.",
        "We strive to build in public in every way we can. This means that what we built, what we're building, and what we plan to build is shared with the world.",
        "People may think that we're building multiple products (session replay, error monitoring, etc..). But we see it as one. Before we build anything new, we prioritize making it operate seemlessly with everything else.",
        "If you're building software, why should you care about grafana or loki or the elk stack? highlight.io is built for developers that want to develop. Leave the monitoring stuff to us 👍.",
        "Read more about our values here.",
        "highlight.io: The open source, full-stack monitoring platform. Error monitoring, session replay, logging and more."
      ],
      "summary": "Learn more.,Please                sign in                to use Codespaces.,If nothing happens, download GitHub Desktop and try again.,If nothing happens, download GitHub Desktop and try again.,If nothing happens, download Xcode and try again.,Your codespace will open once ready.,There was a problem preparing your codespace, please try again.,,,Docs - Community (Support & Feedback) - Feature request - Bug report,highlight.io is a monitoring tool for the next generation of developers (like you!).\nAnd it's all open source :),At a high level, highlight.io's feature set is:,Read more about our features below.,We strive to make highlight.io as easy to install as a few lines of code in any environment.,Read more about our features, values and mission below, and get started at https://highlight.io today!,The fastest and most reliable way to get started with highlight.io is signing up for free at app.highlight.io."
    },
    {
      "title": "Motion Canvas – Visualize complex ideas programmatically",
      "link": "https://github.com/motion-canvas/motion-canvas",
      "page": [
        "Visualize Complex Ideas Programmatically",
        "Use Git or checkout with SVN using the web URL.",
        "Work fast with our official CLI.      Learn more.",
        "Please                sign in                to use Codespaces.",
        "If nothing happens, download GitHub Desktop and try again.",
        "If nothing happens, download GitHub Desktop and try again.",
        "If nothing happens, download Xcode and try again.",
        "Your codespace will open once ready.",
        "There was a problem preparing your codespace, please try again.",
        "",
        "",
        "Motion Canvas is two things:",
        "It's a specialized tool designed to create informative vector animations andsynchronize them with voice-overs.",
        "Aside from providing the preview, the editor allows you to edit certain aspectsof the animation which could otherwise be tedious.",
        "Check out our getting started guide to learn how to use Motion Canvas.",
        "The project is maintained as one monorepo containing the following packages:",
        "After cloning the repo, run npm install in the root of the project to installall necessary dependencies. Then run npx lerna run build to build all thepackages.",
        "When developing the core, start both core:watch and template:serve.",
        "This will pick up any changes you make to the core package, automaticallyrebuild the template project and refresh the page.",
        "Similarly, when developing the 2D package, start 2d:watch andtemplate:serve.",
        "If you want to develop the UI, first build the template project by running:template:build. Next, start ui:serve.",
        "Like with UI, to develop the player, first build the template: template:build.Then, start player:serve.",
        "Read through our Contribution Guide to learn how you canhelp make Motion Canvas better.",
        "Visualize Complex Ideas Programmatically"
      ],
      "summary": "title: Motion Canvas – Visualize complex ideas programmatically.\nLearn more.,Please                sign in                to use Codespaces.,If nothing happens, download GitHub Desktop and try again.,If nothing happens, download GitHub Desktop and try again.,If nothing happens, download Xcode and try again.,Your codespace will open once ready.,There was a problem preparing your codespace, please try again.,,,Motion Canvas is two things:,It's a specialized tool designed to create informative vector animations andsynchronize them with voice-overs.,Aside from providing the preview, the editor allows you to edit certain aspectsof the animation which could otherwise be tedious.,Check out our getting started guide to learn how to use Motion Canvas.,The project is maintained as one monorepo containing the following packages:,After cloning the repo, run npm install in the root of the project to installall necessary dependencies."
    },
    {
      "title": "Connecting a 1980s Pinball Machine to the Internet",
      "link": "https://eli.lipsitz.net/posts/internet-connected-pinball/",
      "page": [
        "I built a device that allows a pinball machine from 1984 to automatically upload scores to the internet. The device taps into the machine’s memory bus and monitors the game state, uploading scores after each game.",
        "Growing up, my family owned an old pinball machine, a 1974 Williams Strato-Flite. Strato-Flite is an electromechanical (EM) pinball machine. In an EM machine, the game logic, scoring, and everything else is implemented through the use of relays, motors, and switches. As a result, Strato-Flite is quite primitive by modern standards. Even so, it’s impressive what the engineers at Williams were able to do with these constraints.",
        "I’m really fortunate to have grown up with a Strato-Flite machine. Although pinball peaked in popularity long before I was born, I gained an appreciation for the game.",
        "Me playing Strato-Flite (a while ago)",
        "Some time later, my family acquired another pinball machine, a 1984 Williams Laser Cue. In the ten years between the two machines, there were immense advancements in the world of pinball, enabled by integrated circuits and microprocessors.",
        "Strato-Flite and Laser Cue",
        "I was impressed by the new machine: it had flashing lights, a simple soundtrack, sound effects, and a digital score display. Additionally, the gameplay was more complex and engaging. The overall objective of the game is to hit a series of switches in a particular order to earn “pool balls”. Some switches increase score multipliers and bonuses, or provide additional ways to earn “pool balls” and extra plays. Notably, unlike Strato-Flite, Laser Cue maintains each player’s playfield throughout the whole game. It’s a lot more fun to be able to build up your progress over the course of the game.",
        "Pinball machines with integrated circuits are referred to as “solid state” machines. Those with microprocessors generally have another interesting feature: high scores. With Strato-Flite, you’d have to write down your best scores if you wanted to brag. Laser Cue, however, flashes the four highest scores whenever a game isn’t being played.",
        "Laser Cue high score display",
        "It was cool to see the top four scores, but it would be even cooler to be able to view all of the scores, when the game was played, and who earned the score. Ideally, I wanted the scores to be displayed on a website, automatically uploaded by the machine. I set out to build a device that would add internet connectivity to Laser Cue.",
        "I’m not the first person to think of doing this to a pinball machine. There’s even a commercial off-the-shelf product for this: Scorbitron. Scorbitron is an impressive-looking piece of hardware, but it requires a $300 probe and a monthly subscription. Plus, what’s the fun of buying something when you could spend dozens of hours building it yourself? And perhaps most importantly, it doesn’t actually support Laser Cue.",
        "I set a couple of goals for this project:",
        "There was one more constraint: I don’t live near the machine, so I’d have only occasional opportunities to test my device.",
        "Generally, a pinball manufacturer would engineer a common pinball platform, and then use it to build many different pinball games, each with their own theming and gameplay.",
        "Laser Cue is a Williams System 7 game. The linked PinWiki article has a wealth of information about the system, and served as an important resource for this project. System 7 is driven primarily by a Motorola 6808 microprocessor, with the help of a few Motorola MC6821 Peripheral Interface Adapters (PIAs) to control the display, playfield lamps, solenoids, and switches. It has 1 KiB of RAM, up to 12 KiB of ROM, and 128 bytes of battery-backed CMOS RAM (for storing scores and bookkeeping information). The main board that holds the microprocessor, RAM, and ROM chips is referred to as the MPU board. The machine uses 5 V TTL logic, compared to the 3.3 V (or less!) CMOS logic used by most modern microcontrollers.",
        "Pinball machines generally came with manuals and detailed schematics to help operators troubleshoot and repair their machines. The System 7 schematics are freely available, and pretty easy to understand with some basic knowledge of digital electronics. The ICs used in the machine have long since been discontinued, but the datasheets for the important ones are fortunately easy to find online.",
        "The Motorola 6808 (datasheet) is an 8-bit microprocessor that runs at 1 MHz, with a 16-bit address bus and an 8-bit data bus. Like the rest of the logic ICs, it uses 5 V TTL logic.",
        "All System 7 machines share a common operating system, called the Flipper ROM. It’s a pretty impressive piece of software: it occupies only 6 KiB of ROM, and implements a multithreaded virtual machine with facilities for keeping track of switches, solenoids, and lamps. Individual games (such as Laser Cue) have their own Game ROM that contains the logic for the specific game. The software side of the system is well documented by Jess Askey in his unofficial Williams Level 7 Programming Manual, and on GitHub.",
        "From Jess Askey’s documentation, we can see that the 1 KiB of RAM is mapped at 0x0000 - 0x00FF and 0x1000 - 0x13FF (the low 256 bytes are mapped to two locations for compatibility reasons). The game has two 4-byte score buffers for each player (0x38 and 0x48 for player 1, 0x3C and 0x4C for player 2, etc.). The scores are stored as binary-coded decimal (BCD), where each 4-bit nibble represents one decimal digit of the score. The pairs of buffers are used for quickly swapping between two scores, to alternate between the previous game’s scores and the high scores after a game over. Other memory locations store the game over flag, the current player, the current ball, and other game information.",
        "Since all of the data is stored in external RAM chips (the MC6808 has no internal RAM), my approach was straightforward: build a device that taps into the CPU’s memory bus and watches for writes to RAM. The device would monitor key memory locations (score buffers, game state), then wait for a game over event and upload the scores. Modern microcontrollers run far faster than 1 MHz, so I figured it would be possible to do this without too much trouble.",
        "The 6808 is a 40-pin DIP IC, and it’s inserted into a socket on the MPU board, rather than being directly soldered into the PCB. My original idea was to create an interposer board that would plug into the CPU socket, containing another IC socket (that the actual 6808 would be plugged into), with wires to connect the memory bus to a WiFi-enabled microcontroller. I found a blog post from someone who did a similar thing, with a Z80 on a 1987 arcade game.",
        "MPU board, highlighting the MC6808 microprocessor",
        "This approach has the advantage of avoiding a permanent modification to the machine. The interposer board could be removed, and the CPU inserted back into the slot. I spent a significant amount of time researching different types of pin headers, trying to figure out which ones would fit most easily into the socket without damaging it. Unfortunately, the common square pin headers are a fair amount thicker than DIP IC pins. Although I wasn’t able to find any headers that mimicked IC pins, I found a couple of options that seemed thin enough.",
        "Physical diagram of the MC6808",
        "However, when I decided to remove the 6808 from the machine to take a few more measurements, I found out that it took a large amount of force to remove. The MPU board is fairly large, and the board itself is thin and flimsy-feeling, so the circuit board was flexing an uncomfortable amount when I was trying to unseat the chip. I was worried that I would damage the machine, so I decided to stop and figure out a safer way to remove the chip.",
        "During another read-through of the PinWiki page, I noticed that it said the System 7 MPU boards had an unpopulated 0.1 inch 2x20-pin connector, with pads that connected to all of the important signals on the board, including the entire memory bus. Presumably, Williams used this to test MPU boards during manufacturing or to perform diagnostics. I took another look at my machine’s MPU board and observed that the connector was present, as expected.",
        "Unpopulated MPU test pads",
        "Although using this connector would involve permanently modifying the board (to solder in some headers), it seemed like a more reliable and simpler way to tap into the memory bus. My device would just need a matching 2x20 pin connector, and then I’d have easy access to all of the relevant signals.",
        "I started by reaching for the Espressif ESP32, a powerful (dual 240 MHz Xtensa cores) and inexpensive microcontroller with built-in Wi-Fi. The ESP32 input pins are apparently 5V tolerant (apparently confirmed by the CEO of Espressif, albeit not listed in the datasheet). This meant I wouldn’t need to use any additional chips to shift the 5 V logic of the 6808 down to the 3.3 V logic of the microcontroller. However, I quickly spotted a problem: in order to decode the MC6808 memory bus, I’d need 27 inputs: 16 for the address bus, 8 for the data bus, one for the clock, one for the “valid memory address (VMA)” signal, and one for the “read/write” signal. On my 30-pin ESP32 dev board, there are only 25 GPIOs exposed. And of those exposed GPIOs, three of them have boot-time behavior that renders them unsuitable (e.g. they’re sampled at boot to configure the SoC, or they output a signal at boot, which could damage the pinball machine).",
        "ESP32 dev board",
        "I resolved this problem by realizing that since I only care about the 1 KiB RAM region, I didn’t actually need the microcontroller to decode the full address bus. As long as it could access the lower 10 bits, I could use external logic to decode the upper bits (and control signals) to determine if there was a valid write to the RAM regions. This substantially cut down on the number of inputs needed: 10 for the address bus, 8 for the data bus, one for the clock, and one for the decoded “valid write to the RAM region” signal, for a total of 20 inputs.",
        "Next, I had to figure out how I’d do the address/control decode. My initial thought was to use discrete 74-series logic chips, which is what the System 7 MPU does. However, it would be pretty annoying to hand-wire them all up. I thought about using an FPGA, but that would be way overkill, plus modern FPGAs are not 5 V tolerant, don’t come in DIP packages, and FPGAs were nearly impossible to find (due to the chip shortage). A multitude of Google searches later, I found the Microchip ATF16V8B. The ATF16V8 is an electronically programmable logic chip with 250 gates (more than I need, but nothing ridiculous) and up to 18 I/O pins. Plus, it’s available as a DIP IC, it’s 5 V tolerant (but outputs 3.3 V signals), and it was readily available for cheap from sources like DigiKey and Mouser.",
        "The ATF16V8 is kind of annoying to program, requiring an old Windows-only program called WinCUPL (I didn’t have much luck with the open-source alternatives), and an EEPROM programmer. I didn’t have an EEPROM programmer, and I didn’t feel like buying a TL866II Plus that I’d probably only use once. Instead, I found Afterburner, a programming device I could build myself with an Arduino. I probably should have just bought the TL866II Plus though. It was a pain to acquire the MT3608 voltage booster module that Afterburner used (and modify it to break out the IC’s “enable” pin), and build the thing on a breadboard. But it worked, so there’s that.",
        "Programming the ATF16V8 with the Afterburner rig",
        "I read the address decode logic off of the MPU schematic. After writing a short script to test my interpretation of the logic, I realized that something was off: the memory regions that my logic decoded to the RAM didn’t align with the memory map in the Programming Guide. After double and triple checking my logic, I realized that there must be an error in the schematic. I used a logic probe to test various connections on the board, and found out that an input to one of the gates was mislabeled as “A7”, when it should have been “A9”.",
        "Pin 5 of IC31 is actually connected to A9",
        "I probed some other connections to be extra sure, but I didn’t find any other errors. Satisfied the logic was correct, I wrote and compiled the ATF16V8 program with WinCUPL. In total, I used 7 inputs (A8, A9, A12, A13, A15, R/W, and VMA) and one output (“write enable”), with plenty of pins left unused on the chip.",
        "Next, I thought about what the ESP32 would do. I decided to dedicate an entire core to reading the memory bus and maintaining a 1 KiB shadow buffer that reflected the state of the RAM. Then I’d have the other core periodically check on addresses that I care about (reading scores and detecting game overs), as well as all of the other tasks, like Wi-Fi and uploading scores.",
        "I was most concerned about the timing-sensitive code reading from the memory bus. To meet the 1 MHz clock, I had a budget of 1000 nanoseconds to detect each memory read. The ESP32 has two banks of GPIO, pins 0-31 in bank 1, and 32-39 in bank 2. Each bank can be read with a single 32-bit memory read that takes approximately 50 nanoseconds. Even though my inputs were spread across both banks and I had to do bit operations to extract the relevant signals, I clearly had plenty of time remaining in the budget.",
        "MC6808 bus timing diagram",
        "The 6808 datasheet had a very helpful bus timing diagram, from which I derived a few key pieces of information:",
        "There’s plenty of time to read the address signal, but the timing is tight for the data signal. Since it’s only valid for 30 ns after the clock goes low, and a GPIO read takes 50 ns, I decided to continuously read the data signal, relying on the clock falling to know whether the read was actually valid. This leads to a simple algorithm, synchronized to the clock signal:",
        "Even though the ESP32 apparently had 5 V tolerant inputs, I decided to use 5 V to 3.3 V level shifters anyway. I was actually more concerned that the voltage levels would be too low. The 6808 datasheet said that the “Output High Voltage” was at least 2.4 V, and the ESP32 datasheet said that the “High-level input voltage” needed to be at least 75% of the supply voltage, or 2.48 V. This was cutting it pretty close, so I decided I’d rather be safe than sorry.",
        "After triple-checking the voltage levels of the 6808 and the ESP32, I settled on the 74LVC245, a level shifter readily available as a DIP IC. Each chip has 8 I/O pairs, and I needed to level-shift 19 signals (10 address, 8 data, and 1 clock). Normally, this would mean I needed three level-shifter chips. However, I realized that I could repurpose the unused pins on the ATF16V8 to save a chip. The ATF16V8 has 18 I/O pins, but I was only using 7. I decided to pass it the clock signal and two of the address signals, using the programmable logic to output the signals level-shifted, but logically unchanged.",
        "My original plan for this project was to solder the chips to a protoboard (example), and hand-wire all of the connections. I looked at custom PCB pricing though, and realized it would be as cheap, easier, and far cooler to design my own PCB.",
        "I used the open-source electronic design software KiCad 6 to design my schematic and PCB. I was extremely impressed by the software. It was easy to use (after following a YouTube tutorial from Phil’s Lab), powerful, and highly polished. Overall, I had a great time designing my first PCB, and I’m excited to do it again some time in the future.",
        "The completed PCB in KiCad",
        "I ordered the PCB from JLCPCB, where it was about $3 plus a few dollars for shipping (I decided to spend an extra dollar to get it lead-free). While I was waiting for the PCB to arrive, I ordered the parts from Mouser. A couple weeks later, the PCBs arrived and I got to hold them in my hand, which was super cool.",
        "The manufactured PCB, in classic green",
        "I soldered everything together with my Pinecil V2. It had been a while since I’d last soldered, so my first few joints were pretty bad. After a couple dozen, I got the hang of it and the rest went smoothly.",
        "The assembled device",
        "After admiring my handiwork, I started testing the device. I wouldn’t have access to the pinball machine for a few more weeks, so I had to simulate the memory bus somehow.",
        "I had recently purchased a Raspberry Pi Pico, because I was intrigued by the Programmable I/O (PIO) of the RP2040. It excels at I/O with precise timing, so I figured it would do a good job simulating the specific timing characteristics of the 6808 memory bus.",
        "The test setup was simple: the Pico generated write signals at 1 MHz at a series of addresses and with a variety of values, to exercise all of the input pins. The PIO was carefully written to simulate the worst-case timing of the 6808 memory bus. The Pico did one million simulated writes, and the ESP32 counted how many it detected and a simple checksum of the data it received.",
        "The test rig",
        "I wrote the test and wired everything together, and it worked… sort of. It was wired up correctly: the ESP32 detected a write to every address and received every one of the possible 256 data values, but the final count was not one million. It was actually about 10k off, meaning about 1% of writes were not properly detected.",
        "I wasn’t okay with missing even a single write — after all, I wanted this to be reliable, and what if that missing write carried an important state change? And given the theoretical timing, there’s no reason the hardware would miss any of the writes.",
        "I spent a while debugging over the next few days. I tried to make sure that the Espressif SDK wasn’t scheduling any work on the second core, with a high priority FreeRTOS task. I attempted to disable interrupts on the second core, but that isn’t really supported by the SDK (and I found a few forum posts about it: [1] [2]). My most successful attempt came when I initialized the second core myself, running FreeRTOS in single-core mode (following someone’s guide). It required some modifications to the Espressif SDK, but even then, I was still missing tens of writes every second.",
        "I came to the unfortunate conclusion that the ESP32 simply wouldn’t work for me. I still don’t understand exactly what the problem was (bus contention? secret interrupts? clock jitter?), but the chip just doesn’t seem well suited for something like this. I read through the ESP32 Technical Reference Manual to see if there was some sort of peripheral that might help, and there were some interesting candidates (I2S and the PWM module), but nothing that ultimately worked for this application.",
        "I was pretty frustrated by the outcome of the first version of the device. I first thought about augmenting the ESP32 with an FPGA, but then I realized that a simpler solution was literally right in front of me.",
        "The PIO on the Raspberry Pi Pico that I was using to test the first version of the device was specifically intended to do this type of job: arbitrary time sensitive I/O. Plus, the Raspberry Pi Pico W was released a few months prior, and it had built-in Wi-Fi, meaning it could fully replace the ESP32.",
        "The RP2040 datasheet is excellent, detailed, and genuinely enjoyable to read. I prototyped a small test with the Picos connected to an FPGA to convince myself that it could reliably perform the necessary I/O, and the test Pico didn’t miss a single simulated write over ten minutes (600 million writes!). It was fun to write PIO programs — it reminded me of programming in Shenzhen I/O.",
        "Raspberry Pi Pico connected to FPGA",
        "I redesigned the PCB, which was actually very easy. The RP2040 is strictly 3.3 V only, but I had already designed the first one with logic level shifters. The Pico also had a much simpler mapping of GPIO to physical pins. I’m sure there’s an explanation for it, but the ESP32’s mapping is pretty strange.",
        "PCB revision 2, in KiCad",
        "I ordered the new PCB and got to work on writing the device software.",
        "I wrote the initial Pico prototypes in C, using the official C/C++ SDK. The SDK works pretty well, but doesn’t really have much for the Pico W (like an HTTP client, web server, OTA updates, etc). At this point I was getting a little sick of the project, so I looked for something that was a bit more batteries-included.",
        "I was intrigued by Embassy, a fully async embedded framework written in Rust. Due to incomplete support for the Raspberry Pi Pico W, I ultimately settled on Arduino-Pico, an unofficial implementation of the Arduino API. The Arduino API is perhaps a bit oversimplified, and makes asynchronous I/O basically impossible, but the project had some very useful libraries built in which let me focus on the interesting parts. The Arduino IDE is abysmal, so I used VS Code with PlatformIO instead.",
        "Pretty quickly I had a basic initial implementation of the device software. It was similar to the ESP32 version: core 1 was dedicated to interfacing with PIO. I probably could have used DMA to free up the core most of the time, but I didn’t end up needing to bother with it. Core 0 handled everything else. It connected to Wi-Fi on boot, hosted a status webpage, watched the shadow memory for a change in game state, and on game over, uploaded the scores from the shadow memory to a Flask webserver.",
        "The PCB arrived and I assembled the new version of the device.",
        "PCB revision 2, now in purple!",
        "Next, I installed the pin header on the pinball machine’s MPU board. First, I had to remove the MPU board from the machine, which was a bit of a challenge. The MPU board is connected to another large circuit board (the “Driver board”) via a large, very important, and apparently unreliable connector. I opted to remove both boards together so I didn’t have to risk breaking the connector.",
        "The boards are connected to the rest of the machine (display, switches, solenoids, sound, etc.) via eighteen different Molex connectors. They had become stiff over the past 40 years, so they were a little difficult to remove.",
        "To solder in the 2x20 header, I first had to clear out the holes on the MPU board, which were plugged with solder. I used a braided copper solder wick to soak up the solder as I melted it, and then I soldered on the connector.",
        "While the board was out, I removed the battery holder from the MPU board. The board needs 3x AA batteries to keep the CMOS RAM powered to maintain the high score list while the machine is off. I’d read that these batteries could sometimes leak onto the circuit board, causing substantial damage. To avoid this, I installed an enclosed battery pack that was connected to the MPU board by a long wire, so that the batteries would be located away from the MPU board if they ever leaked.",
        "I screwed the boards back into the machine and carefully reconnected all of the Molex connectors. Then I turned the machine back on and… it didn’t work.",
        "The display was showing what appeared to be an error message. I was afraid I had broken the machine, but I did some googling and realized that this was the expected behavior after the CMOS RAM loses power (when I replaced the batteries). The machine just needed to be reset with the coin door open, and then it started working again.",
        "The device plugged into the pinball machine",
        "I plugged in my board. It connected to Wi-Fi and I loaded the status webpage, which showed that the device wasn’t detecting any memory writes at all. I realized that while I had connected the “output enable” pin of the three chips to one of the RP2040 GPIOs, I forgot to actually turn it on. I fixed that and while the device still didn’t work, it was at least able to see the pins change.",
        "I was worried that my trick of using the ATF16V8 to level-shift some of the signals, including the critical clock signal, didn’t actually work. I used a cheap logic analyzer directly on the MPU board and on my own board (downstream of the level shifters and ATF16V8) and confirmed that the signals were as I expected. I was a little bit stumped, but in the process of moving code around I got it to work.",
        "I’m still not 100% sure what the issue was, but I think I wasn’t properly synchronizing the shared data between the two cores of the RP2040. Normally, I’d use atomic memory accesses (in this case, relaxed), but the RP2040 doesn’t have atomic instructions, so the libc excludes the atomics. Instead, I had to mark the shared memory as volatile to ensure that the compiler actually performed the writes so that the other core could see them.",
        "After that software fix, the device worked! The device received the writes, at a rate of about 40K per second, so only 4% of clock cycles involved writes to RAM. I started up a new game of Laser Cue, and via manual inspection confirmed that the shadow memory on the device correctly reflected the scores in the game.",
        "Once I got the core functionality of the device working, the rest of the project was relatively straightforward.",
        "I implemented the functionality for the device to periodically poll the state of the shadow memory to determine when a game starts and ends. At the end of each ball I also snapshot the entire shadow memory to track the state of the game over time. Once the game ends, it uploads the memory snapshots to the webserver, which processes them to extract the score information.",
        "If the device fails to upload the scores, it saves them locally on its flash storage, periodically re-attempting the upload. This ensures scores aren’t lost if the Wi-Fi drops or the score server goes down.",
        "The web interface shows a simple table with scores, sortable by date and score. Clicking on a score displays a score breakdown for that game by player and ball. After the game ends, you can also “claim” a score by tapping on it and entering your initials.",
        "Score webpage, showing high scores",
        "Score webpage, showing game detail page",
        "Overall, this was a really fun project. I learned some new skills (PCB design) and built a cool, somewhat useful toy.",
        "There were a few things I wish I had done differently:",
        "And a few things that I could maybe see myself doing in the future:"
      ],
      "summary": "page: I built a device that allows a pinball machine from 1984 to automatically upload scores to the internet.\nThe device taps into the machine’s memory bus and monitors the game state, uploading scores after each game.,Growing up, my family owned an old pinball machine, a 1974 Williams Strato-Flite."
    },
    {
      "title": "Is Artificial Light Poisoning the Planet?",
      "link": "https://www.newyorker.com/magazine/2023/02/27/darkness-manifesto-book-johan-eklof",
      "page": [
        "To revisit this article, select My Account, then View saved stories",
        "To revisit this article, visit My Profile, then View saved stories",
        "By Adam Gopnik",
        "Among the many looming ecological disasters that terrify us today, one that only a handful of people have contemplated as sufficiently looming and terrifying is the loss of the bats in our belfry. According to “The Darkness Manifesto” (Scribner), by the Swedish ecologist Johan Eklöf, most churches in southwest Sweden had bat colonies back in the nineteen-eighties, and now most of them don’t. Light pollution, his research suggests, has been a major culprit: “District after district has installed modern floodlights to show the architecture it’s proud of, all the while the animals—who have for centuries found safety in the darkness of the church towers and who have for 70 million years made the night their abode—are slowly but surely vanishing from these places.”",
        "The presence of bats in the belfry, as a metaphor for disordered thinking, is usually taken to refer to the way bats would flutter around the upper stories of distressed churches, but a larger madness, Eklöf thinks, is responsible for their absence. A professor at Stockholm University, he is an expert in bats, which might suggest a déformation professionnelle in his interest in darkness, the way an expert in roosters might have a weakness for the dawn. He is able to tell us authoritatively that, though bats do indeed use natural sonar to echolocate their way around, their eyes see well enough in the dark to help in their navigation. (As so often, nature’s secret to survival is not one perfect plan but a little bit of this and a little bit of that.) Of course, Eklöf’s arguments escape the narrow world of roof eaves and pointy ears. Though the book is written as a sort of “Silent Spring” manifesto against the ecological devastations of light pollution, its considerable charm depends on the encyclopedic intensity with which he evokes the hidden creatures of the night.",
        "Agreeably in love with darkness, Eklöf is not entirely a sentimentalist about it. Sex and violence rule the night sky as much as they ruled the drive-in movies that the night sky once superintended. What governs the sunless vistas is not a peaceable kingdom but a fierce contest for life, occasionally made vivid for us by the fiery, bioluminescent nature of its display. The firefly is signalling and winking as desperately as a Raymond Chandler heroine for a mate, until a greedy frog, like a Chandler gangster, stops everything and devours it. Eklöf makes it clear that the great Cambrian explosion of species, which began the evolution of animal eyes that could translate light into images, was set off by the advent of predation and countermeasures to it. Advanced animal evolution—and optical perception—began when creatures realized that they could make a better living by eating one another than by staying in place and absorbing nutrients from the ooze around them. Teeth and shells, claws and hide, rose in a flurry, and among the foremost of the defenses were eyes to sense the presence of a predator.",
        "Read our reviews of notable new fiction and nonfiction, updated every Wednesday.",
        "The difference between light and dark is, in a way, arbitrary: what counts as light and what as darkness depends on what wavelengths we discern. But the nocturnal world gives rise to creatures, equipped with large-pupilled and infrared-sensitive eyes, that see what we cannot and that, under cover of darkness, act as we can only imagine. And so Eklöf’s book is made most memorable by the sometimes wild eccentricities of the life-forms it chronicles. Though his catalogue of catastrophe is real, what one most remembers are the beasts in his bestiary.",
        "We learn, for instance, of the ghost moths, a species in which the adult males appear in fields in twilight, white as their namesakes and just as evanescent-seeming, floating eerily as they signal to the females—only to mate once and then fall to the ground dead. Mouthless by nature, they, like various others of their order, never feed at all in their adult lives. They do not sow, or reap; they merely fornicate once in the dark and die. (The females carry the eggs from their lonely coupling to distribute across the fields, and then die themselves.) Though Eklöf tells us that these Tristan-and-Isolde-like creatures are threatened by the confusing presence of artificial light and that moths play a crucial role as pollinators (“something of invaluable importance for keeping our ecosystem intact and thriving”), what one recalls is the plaintive doom of their couplings.",
        "Biological creatures ourselves, we pair our lives with the rest of biology. “It is fascinating to imagine how nocturnal animals experience their existence in the dark, how their brains interpret sensory stimuli,” Eklöf writes. He cites approvingly Thomas Nagel’s famous philosophical essay on why we as humans cannot know what it feels like to be a bat. And yet we can imagine it—certainly, we can imagine what it would be like to be an owl. We may not live as owls do, mating once to make baby owls and then, after the owlets have safely flown away, going off to separate perches. But we can imagine how it would feel to soar alone all night, see your spouse for a brief period to raise the kids, and then head off for a divorced life in your own studio on the opposite side of town. A naturalist’s acts of empathy can be emancipating even if incomplete.",
        "Alongside the spectral ghost moths come the speckled and companionable cabbage moths, as ready for one-night stands as Bobby in Sondheim’s “Company.” Only after the sun sets does the adult moth, having crawled from its chrysalis, look for a mate. “The female takes the first step by extending her antennae forward, flapping her wings, and secreting scents, at around ten in the evening,” Eklöf writes. “The two spend the night together, one wing of the female around the male’s body, then she leaves to lay the fertilized eggs.” But light ruins the romance: “The female emits fewer pheromones in the presence of artificial light, and furthermore, the composition of the scent is completely different from that emitted in darkness. So mating never gets started. The females wait in vain in the darkness.”",
        "For all the poetic appeal of his examples, Eklöf has come to us from Sweden—his book is translated by Elizabeth DeNoma—bearing a noirish moral. The source of all this harmful light is, of course, us, city-dwelling human beings, who are presumably keeping the lights on all night in pursuit of our own couplings. Where once human life had its nocturnal rhythms, interrupted only by the dim light of candles and fireplaces, the Earth is now so lit up that, seen from space, it glows like a Japanese lantern. Since the invention of the light bulb, street lights and floodlights have come, ominously, to disturb age-old circadian rhythms, to the point that, Eklöf writes, “artificial light, the polluted light, is now dominant—light that causes birds to sing in the middle of the night, sends turtle babies in the wrong direction, and prevents the mating rituals of coral in reefs, which take place under the light of the moon.”",
        "It turns out that the strongest source of illumination on Earth is not some helpful harborside lighthouse but the “sky beam” atop the Luxor Hotel, in Las Vegas. Creating forty-two billion candlepower of light every night, meant merely as a come-on to tourists and gamblers, it unintentionally excites and undoes flocks of birds, genetically programmed by evolution to fly toward bright light—and, in 2019, attracted clouds of grasshoppers, who flew toward the pseudo-Egyptian pyramid with all the horror of a pseudo-Egyptian plague. “Every evening Nevada’s meteorologists could see on their radar screens the swarms approach Las Vegas,” Eklöf says. Whoever would have imagined that reconstructing an Egyptian tomb and sending a piercing pillar of light from it to the heavens would reawaken an ancient curse—that is, aside from every screenwriter with a spec script? The, er, black comedy of this effect is not lost on Eklöf, but he sees it as something less than entertaining. In recent decades, he tells us, the biomass of all flying insect species has, by some measures, collapsed by close to seventy-five per cent.",
        "Nor are bugs and birds alone affected by the light; so are plants, and so are humans. Our eyes adapt badly to darkness, and our night vision—which is activated by the pigment protein rhodopsin—takes a long while to turn on, as anyone who leans back on a car roof to watch the evening stars knows. By now, cities such as Singapore and Hong Kong are so brightly lit that their inhabitants scarcely call on night vision at all, and, as their rhodopsin becomes superfluous, they may well create descendants who, in even middling darkness, are as blind as, it turns out, bats are not.",
        "Link copied",
        "The really insidious light pollution that people experience is of the indoor kind: our laptops and our devices bathe us in their light, and we find ourselves trapped in the same kind of death spiral that the Luxor beacon creates for the poor Las Vegas grasshoppers. Our daily cycles of melatonin and other sleep hormones are disrupted, with sometimes dire effects. “The body enters a vicious circle where stress and disturbed sleep go hand in hand,” Eklöf writes. “We become vaguely depressed.” Overweight, too: “Obesity has many causes, but one of these is constant low leptin levels, which is a direct result of the breaking down of the melatonin circle.” The grasshoppers beam down to their burning death; we just grow chubby and cheerless.",
        "Eklöf insists that doom is still avoidable. “Light pollution is the easiest of all environmental problems to solve, at least technically,” he writes. “We, as private individuals, can, with little cost, reduce the amount of our light pollution. With light shades, downward-facing light sources low to the ground, and dim lighting, we can reduce the cities’ total amount of light, as well as the artificial light scattered in the atmosphere.”",
        "Yet the glum practicality of the solution seems inadequate to the wound it describes. “The Darkness Manifesto” has, beyond its ecological arguments, a particular moral temperament. Eklöf does not merely think that too much artificial light is bad for our ecology, which it doubtless is; he thinks that light, and our preference for amplifying it, is in itself morally dubious. In his view, the will to light the night is in essence a will to power. Industrialized capitalism lights up our streets not to assist us on our path home but to show that its empire is inescapable. His point is made with a kind of good-humored if slightly puritanical melancholy that one thinks of as distinctly Swedish; in this spirit, he quotes Strindberg’s observation that electric lighting, presented as betterment, was simply a way of getting workers to work more. Dimming the world is a necessary and reasonable goal, he believes, and he is encouraged by various green initiatives, including Earth Hour, an annual event newly promoted by the E.U., in which electric lights are kept off for sixty minutes, both to discourage power consumption and to remind us of the antique joys of candlelight.",
        "Undoubtedly, the loss of night to artificial illumination is a loss for diversity in every sense, ecological and experiential. Yet we can wonder if what human beings mainly experience as improvements must, in every instance, be subordinated to the “welfare of the planet,” a concept that is itself available only to humans. Nor are Eklöf’s examples always exemplary. He notes that van Gogh’s “Starry Night” could not be readily painted today, given the light pollution of contemporary Provence. (“Maybe this was a manifestation of his inner darkness, or simply how the night sky could be experienced as crackling and chaotic—before the entry of electric light.”) But the gas lamps of London, enemies of night, were themselves another haunting Romantic subject, as van Gogh knew from his love of Whistler, with an equivalent poetry of their own, while in his earlier “Starry Night Over the Rhône” the bright lights of human habitation are themselves made to shine with an almost celestial aura.",
        "Inevitably, what presents itself as empirical inquiry reflects a cultural mood. Every environmental apocalypse bears the imprint of the apocalyptic imagination of its time: even the Book of Revelation, with its raptures and its scarlet woman, has a rich underpinning in Roman imperial politics. In the same way, Paul Ehrlich’s “The Population Bomb” (1968), now much derided, shared a semantic space with the sculptor Robert Smithson’s “Nonsites,” site-specific installations that were made in the same year and produced photographic monuments to the entropic wilderness of blighted post-industrial landscapes. Ehrlich’s specific pessimism may have been empirically misconceived, but it was part of the poetic pessimism of its time and perhaps a necessary corrective to a preceding era of pro-growth boosterism—as Smithson’s grim dust piles were correctives to the paradisiacal glow of industrial materials beloved of the other minimalists.",
        "The allure of night is one of the great cultural discoveries of the Romantic era, with its twilight landscapes and piano nocturnes, and Eklöf’s book is, sometimes knowingly and sometimes not, a Romantic one. If nature is made secondary to human will, as in classical and Enlightenment times, then a care for nature expresses itself in bucolics and pastorals—nature as a setting for human amorousness or agriculture. If the value of nature is an absolute, as it was for the Romantics, we discover ourselves in sublime nocturnes and moments of wonder. The Romantic love of darkness is a turn toward the embrace of nature in all her aspects. The faces that seemed hostile to us were to be as welcomed as those which seemed obviously benign.",
        "The Romantic contradiction is that, since nature is in itself moral, no landscape can be left unmoralized by man. When the lights go off, we fumble in the dark for meaning as the ghost moth fumbles for its mate; the loss of night to artificial light thus becomes not merely a mistake but a sin. A few decades ago, expressions of an original taste in natural phenomena were usually sprightly or self-consciously eccentric in tone—Alexander Frater’s wonderful travelogue “Chasing the Monsoon,” in 1990, made the case for rain almost entirely on sensual grounds. Today, we would stress that rain is essential to life, an obvious truth, but one whose emphasis holds virtue to be more important than pleasure. Eklöf’s nocturnal tastes are acceptable now only if we can make them part of a crusade.",
        "It may seem unduly sunny, but surely not false, to say that we need both artificial light and natural darkness. Winged creatures rightly petition us to ease the intensity of the Luxor beam, but the city planners who insisted on mandating a high incandescent signature for every new sign in Times Square—the so-called LUTS (Light Units Times Square) measure—were aesthetes more than despoilers. Times Square must shine to remain timeless. We can want a brightly lit Vegas Strip, while still wanting the desert outside Vegas, or for that matter the suburbs of New Jersey, to offer the spectacle of stars. The Enlightenment taste for progress and the Romantic love of mystery may be cabbage moths who seek each other in the night.",
        "“More light!,” Goethe’s famous deathbed command, was the battle cry of the Enlightenment, which produced the progressive-minded science that eventually gave us the light bulb and the neon sign and the L.E.D. “Turn on the night!,” still the essential cry of the Romantics, from Caspar David Friedrich to Kiss, urges us to love in darkness. The light of reason makes searchlights and lighthouses; the love of darkness asks us to adjust our eyes and egos sufficiently to see as owls do. Seek light in the morning; accept the night when it comes. Then call it a day. ♦",
        "Queen Elizabeth II’s fine-tuned feelings.",
        "After Muhammad Ali, Richard Pryor was the baddest person anywhere.",
        "John and Yoko take Manhattan.",
        "Edith Piaf’s thousand (delightful) ways to bum you out.",
        "Searching for signs of Oprah in O magazine.",
        "Hattie McDaniel arrives at the Coconut Grove.",
        "Fiction by Miranda July: “Roy Spivey.”",
        "Sign up for our daily newsletter to receive the best stories from The New Yorker.",
        "By signing up, you agree to our User Agreement and Privacy Policy & Cookie Statement.",
        "By Richard Brody",
        "By Mark Strand",
        "Sections",
        "More",
        "© 2023 Condé Nast. All rights reserved. Use of this site constitutes acceptance of our User Agreement and Privacy Policy and Cookie Statement and Your California Privacy Rights. The New Yorker may earn a portion of sales from products that are purchased through our site as part of our Affiliate Partnerships with retailers. The material on this site may not be reproduced, distributed, transmitted, cached or otherwise used, except with the prior written permission of Condé Nast. Ad Choices"
      ],
      "summary": "According to “The Darkness Manifesto” (Scribner), by the Swedish ecologist Johan Eklöf, most churches in southwest Sweden had bat colonies back in the nineteen-eighties, and now most of them don’t.\n“The Darkness Manifesto” has, beyond its ecological arguments, a particular moral temperament."
    },
    {
      "title": "Loxilb: eBPF based cloud-native service load-balancer",
      "link": "https://github.com/loxilb-io/loxilb",
      "page": [
        "eBPF based cloud-native service load-balancer. Powering K8s|Edge|5G|IoT|XaaS Apps.",
        "Use Git or checkout with SVN using the web URL.",
        "Work fast with our official CLI.      Learn more.",
        "Please                sign in                to use Codespaces.",
        "If nothing happens, download GitHub Desktop and try again.",
        "If nothing happens, download GitHub Desktop and try again.",
        "If nothing happens, download Xcode and try again.",
        "Your codespace will open once ready.",
        "There was a problem preparing your codespace, please try again.",
        "",
        "loxilb is an open source hyper-scale software load-balancer for cloud-native workloads. It uses eBPF as its core-engine and is based on Golang. It is designed primarily to support on-premise, edge and public-cloud Kubernetes cluster deployments, but it should work equally well as a standalone load-balancer. loxilb aims to provide the following :",
        "eBPF based cloud-native service load-balancer. Powering K8s|Edge|5G|IoT|XaaS Apps."
      ],
      "summary": "Learn more.,Please                sign in                to use Codespaces.,If nothing happens, download GitHub Desktop and try again.,If nothing happens, download GitHub Desktop and try again.,If nothing happens, download Xcode and try again.,Your codespace will open once ready.,There was a problem preparing your codespace, please try again.,,loxilb is an open source hyper-scale software load-balancer for cloud-native workloads.\nIt uses eBPF as its core-engine and is based on Golang."
    },
    {
      "title": "Google Stopping Coding Competitions",
      "link": "https://developers.googleblog.com/2023/02/celebrate-googles-coding-competitions.html",
      "page": [
        "February 22, 2023",
        "",
        "By: The Coding Competitions Team",
        "Remember 2003? Before Chrome, Google Calendar, Android, and YouTube? When we carefully cleaned up our saved emails because GMail and its gigabyte of storage hadn't arrived? Two decades ago – Google launched a global coding competition called Code Jam, which challenged programmers of all levels to test and hone their skills by racing to solve algorithmic problems.",
        "From there, our coding competition lineup continued to grow. Kick Start began as a contest for recent graduates in China and quickly spread around the world. Hash Code, Google's first team-based challenge, started in Europe. And a first-in-class Distributed Code Jam asked participants to build solutions that could scale when run on multiple machines.",
        "Throughout our coding competitions' 20-year history, you've generated billions of lines of code across millions of submissions. You've gone through hundreds of rounds for thousands of problems and put in millions of hours of code execution and testing. Over a million of you from almost every country worldwide have participated — from experienced programmers to students and everyone in between. And now, just as we invited you to our very first round in 2003, we're asking you to join us for one final event as the competitions come to an end.",
        "Join us on Saturday, April 15, 2023 at 2 p.m. UTC as we host four simultaneous online rounds of competition at varying levels of difficulty. Register now to get in on the action.",
        "And to those who've taken part over the years: It's been an honor to learn, succeed, fail, and have fun coding with you. Through the conceptual art, the slides, the gophers, and the absurd number of pancakes, we did it – and we did it together. Thanks for going on this journey with us.",
        "",
        ""
      ],
      "summary": "Two decades ago – Google launched a global coding competition called Code Jam, which challenged programmers of all levels to test and hone their skills by racing to solve algorithmic problems.,From there, our coding competition lineup continued to grow.\nAnd now, just as we invited you to our very first round in 2003, we're asking you to join us for one final event as the competitions come to an end.,Join us on Saturday, April 15, 2023 at 2 p.m. UTC as we host four simultaneous online rounds of competition at varying levels of difficulty."
    },
    {
      "title": "Hope Mirrlees and her curious masterpiece",
      "link": "https://hedgehogreview.com/web-features/thr/posts/a-novelists-reflections-on-useful-fictions",
      "page": [
        "Alan Jacobs is a distinguished professor of humanities in the honors program at Baylor University and a Senior Fellow of the Institute for Advanced Studies in Culture. A prolific essayist, reviewer, and blogger, he is the author of Breaking Bread with the Dead: A Reader's Guide to a More Tranquil Mind, The Year of Our Lord 1943: Christian Humanism in an Age of Crisis, “The Book of Common Prayer”: A Biography, and The Pleasures of Reading in an Age of Distraction, among others.",
        "One way to describe the brilliant Hope Mirrlees, the author of a great novel that still hasn’t found the readership it deserves, is as a satellite member of the Bloomsbury group in early twentieth-century London. She knew them all—during World War II, T. S. Eliot lived for a time at her house in Surrey and wrote parts of the Four Quartets there—but was closest to Virginia and Leonard Woolf. Virginia was sometimes puzzled and even exasperated by her younger friend (they were five years apart in age). In her diary she described Mirrlees as “a very self conscious, wilful, prickly & perverse young woman, rather conspicuously well dressed & pretty, with a view of her own about books & style, an aristocratic & conservative tendency in opinion, & a corresponding taste for the beautiful & elaborate in literature.” In a letter Woolf expressed the same ideas more generously: Mirrlees is “her own heroine—capricious, exacting, exquisite, very learned, and beautifully dressed.” (The immediate juxtaposition of praise for learning and praise for clothing is very Woolfian.)",
        "As a young woman, Mirrlees, under the patronage of the famous actress universally known as Mrs. Patrick Campbell, had attended the Royal Academy of Dramatic Art, but abandoned that path in order to study Greek. At Newnham College, Cambridge—then one of only two women’s colleges in that university—her tutor was the great classicist Jane Ellen Harrison. (A famous classicist of our moment, Mary Beard, wrote a biography of Harrison, and has said that “she was the first woman in England to become an academic, in the fully professional sense—an ambitious, full-time, salaried, university researcher and lecturer. She made it possible for me to do what I do.”)",
        "In 1913, when Mirrlees was twenty-six and Jane Harrison sixty-three, they began to live together, and remained inseparable until Harrison’s death in 1928. No one really understood the relationship, though all saw that it was deeply intimate: The two women developed, for instance, a private mythology in which they were the wives of Harrison’s ancient teddy bear, whom they called the Old One. What outsider can read such language? Some relationships evade our categories. But Harrison spoke of Mirrlees as her “spiritual daughter” and the great gift of her old age.",
        "While Harrison and Mirrlees were living together, Mirrlees wrote three novels, plus an experimental poem called Paris, first published by the Woolfs’ Hogarth Press in 1920. The critic Julia Briggs has called Paris “modernism’s lost masterpiece.” Virginia Woolf thought it “obscure, indecent and brilliant.”",
        "But after Harrison died in 1928, Mirrlees stopped publishing for three decades. Though she never wrote another novel, late in life she had some poems privately published and produced the first half of a biography of the seventeenth-century antiquarian Robert Cotton. No one understands her long silence any more than they understand her relationship with Harrison; but it’s worth noting that her conversion to Roman Catholicism soon after Harrison’s death prompted her to ask what kinds of work and thought were acceptable to God. Thus in a journal entry in the 1930s she made a resolution: “To accept my talent gratefully and to offer it to God. To pray that if it never gets recognition that I may accept it with resignation; and that if it does, I may accept it with humility.” Others have speculated, more prosaically, that her personal wealth—her grandfather and father had been immensely successful businessmen—made publishing unnecessary to her. This commercial background is one of the key ways in which she differed from most of the Bloomsbury set.",
        "The last novel Mirrlees published is called Lud-in-the-Mist (1926), and it is one of the greatest fantasy novels ever written. It is also, I believe, a response to a major work of fantasy that had been published two years earlier, Lord Dunsany’s The King of the Elfland’s Daughter. Dunsany’s novel describes the kingdom of Erl, a mostly rural world that happens to be situated on the boundary of Elfland. Though it has a parliament, it is ruled by a king, as is Elfland, and the world of the book seems largely medieval.",
        "Settings of this sort had been the norm for fantasy since the days of George MacDonald and William Morris, but Mirrlees didn’t think it had to be that way. She seems to have asked herself what a fantasy novel would look like if it were set not in a medieval society but in a later one, not in a feudal society but in a mercantile one. Perhaps her own upbringing among successful capitalists prompted her to think along these lines. In any case, the question led her to a novel unlike any other.",
        "The King of the Elfland’s Daughter begins with the parliament of Erl telling their king that they “wish to be ruled by a magic lord.” By contrast, the second chapter of Lud-in-the-Mist tells how the country of Dorimare, led by the merchants of its capital city, Lud-in-the-Mist, had overthrown a ruling lord who was thought to be too intimate with the practices of Fairyland, and transformed itself into a modern mercantile republic. Which required, these merchants believed, a complete severance of their country’s longstanding relationship with the neighboring realm of Fairy.",
        "The story Mirrlees tells centers on the inability of the senators of Dorimare to prevent smugglers from bringing intoxicating fairy fruit into their city. Thus the main arc of the story is, essentially, a drug war centered on a puzzlingly permeable border. Call it Narcos: Fairy Land Edition. But it is also a story of political intrigue; a cold-case murder mystery; and, above all I think, an extended meditation on the necessary fictions that inevitably sustain any political economy. As I say: a very peculiar book.",
        "In many respects, Lud-in-the-Mist articulates in narrative form the point that philosopher Charles Taylor would make eighty years later in his great book A Secular Age: that Western society at a certain point in its history moved from an understanding of the human self as essentially porous—open to the divine and the demonic—to an understanding of the human self as buffered—self-enclosed, neither vulnerable in the way that the porous self is nor capable of exaltation either. The buffered self is a safer, more predictable self, one that exists in an essentially horizontal world, rather than in the vertical and vertiginous cosmos of medieval Christianity. In the old understanding human beings are made in the image of God but fallen and subject to demonic assault (if also sometimes angelic aid). In what Taylor calls the Modern Moral Order, we are merely rational, sociable animals.",
        "Were one inclined to think in terms of political economy rather than philosophy, one could also describe this change as the Victorian jurist and historian Henry James Sumner Maine did: the move from a world governed by status—the status embodied in a hereditary aristocracy, for instance—to a world governed by contract—agreements entered into formally by competent individuals. “Starting, as from one terminus of history, from a condition of society in which all the relations of Persons are summed up in the relations of Family, we seem to have steadily moved towards a phase of social order in which all these relations arise from the free agreement of Individuals…. we may say that the movement of the progressive societies has hitherto been a movement from Status to Contract.”",
        "Like many other fantasy writers, Mirrlees is interested in what happens if the power of Fairyland cannot be wholly excluded from our well-buffered society. In this case, we see what happens when magic begins to creep back into well-ordered and well-buffered lives. To figure this as essentially a drug war—an inevitably unsuccessful attempt to prevent the smuggling of what one character in the story significantly calls the “commodity” of fairy fruit—is a wonderful conceit and developed with delightful panache, tracing an elegantly oscillating line between the economic and the metaphysical. When one character tells a senator that he should be more aware of the high levels of consumption of fairy fruit among the poor, I find myself murmuring, Fairy fruit is the opiate of the masses.",
        "The makers of modernity, those who helped shepherd the move from a world of porous selves to the Modern Moral Order of rational and sociable beings, thought the world they promoted was more true, more closely correspondent to what-is-the-case, than the “superstitious” world of porous selves had been. Mirrlees is less sure. One of the recurrent themes of Lud-in-the-Mist is the suspicion that the move from a world led by a magical and mysterious aristocracy to a world governed by law is not necessarily a closer approximation to the way things are. Indeed, one of her characters suggests, it is simply a move from one useful fiction to another that those who grasp for power find more useful. “In the eye of the law, neither Fairyland nor fairy things existed. But then, as Master Josiah [a senator and scholar of a previous generation] had pointed out, the law plays fast and loose with reality and no one really believes it.” The law, says Master Josiah Chanticleer’s son Nathaniel, reflecting on his father’s thought, is but “the homeopathic antidote that our forefathers discovered to delusion”—a carefully measured dose of the very delusion we wish to dispel.",
        "It impossible to talk about this in any detail without spoiling the story. Since I will do that now: reader, be forewarned.",
        "What happens at the end of the book is a restoration of magic to Dorimare and Lud-in-the-Mist. In this sense, the end of the story might be thought to resemble that of The King of Elfland‘s Daughter, in which Elfland, which had previously “ebbed” or withdrawn itself from our world, rushes back to enclose the kingdom of Erl, making it a region of Elfland. But in Mirrlees’s tale, that’s not quite how things work out. The once and future mayor of Lud-in-the-Mist, Nathaniel Chanticleer, restores Dorimare’s friendship with Fairyland and not only makes fairy fruit freely available rather than legally prohibited but indeed suggests, as does his friend Ambrose Honeysuckle, that everyone eat it. He is in his own way making the argument that Gore Vidal made half a century ago at the height of an American panic over drug use: Legalize drugs and make them available to anyone who wants them at cost.",
        "But—and here perhaps we should recall Woolf’s description of Mirrlees as a “prickly & perverse young woman”—Master Nathaniel’s radical policy does not result in in Dorimare’s being absorbed into Fairyland. Rather, there is a kind of negotiated contract between the two worlds that in many ways confirms, rather than refutes or overcomes, the mercantile and capitalist character of Dorimare. Fairy fruit becomes so plentiful in Dorimare that it can’t all be eaten, and the people of Dorimare extend their commercial influence by learning how to produce candied fairy fruit, which they then export to the whole world. We witness not the absorption of Dorimare into a magical world but rather the triumph of its commercial expertise and ambition. Fairy fruit becomes indeed a commodity, and a commodity that makes mercantile Dorimare richer and more powerful than it had ever been. For those who grow tired of the merely horizontal world of the well-buffered self, the porous self may now be purchased at a reasonable price. What could go wrong?",
        "Hope Mirrlees lived for fifty-two years after publishing Lud-in-the-Mist, dying at the age of ninety-one in 1978. In the 1970s the novel was reprinted by Ballantine Books, whose editor, Lin Carter, had no idea that Mirrlees was still alive. This led to the tale being discovered by a young Neil Gaiman, who has regularly celebrated it ever since and who rightly calls it “a little golden miracle of a book.” It is not clear that Mirrlees, in her last years, had any idea that her book was being rediscovered; nor do we know whether she would have cared.",
        "© 2023 Institute for Advanced Studies in Culture",
        "Forgot your password?"
      ],
      "summary": "title: Hope Mirrlees and her curious masterpiece.\nThis commercial background is one of the key ways in which she differed from most of the Bloomsbury set.,The last novel Mirrlees published is called Lud-in-the-Mist (1926), and it is one of the greatest fantasy novels ever written."
    },
    {
      "title": "C++ Coroutines",
      "link": "https://nigeltao.github.io/blog/2023/cpp-coro-part-1-yield-return-prime-sieve.html",
      "page": [
        "This blog post is one of a two part series.",
        "C++ is late to the coroutine party, compared to other programming languages,but they are part of C++20. Prior to coroutines, a C++ programmer had twochoices, roughly speaking:",
        "Coroutines, “functions whose execution you can pause”, aim to get the best ofboth worlds: programs that look like sync code but performs like async code.",
        "Generally speaking, C++ language design tends to favor efficiency,customizability and the zero-overheadprincipleinstead of things like ease of use, safety or “batteries included”.",
        "These are neither “good” or “bad” design principles, but as C++ isn’t garbagecollected and it doesn’t come with a runtime system, it does mean that C++coroutines have a steep learning curve. LewisBaker has written some good blog posts, as hasRaymondChen, butChen’s series is a 61 part epic and yet his table-of-contents page finisheswith “I’m not done with coroutines”! Unsurprisingly (given its domain name),cppreference.com hasgood reference material but that doesn’t make a good tutorial.",
        "My two blog posts don’t aim to be comprehensive but instead to give a quicktour of the three fundamental mechanisms (the new-in-C++20 coroutine-relatedoperators): co_yield, co_return and co_await. Both blog posts walkthrough a complete, simple program, somewhat like literateprogramming.",
        "The Sieve ofEratosthenes is one ofthe earliest recorded algorithms, over two thousand years old, generating theseries of prime numbers: 2, 3, 5, 7, 11, etc.",
        "Last millenium, Doug McIlroy and Ken Thompson invented Unixpipes as a way ofconnecting concurrent processes. McIlroy wrote a page-long C version of theSieve that uses Unixprocesses and pipes. Per that link, the essence of that program also shows upin Tony Hoare’s influential Communicating SequentialProcesses (CSP) paper. Morerecently, there’s a 36-line Go version of theSieve in the Go playground.",
        "That design can be ported to C++ coroutines. The “processes” in CSP are not thesame as Unix processes. Our program (unlike McIlroy’s) is single-threaded andsingle-process (in the Unix process sense). Here’s the “business logic”:",
        "To be clear, coroutines aren’t necessarily the best (simplest, fastest, etc.)way to implement a prime sieve in C++. It’s that a prime sieve is a nice way todemonstrate C++ coroutines.",
        "For those familiar with C++ range-based forloop, that can simplifythe call site for simple loops, but our Generator doesn’t bother implementingit. One subtlety here is that we pass Generator values around (see thestd::move(g)). We don’t just iterate over them.",
        "Build and run the complete C++file like below or ongodbolt.org:",
        "The -fno-exceptions flag just simplifies away some C++ ceremony that’simportant if your program uses exceptions but uninteresting noise otherwise.",
        "Here’s our source function again.",
        "This is a coroutine (instead of a regular function) because there’s at leastone explicit co_yield or co_return in its body. An explicit co_awaitwould also suffice, but we won’t discuss co_await until part 2.",
        "While a regular function can only return (something of type RType, say), andonly return at most once, a coroutine can do that too but also co_yield zeroor more things (of type CYType) before co_returning (something of typeCRType) at most once. Just as a regular function could loop forever withoutreturning, a coroutine could loop forever, perhaps co_yielding things orperhaps not, without co_returning.",
        "Here, source co_yields (generates) the sequence of integers 2, 3, 4, 5,etc. up to (but excluding) end. Because source is a coroutine, there’s animplicit co_return; statement at the end of its body. Its RType, CYTypeand CRType are Generator, int and void.",
        "source returns a Generator (even though the function body never mentionsreturn or Generator). The main function saves the result of callingsource just as if it was calling a regular function. From the caller’s (notcallee’s) point of view, and from a “function signature in a .h file” pointof view, it is indeed just a regular function. Unlike other programminglanguages, C++ coroutines don’t need an async keyword.",
        "Calling source(40) physically returns (physically means in the callingconvention sense and in thex86 CALL andRET instructions sense) before itconceptually, logically finishes by reaching a co_return (the implicit one atthe final ‘}’ curly bracket). main can continue running concurrently whilesource is also running. For a multi-threaded program, the two could run inparallel (and we’d have to use mutexes, atomics or similar) but our exampleprogram is single-threaded and concurrency is notparallelism.",
        "Logically, source is running its for (int x = 2; x < end; x++) loop off onits own, occasionally co_yielding a thing. Physically, source is calledonce, suspending, returning, and then repeatedly resuming andco_yielding/suspending until finishing with a final co_return/suspend.",
        "As we’ll see further below, in our program, resuming is explicitly triggeredinside the Generator::next method (and resume is just a method call). Our“pull-style” generator coroutines are scheduled “on demand”, which works wellhere as we’re never waiting on I/O.",
        "With a regular function call, the caller and callee collaborate (according tothe calling convention) to reserve some memory for a stack frame, holdinge.g. the function arguments, local variables, return address and return value.After the callee returns, the stack frame is no longer needed.",
        "With a coroutine call, such state (function arguments, local variables, etc.)is needed even after physically returning. That’s therefore held in aheap-allocated coroutine frame. The coroutine frame also holds some notion of“where to resume, inside the coroutine body” plus a customized helper object todrive the coroutine. In C++, the pointer to that coroutine frame is representedas a std::coroutine_handle<CustomizedHelper>.",
        "I’m not sure why, but that customized helper object is called a “promise” or“promise object” (but its type is not a std::promise) and theCustomizedHelper type is usually RType::promise_type, where RType is thecoroutine’s return type.",
        "Some documentation talks about “coroutine state” instead of “coroutine frame”,as in: the promise object lives alongside (instead of within) the “coroutineframe” (which holds arguments and locals), both of which are within the“coroutine state”. But I prefer “coroutine frame” to mean the whole thing. Seealso frame_ptr, furher below, being a pointer to the (coroutine) frame.",
        "In our program, the compiler knows that source and filter are coroutines(because they have co_yield expressions). They are also declared to return aGenerator, so the compiler looks for a Generator::promise_type and expectsit to have certain methods.",
        "For example, our coroutine body says co_yield x and the CYType (the type ofx) is an int, so our promise type needs to have a yield_value method thattakes an int. It also has an (implicit) co_return statement (but not aco_return foo statement) so it also needs a return_void method that takesno arguments. It also needs get_return_object, initial_suspend andfinal_suspend. Here’s the complete Generator::promise_type definition:",
        "get_return_object produces the Generator object that source or filterreturns, in the Generator g = source(40) sense. We’ll discussstd::coroutine_handle further below, but it’s essentially a glorified pointerto the coroutine frame. We’ll pass it to the Generator constructor so thatGenerator::next can resume the coroutine when necessary.",
        "initial_suspend returns an awaitable (covered in part 2) that controlswhether the coroutine is eager (also known as “hot start”) or lazy (“coldstart”). Does the coroutine start running straight away or does it need aseparate kick first? Our program returns a std::suspend_always which meanslazy, as that will work better with “Generator::next always calls resume topull the next value”, as we’ll see further below.",
        "final_suspend likewise controls whether to suspend after the (possiblyimplicit) co_return. If it doesn’t suspend, the coroutine frame will beautomatically destroyed, which is great from a “don’t forget to clean up” pointof view, but destroying the coroutine frame also destroys the promise object.",
        "In our program, Generator::next needs to inspect (call methods on) thepromise object after the co_return (and calling a promise object’s methods isonly valid if the coroutine is suspended), so we do suspend (by final_suspendreturning a std::suspend_always). Our Generator will be responsible forexplicitly destroying the coroutine frame (spoiler alert: it’ll do it in itsdestructor, via the std::coroutine_handle passed to its constructor).",
        "The yield_value and return_void methods have already been mentioned, butnote that yield_value saves its argument to a member variable (thatGenerator::next will load). This is how the generator coroutine passes whatit yields (produces) back to the consumer. Our implementation only buffers onevalue at a time but other promise_type implementations could do somethingdifferent. At the very least, it would have to do something thread-safe if theprogram was multi-threaded.",
        "Here’s the Generator::next method (and the Generator constructor). Itresumes the wrapped coroutine, running it up until its next suspension (at anexplicit co_yield or at the final_suspend after the implicit co_return;the latter means the coroutine is done).",
        "To clean up properly, we should destroy the std::coroutine_handle exactlyonce. We’ll do that in the Generator destructor (and the m_cohandle fieldis private). When we pass a Generator from main to filter, we have tostd::move it, just as if it was a std::unique_ptr.",
        "Here’s the bureaucratic incantations to make Generator a move-only type.",
        "That’s it! You can look back over the complete C++file at your leisure.",
        "It may get better in the coming months and years, but debugging coroutines canbe a little rough today, at least on Debian stable (Bullseye). Breakpointswork, but local variables are buggy.",
        "For example, we can set a breakpoint on the co_yield x in the sourcecoroutine function, but the x value doesn’t seem to change (printing xalways says 2) and making the breakpoint conditional on x == 5 means that, inpractice, the breakpoint no longer triggers. Curiously, info breakpoints alsoplaces the breakpoint in the _Z6sourcei.actor(_Z6sourcei.frame *) function,presumably a compiler-transformed version of the plain source(int) function.",
        "We can insert a manual breakpoint (even a conditional one) in the source code,instead of via gdb.",
        "In the x == 5 loop iteration (but before the co_yield), our processes (inthe CSP sense) should be chained like this: main - filter(3) - filter(2) -source. Recompiling and running in a debugger confirms this: from the bottomup, the stack trace shows main, filter twice and then source.",
        "Recall that logically (and in the source code), the filter function takestwo arguments (a Generator and an int) but physically (in the stacktrace), after the compiler transformed it, filter (or perhaps_Z6filter9Generatori.actor, which c++filt demangles as filter(Generator,int) [clone .actor])  takes only one (what g++ calls the frame_ptr). Thispointer value turns out to be the same address as what thestd::coroutine_handle<Generator::promise_type>::address() method wouldreturn. For g++, the frame_ptr address is also a small, constant offsetfrom the promise’s address (what this is inside promise_type methods).",
        "Coroutines are magic in some sense, in that it requires compiler support andisn’t something you could easily do in pure C++ (e.g. boost coroutines dependon boost contexts and that requires CPU-architecture-specific assembly code).But this blog post has hopefully demystified C++20 coroutines’ co_yield andco_return operators:",
        "That last bullet point glosses over a lot of potential detail. Our exampleprogram is relatively simple but, in general, scheduling is a hard problem.C++20 doesn’t provide a one-size-fits-all solution. It merely providesmechanism, not policy.",
        "This is partly because of the customizability and “no runtime” design goalsmentioned earlier but also because a high-performance coroutine schedulingimplementation may be OS (Operating System) specific (and you may not evenhave an OS).",
        "C++20 doesn’t give you an ergonomic, high-level coroutine API. It’s not“sprinkle some asyncs and awaits and you’re done.” It gives you a low-levelcoroutine API construction kit. Some further C++ (but not assembly) isrequired.",
        "Baker puts it likethis:“The facilities the C++ Coroutines TS [Technical Specification] provides in thelanguage can be thought of as a low-level assembly-language [emphasis in theoriginal] for coroutines. These facilities can be difficult to use directly ina safe way and are mainly intended to be used by library-writers to buildhigher-level abstractions that application developers can work with safely.”",
        "It gives you the coroutine equivalent of a goto and it’s up to you (or thelibraries you use) to build better abstractions like the equivalent of if-else,while loops and function calls. Indeed, some have argued for structuredconcurrency, evenas far to say “Go statement consideredharmful”,but that bigger discussion is out of scope of this blog post.",
        "The last thing I’ll say about co_yield is that co_yield expr is basicallysyntactic sugar for co_await promise.yield_value(expr). Or, it would be, ifyou could otherwise access the coroutine’s implicit promise object. What’sco_await and how does it work? Find out more inpart 2: co_await and Fizz Buzz.",
        "Published: 2023-02-20"
      ],
      "summary": "page: This blog post is one of a two part series.,C++ is late to the coroutine party, compared to other programming languages,but they are part of C++20.\nPrior to coroutines, a C++ programmer had twochoices, roughly speaking:,Coroutines, “functions whose execution you can pause”, aim to get the best ofboth worlds: programs that look like sync code but performs like async code.,Generally speaking, C++ language design tends to favor efficiency,customizability and the zero-overheadprincipleinstead of things like ease of use, safety or “batteries included”.,These are neither “good” or “bad” design principles, but as C++ isn’t garbagecollected and it doesn’t come with a runtime system, it does mean that C++coroutines have a steep learning curve."
    },
    {
      "title": "Apple Makes Major Progress on No-Prick Blood Glucose Tracking for Its Watch",
      "link": "https://www.bloomberg.com/news/articles/2023-02-22/apple-watch-blood-glucose-monitor-could-revolutionize-diabetes-care-aapl",
      "page": [
        "Romaine Bostick breaks down the day's top stories and trading action leading into the close.",
        "Insight and analysis of top stories from our award winning magazine \"Bloomberg Businessweek\".",
        "Highlights from a week-long virtual event bringing Bloomberg Businessweek magazine to life. Carol Massar and Tim Stenovec host a look back at the best interviews, discussions and more.",
        "Wall Street Firms Fight SEC Push to Change Mutual-Fund Pricing",
        "Nigerian Ruling Party Confident of Victory Despite Opinion Polls",
        "Fed Inclined Toward More Hikes to Curb Inflation, Minutes Show",
        "UK Inflation to Fall to Just Above 2% by end of 2023, Citi Says",
        "Faster Inflation Portends Higher Fed Peak Rate in Latest Economists’ Survey",
        "Rio Battles High-Bidding Carmakers in Hunt for Lithium Deals",
        "Cleveland Looks to an Unlikely Savior: a Long-Neglected River",
        "A $33 Billion Hit Shows China’s Newest Stock Worry",
        "Pentagon and Microsoft Are Investigating Leak of Military Emails",
        "Intel Slashes Dividend 66% to Lowest Payout in 16 Years",
        "Railroads Fought to Crush Rules That Biden Aims to Revive After Ohio Derailment",
        "Pence Criticizes DeSantis for Escalating Disney Battle Ahead of 2024",
        "Biden Wants to Level the Playing Field in the Mortgage Market",
        "Bill Gates Buys Stake in Heineken for $902 Million",
        "Top Sommeliers Are Offering Tuition-Free Wine Classes to BIPOC Students",
        "Kenya Sees a Record $3.4 Billion in Tourism Earnings This Year",
        "SPACs Want Their Money Back",
        "Ramaswamy's 2024 Presidential Bid Exposes the Anti-ESG Fallacy",
        "US Government Has Been Dancing Around UFOS for 75 Years",
        "With Human Metalworkers Hard to Come By, Robotic Blacksmiths Step Up",
        "Spy Balloons Are the Slow and Silent Future of Surveillance",
        "How to Make Sure Your Resume Isn’t Overlooked — Without Lying",
        "Pay Gap for Black Workers Widens at Some of UK’s Biggest Banks",
        "Female Founders Started a Record Number of UK Companies in 2022",
        "World Bank Touts an ESG Bond It Says Is ‘Immune’ to Greenwashing",
        "Blizzard Strands Travelers With ‘Impossible’ Conditions Across Midwest",
        "Cleveland Looks to an Unlikely Savior: a Long-Neglected River",
        "New York City Coffers are Flush With Cash as It Taps Bond Market",
        "A California Bill Would Pull State Business From Banks That Work With Gun Makers",
        "Bankruptcy Courts Are Shaping Crypto Law by Default (Podcast)",
        "‘Bitcoin Jesus’ Is Said to Owe Genesis Millions. So, What Makes Him Tick? (Podcast)",
        "Bitcoin Will Be Fine With Monkey JPEGs, Creator of NFT Protocol Says",
        "Mark Gurman",
        "Subscriber Benefit",
        "Subscribe",
        "Apple Inc. has a moonshot-style project underway that dates back to the Steve Jobs era: noninvasive and continuous blood glucose monitoring.",
        "The goal of this secret endeavor — dubbed E5 — is to measure how much glucose is in someone’s body without needing to prick the skin for blood. After hitting major milestones recently, the company now believes it could eventually bring glucose monitoring to market, according to people familiar with the effort."
      ],
      "summary": "page: Romaine Bostick breaks down the day's top stories and trading action leading into the close.,Insight and analysis of top stories from our award winning magazine \"Bloomberg Businessweek\".,Highlights from a week-long virtual event bringing Bloomberg Businessweek magazine to life.\n(Podcast),Bitcoin Will Be Fine With Monkey JPEGs, Creator of NFT Protocol Says,Mark Gurman,Subscriber Benefit,Subscribe,Apple Inc. has a moonshot-style project underway that dates back to the Steve Jobs era: noninvasive and continuous blood glucose monitoring.,The goal of this secret endeavor — dubbed E5 — is to measure how much glucose is in someone’s body without needing to prick the skin for blood."
    },
    {
      "title": "Social media is a cause, not a correlate, of mental illness in teen girls",
      "link": "https://jonathanhaidt.substack.com/p/social-media-mental-illness-epidemic",
      "page": [
        "A big story last week was the partial release of the CDC’s bi-annual Youth Risk Behavior Survey, which showed that most teen girls (57%) now say that they experience persistent sadness or hopelessness (up from 36% in 2011), and 30% of teen girls now say that they have seriously considered suicide (up from 19% in 2011). Boys are doing badly too, but their rates of depression and anxiety are not as high, and their increases since 2011 are smaller. As I showed in my Feb. 16 Substack post, the big surprise in the CDC data is that COVID didn’t have much effect on the overall trends, which just kept marching on as they have since around 2012. Teens were already socially distanced by 2019, which might explain why COVID restrictions added little to their rates of mental illness, on average. (Of course, many individuals suffered greatly).",
        "Most of the news coverage last week noted that the trends pre-dated covid, and many of them mentioned social media as a potential cause. A few of them then did the standard thing that journalists have been doing for years, saying essentially “gosh, we just don’t know if it’s social media, because the evidence is all correlational and the correlations are really small.” For example, Derek Thompson, one of my favorite data-oriented journalists, wrote a widely read essay in The Atlantic on the multiplicity of possible causes. In a section titled Why is it so hard to prove that social media and smartphones are destroying teen mental health? he noted that “the academic literature on social media’s harms is complicated” and he then quoted one of the main academics studying the issue—Jeff Hancock, of Stanford University: “There’s been absolutely hundreds of [social-media and mental-health] studies, almost all showing pretty small effects.”",
        "In this post, I will show that Thompson’s skepticism was justified in 2019 but is not justified in 2023. A lot of new work has been published since 2019, and there has been a recent and surprising convergence among the leading opponents in the debate (including Hancock and me). There is now a great deal of evidence that social media is a substantial cause, not just a tiny correlate, of depression and anxiety, and therefore of behaviors related to depression and anxiety, including self-harm and suicide.",
        "First, I must offer two stage-setting comments:",
        "Social media is not the only cause; my larger story is about the rewiring of childhood that began in the 1990s and accelerated in the early 2010s.",
        "I’m a social psychologist who is always wary of one-factor explanations for complex social phenomena. In The Coddling of the American Mind, Greg Lukianoff and I showed that there were six interwoven threads that produced the explosion of unwisdom that hit American universities in 2015, one of which was the rise of anxiety and depression in Gen Z (those born in and after 1996); a second was the vast overprotection of children that began in the 1990s.",
        "In the book I’m now writing (Kids In Space) I show that these two threads are both essential for understanding why teen mental health collapsed in the 2010s. In brief, it’s the transition from a play-based childhood involving a lot of risky unsupervised play, which is essential for overcoming fear and fragility, to a phone-based childhood which blocks normal human development by taking time away from sleep, play, and in-person socializing, as well as causing addiction and drowning kids in social comparisons they can’t win. So this is not a one-factor story, and in future posts I’ll show my research on play. But today’s post is about what I believe to be the largest single factor and the only one that can explain why the epidemic started so suddenly, around 2012, in multiple countries.",
        "The empirical debate has focused on the size of the dose-response effect for individuals, yet much and perhaps most of the action is in the emergent network effects.",
        "Once you appreciate the extent to which childhood has been transformed by smartphones and social media, you can see why it’s a mistake to focus so narrowly on individual-level effects. Nearly all of the research––the “hundreds of studies” that Hancock referred to––have treated social media as if it were like sugar consumption. The basic question has been: how sick do individuals get as a function of how much sugar they consume? What does the curve look like when you graph illness on the Y axis as a function of daily dosage on the X axis? This is a common and proper approach in medical research, where effects are primarily studied at the individual level and our objective is to know the size of the “dose-response relationship.”  (Although even in medicine, there are important network effects.)",
        "But social media is very different because it transforms social life for everyone, even for those who don’t use social media, whereas sugar consumption just harms the consumer. To see why this difference matters, imagine that in 2011, just before the epidemic began, a 12-year-old girl was given an iPhone 4 (the first with a front-facing camera) and began to spend 5 hours a day taking and editing selfies, posting them on Instagram (which had launched the year before), and scrolling through hundreds of posts from others. This was at a time when none of her friends in 7th grade had a smartphone or any social media accounts. Suppose that Instagram does cause anxiety disorders in a dose-response way, but the size of the correlation with anxiety is smaller than the correlation of social isolation with anxiety. The girl spending 5 hours a day on Instagram finds her mental health declining, but her friends’ mental health is unchanged. We find a clear dose-response effect. If she were to quit Instagram, would her mental health improve? Yes.",
        "But now fast forward to 2015, when most girls are on Instagram and all teens are spending far less time with their friends in person (as I showed in my Feb 16 post). Most social activity is now asynchronous—channeled through posts, comments, and emojis on Instagram, Snapchat, and a few other platforms. Childhood has been rewired—it has become phone-based—and rates of anxiety and depression are soaring (as I showed in my Feb 8 post). Suppose that in 2015, a 12-year-old girl decided to quit all social media platforms. Would her mental health improve? Not necessarily.",
        "If all of her friends continued to spend 5 hours a day on the various platforms then she’d find it difficult to stay in touch with them. She’d be out of the loop and socially isolated. If the isolation effect is larger than the dose-response effect, then her mental health might even get worse. When we look across thousands of girls, we might find no strong or clear correlation between time on social media and level of mental disorder. We might even find that the non-users are more depressed and anxious than the moderate users (which some studies do find, known as the Goldilocks effect).",
        "What we see in this second case is that social media creates a cohort effect: something that happened to a whole cohort of young people, including those who don’t use social media. It also creates a trap—a collective action problem—for girls and for parents. Each girl might be worse off quitting Instagram even though all girls would be better off if everyone quit.",
        "An implication of this analysis is that the correlations we are about to look at probably underestimate the true effect of social media as a cause of the teen mental illness epidemic. But OK, let’s take a look.",
        "In The Coddling of the American Mind, Greg Lukianoff and I tried to explain what happened to Gen Z. We focused on overprotection (“coddling”), but in our chapter on anxiety, we included six pages discussing the possible role of social media, drawing heavily on Jean Twenge’s work in her book iGen. The evidence back in 2017, when we were writing, was mixed, so we were appropriately careful, ending the section with this:",
        "We don’t want to create a moral panic and frighten parents into banning all devices until their kids turn twenty-one. These are complicated issues, and much more research is needed.",
        "Our book came out in September 2018. Four months later, two researchers at Oxford University—Amy Orben and Andrew Przybylski—published a study that was widely hailed as the most authoritative study on the matter. It was titled The association between adolescent well-being and digital technology use. The study used an advanced statistical technique called “Specification Curve Analysis” on three very large data sets in which teens in the US and UK reported their “digital media use” and answered questions related to mental health. Orben and Przybylski reported that the average regression coefficient (using social media use to predict positive mental health) was negative but tiny, indicating a level of harmfulness so close to zero that it was roughly the same size as they found (in the same datasets) for the association of mental health with “eating potatoes” or “wearing eyeglasses.” The relationships were equivalent to correlation coefficients less than r = .05 (where r = 1.0 indicates a perfect correlation and r = 0 indicates absolutely no relationship). The authors concluded that “these effects are too small to warrant policy change.”",
        "It is impossible to overstate the influence of Orben & Przybylski (2019) on journalists and researchers. The comparison to potatoes was vivid and memorable. Here’s one writeup of the study:",
        "Whenever you hear a journalist or researcher say that social media has been found to have little or no relationship with mental illness, you’re likely to find a link to that study. When I first read the study, I began to have doubts myself. After all, it was the largest and most impressive study ever done on the question, and it was published by researchers who had been studying social media far longer than I had. Might Greg and I have gotten it wrong? Might we have been contributing to yet one more unjustified moral panic over technology?",
        "Many other studies came out in 2019, yielding conclusions on both sides of the question. It was a confusing time. So I decided to compile in one Google doc all the relevant studies I could find. I invited Jean Twenge to join me on the project since she was far more knowledgeable about the various datasets. We posted the Google doc online in February 2019 and invited comments from critics and the broader research community. Each section ends with a request to tell us what we have missed. One of the first comments we got was that some researchers doubted that the mental illness epidemic was real. That led us to create a second Google doc titled: Adolescent mood disorders since 2010: A collaborative review. (I described it in my Feb. 8 Substack post.)",
        "We immediately found that there was a simple and obvious structure for the social media literature review: nearly all of the published studies fell into one of three categories: correlational, longitudinal, or experimental. We, therefore, structured the document around the three questions addressed by studies of those types. You can see the three questions in the Table of Contents. I’ve reproduced the first part of it in Figure 1. Please check out the doc itself, and especially our list of “cautions and caveats.”",
        "Figure 1. The first part of the Table of Contents of the Social Media and Mental Health Collaborative Review.",
        "In the next four sections of this post, I’ll briefly summarize what we’ve found about causality from those three kinds of studies (with the experiments section divided into two subtypes).",
        "The typical study here asked hundreds or thousands of adolescents to report how much time they spend on social media, or digital media more generally, and then report something about their mental health. Of course, correlational studies can’t prove causation, but they are a first step; they tell us what goes with what, and then we can figure out which way the causal arrows go later.",
        "The great majority of studies find a positive correlation between time on social media and mental health problems, especially mood disorders (depression and anxiety). At present, there are 55 studies listed in our review that found a significant correlation, and 11 that found no relationship, or nearly no relationship. The “winning side” is not determined by a simple count, as we explain in the “cautions and caveats” section. But the correlations are widely found and they are not randomly distributed. In fact, there is a revealing pattern found across many studies and literature reviews: Those that look at all screen-based activities (including television) for all kids (including boys) generally find only small correlations (usually less than r = .10), but as you zoom in on social media for girls the correlations rise, sometimes to r = .20, which is quite substantial, as I’ll show in a moment.",
        "The general finding in these correlational studies is a dose-response relationship such as the one in Figure 2, from Kelly, Zilanawala, Booker, & Sacker (2019) [Study 1.1.5 in the Review doc] who analyzed data from the large Millennium Cohort Study in the UK, which followed roughly 19,000 British children born around the year 2000 as they matured through adolescence.",
        "Figure 2. Percent of UK adolescents with “clinically relevant depressive symptoms” by hours per weekday of social media use, including controls. Haidt and Twenge created this graph from the data given in Table 2 of Kelly, Zilanawala, Booker, & Sacker (2019), page 6.",
        "Note three features of figure 2 that are common across many studies:",
        "The rates of mood disorders are higher for girls than boys.",
        "The lines are curved: moderate users are often no worse off than non-users, but as we move into heavy use, the lines rise more quickly.",
        "The dose-response effect is larger for girls. For boys, moving from 2 to 5 hours of daily use is associated with a doubling of depression rates. For girls, it’s associated with a tripling.",
        "How can this large effect of social media use on girls be reconciled with the Orben and Przybylski study, which also examined the same UK dataset?",
        "Twenge and I argued in a published response paper in the same journal that Orben and Przybylski made 6 analytical choices, each one defensible, that collectively ended up reducing the statistical relationship and obscuring a more substantial association. The first issue to note is that the “potatoes” comparison was what they reported for all “digital media use,” not for social media use specifically. Digital media includes all screen-based activities, including watching TV or Netflix videos, which routinely turns out (in correlational studies) to be less harmful than social media. In their own published report, when you zoom in on “social media,” the relationship is between 2 and 6 times larger than for “digital media.” Also crucial is that Orben and Przybylski combined all teens (boys and girls), while many studies have found that the correlations with mood disorders are larger for girls. So even if the association is weak for all kids using all screens, the association is much larger if you zoom in on girls using social media. (You can read Orben and Przybylski’s response to our response here.)",
        "Twenge and I later re-ran Orben and Przybylski’s SCA on the same datasets (teaming up with researchers Kevin Cummins and Jimmy Lozano.) When we used Orben and Przybylski's assumptions, we replicated their results exactly, obtaining associations that were equivalent to correlation coefficients less than r = .05. But when we limited the analysis to social media for girls, we found relationships that were many times larger, equivalent to correlation coefficients of roughly r = .20.",
        "",
        "Despite several years of heated debate, a consensus has emerged about just how large the correlation is between social media use and mood disorders. Amy Orben herself conducted a “narrative review” of many other reviews of the academic literature (Orben, 2020; study 5.7 in our review doc). Her conclusion is that “The associations between social media use and well-being therefore range from about r = − 0.15 to r = − 0.10.”",
        "",
        "Both studies (Orben’s and Hancock’s) merged boys and girls together, and there is a consensus that the relationships are tighter for girls; see Kelly, Zilanawala, Booker, & Sacker (2019), Nesi & Prinstein (2015), and Twenge (2020). So we’re reaching a consensus that for girls the true value is north of r = .15, which is consistent with the values around .20 that Twenge, Lozano, Cummins and I found in our SCA paper. This range of values, from r = .15 to r = .20, is quite large when we’re talking about health effects found in large datasets, as I explain in this geeky footnote.",
        "",
        "In fact, in our SCA paper, we compared the association of social media time with mental illness to other variables found in the same datasets. In that same UK dataset, mood disorders were more closely associated with social media usage than with marijuana use and binge drinking, though less closely associated with sleep deprivation. I’m not saying that a day of social media use is worse for girls than a day of binge drinking. I’m just saying that if we’re going to play the game of looking through lists of correlations, the proper comparison is not potatoes and eyeglasses, it is marijuana use and binge drinking.",
        "To conclude this section: Few parents would knowingly let their daughters become heavy users of anything that was correlated r = .20 with mental illness (again, see Figure 2). The effects might be even larger for younger teen girls, who are just beginning puberty, according to a recent study by Orben, Przybylski, Blakemore, & Kievit (2022). Granted, these correlations don’t prove causation, but the frequent finding that the correlations are consistently higher for social media, and higher for girls, tells us that we’re not just looking at random noise here. There is a consistent story emerging from these hundreds of correlational studies.",
        "What would it take to show that social media use was causing teen girls to become depressed and anxious? Social scientists generally move on from correlational studies to longitudinal studies and true experiments.",
        "Share After Babel",
        "The second group of studies is known as longitudinal studies, in which hundreds or thousands of people are tracked over some time period and measured repeatedly. Typically, participants fill out the same survey once per year, allowing researchers to measure change over time in the same research participants. But these studies have an interesting property that allows researchers to infer causality; you can look to see if an increase or decrease in some behavior at one point in time predicts a change in other variables at the next measurement time. For example, let’s say a teen reports that she spends two hours a day on social media, on average, across a 10-week study. If in week 3 she suddenly reduces her time to zero, what do we expect to happen to her mood in week four? Will she be happier or sadder? If there is, on average, a change in happiness the week after people quit or reduce their social media time, then we can infer that the change in mood was caused by the change in behavior the prior week.",
        "So what do we find in these studies? As I write this post in Feb. 2023, we have 40 longitudinal studies in section 2 of the Collaborative Review doc. Twenty-five of them (62.5%) found evidence indicating causation, and 15 of them largely failed to find such evidence. Once again, you can’t just count up the studies and let the majority side win; studies that fail to find an effect are sometimes harder to publish. But our collaborative review docs make it easy to acquaint yourself with the range of studies and see what differentiates the studies that found evidence of harmful effects from those that did not. As we read through the studies in sections 2.1 and 2.2, we noticed something: the studies that used a short time interval (a week or less between measurements) mostly failed to find an effect, which makes sense if social media is addictive, as much evidence suggests. Going cold turkey doesn’t make you happy, it makes you anxious and dysphoric for a few weeks, so we should not expect to find benefits to mental health in the short-interval studies.",
        "Zach Rausch (the lead researcher for this Substack) created a 2x2 table to categorize all the studies in section 2 as either a short interval (a week or less) or long interval (a month or more), and as finding an effect versus no effect. He found that 7 studies used a week or less (5 of them were daily), and only 1 of the 7 found an effect. But 33 studies used a month or more (20 were annual) and of these, 24 found a significant effect. So a simple dose-response model in which social media is like poison (where cutting consumption on Monday makes you feel better on Tuesday) does not seem to be supported. But 73% of the studies that looked for causal effects a month or more in the future found them.",
        "Leave a comment",
        "Now we come to the gold standard in the social sciences for testing causality: the experiment. Initially, we included all experiments in this section, but in the last year, several “quasi-experiments” that took advantage of natural variation have been published. I’ll cover those in the next section. In this one, we’ll just look at true experiments, in which participants were randomly assigned to either a treatment condition or a control condition, and then some dependent variable related to mental health was measured. Most experiments are done on college students or young adults—it’s hard to get parental consent to do experiments on minors—so we did not limit this section to studies on adolescents. There are few experiments out there (compared to correlational and longitudinal studies), so we included some that used adults if it was clear that many or most were relatively young.",
        "In Feb. 2023 we have 18 true experiments in Section 3, of which 12 (67%) found evidence of a causal effect (Section 3.1) and 6 failed to find evidence of a causal effect (section 3.2). Some of the studies randomly assigned college students or young adults to reduce their social media use for a while and then measured self-reported mental health outcomes, compared to the control group which was instructed to make no changes. For example, Hunt, Marx, Lipson & Young (2018) randomly assigned college students to greatly reduce the use of social media platforms (or not reduce) and then measured their depressive symptoms four weeks later. They found that “The limited use group showed significant reductions in loneliness and depression over three weeks compared to the control group.”",
        "Some of the studies exposed girls and young women to time on Instagram, or to experiences designed to mimic Instagram, and then looked at the psychological aftereffects. For example, Kleemans, Daalmans, Carbaat, & Anschütz (2018) randomly assigned teen girls to be exposed either to original selfies taken from Instagram or to selfies that were manipulated to be extra attractive. “Results showed that exposure to manipulated Instagram photos directly led to lower body image.” Engeln, Loach, Imundo, & Zola (2020) randomly assigned female college students to use Facebook, use Instagram, or perform an emotionally neutral task (the control condition) on an iPad. The finding: “Those who used Instagram, but not Facebook, showed decreased body satisfaction, decreased positive affect, and increased negative affect.”",
        "Turning to the six experiments that failed to find significant effects, it is noteworthy that four of these six experiments involved asking participants to reduce or eliminate social media for one week or less. As we saw in the examination of longitudinal studies, going “cold turkey” brings immediate discomfort to addicts; the benefits only kick in after a few weeks when the brain has adapted to the loss of chronic stimulation. So if we remove all of the studies that used a week or less (including two studies in section 3.1 that found an effect), the final tally becomes ten that found evidence that social media is harmful (80%) and two that did not.",
        "In sum, there are now many true experiments using a variety of methods to test questions such as whether reducing or eliminating exposure to social media confers benefits (it does, when continued for at least a month), or if exposing girls and women to Instagram or Instagram-like experiences damages their mood or body image (it does). These experiments provide direct evidence that social media—particularly Instagram—is a cause, not just a correlate, of bad mental health, especially in teen girls and young women.",
        "Leave a comment",
        "The previous three questions all asked about individual-level effects: what happens to individuals who are exposed to more or less social media? But this fourth category of studies is different––and very important––for this reason: it is the only one that allows us to look at emergent network effects. These studies look at how whole communities changed when social media suddenly became much more available in that community. These studies are sometimes called “quasi-experiments” because the researchers take advantage of natural variation in the world as though it was random assignment.",
        "For example, Braghieri, Levy, & Makarin (2022) took advantage of the fact that Facebook was originally offered only to students at a small number of colleges. As the company expanded to new colleges, did mental health change in the following year or two at those institutions, compared to colleges where students did not yet have access to Facebook? Yes, it got worse. The authors say:",
        "We find that the roll-out of Facebook at a college increased symptoms of poor mental health, especially depression, and led to increased utilization of mental healthcare services. We also find that, according to the students' reports, the decline in mental health translated into worse academic performance. Additional evidence on mechanisms suggests the results are due to Facebook fostering unfavorable social comparisons.",
        "We also found five studies that used a similar design applied to the rollout of high-speed internet. It’s hard to have a phone-based childhood when data speeds are very low. So what happened in Spain as fiber optic cables were laid and high-speed internet came to different regions at different times? Same thing, except with clearer evidence of a gendered effect. Arenas-Arroyo, Fernandez-Kranz, & Nollenberger (2022; study 3.3.2) analyzed “the effect of access to high-speed Internet (HSI) on hospital discharge diagnoses of behavioral and mental health cases among adolescents.” Their conclusion:",
        "We find a positive and significant impact on girls but not on boys. Exploring the mechanism behind these effects, we show that HSI increases addictive Internet use and significantly decreases time spent sleeping, doing homework, and socializing with family and friends. Girls again power all these effects.",
        "They found that the arrival of high-speed internet had a particularly damaging effect on the quality of father-daughter relationships.",
        "Guo (working paper, 3.3.1) did a similar study in British Columbia, Canada, where it took a long time for high-speed internet to reach rural areas. She found similar gendered effects:",
        "Estimates suggest high-speed wireless internet significantly increased teen girls' mental health diagnoses — by 90% — relative to teen boys over the period when visual social media became dominant among teenagers. I find similar effects across all subgroups, indicating they are not driven by differences in confounding characteristics.",
        "Guo’s study also verified that the arrival of high-speed wireless in each town was accompanied by an increase in interest in social media.",
        "In sum, we found six quasi-experiments that looked at real-world outcomes in real-world settings when the arrival of Facebook or high-speed internet created large and sudden emergent network effects. All six found that when social life moves rapidly online, mental health declines, especially for girls. Not one study failed to find a harmful effect.",
        "We are now 11 years into the largest epidemic of teen mental illness on record. As the CDC’s recent report showed, most girls are suffering, and nearly a third have seriously considered suicide. Why is this happening, and why did it start so suddenly around 2012?",
        "",
        "It’s not because of the Global Financial Crisis. Why would that hit younger teen girls hardest? Why would teen mental illness rise throughout the 2010s as the American economy got better and better? Why did a measure of loneliness at school go up around the world only after 2012, as the global economy got better and better? (See Twenge et al. 2021). And why would the epidemic hit Canadian girls just as hard when Canada didn’t have much of a crisis?",
        "It’s not because of the 9/11 attacks, wars in the middle east, or school shootings. As Emile Durkheim showed long ago, people in Western societies don’t kill themselves because of wars or collective threats; they kill themselves when they feel isolated and alone. Also, why would American tragedies cause the epidemic to start at the same time among Canadian and British girls?",
        "There is one giant, obvious, international, and gendered cause: Social media. Instagram was founded in 2010. The iPhone 4 was released then too--the first smartphone with a front-facing camera. In 2012 Facebook bought Instagram, and that’s the year that its user base exploded. By 2015, it was becoming normal for 12-year-old girls to spend hours each day taking selfies, editing selfies, and posting them for friends, enemies, and strangers to comment on, while also spending hours each day scrolling through photos of other girls and fabulously wealthy female celebrities with (seemingly) vastly superior bodies and lives. The hours girls spent each day on Instagram were taken from sleep, exercise, and time with friends and family. What did we think would happen to them?",
        "The Collaborative Review doc that Jean Twenge, Zach Rausch and I have put together collects more than a hundred correlational, longitudinal, and experimental studies, on both sides of the question. Taken as a whole, it shows strong and clear evidence of causation, not just correlation. There are surely other contributing causes, but the Collaborative Review doc points strongly to this conclusion: Social Media is a Major Cause of the Mental Illness Epidemic in Teen Girls.",
        "",
        "",
        "Footnotes:",
        "There was one other difference that turned out to make a large difference in our results. Orben and Przybylski had not only controlled for demographic variables (such as race and parents’ educational levels, which is universally done); they also controlled for some psychological variables that are potential mediators of a relationship between social media usage and poor mental health, such as negative attitudes about school and closeness with parents. We found that controlling for these psychological variables heavily suppressed the relationship between social media use and poor mental health.",
        "The correlations are negative because she framed this as “well-being”; they are positive if we talk about mental illness.",
        "Many researchers learned in graduate school that a correlation coefficient of r = .5 and above is a “large” correlation, r = .3 and above is a “medium” sized correlation, and r = .10 and above is a “small” correlation, with r < .10 being trivial, not even “small.” But recently, psychologists have noted that these cutoffs make no sense; what counts as large or small varies by domain. The key paper here is Gotz, Gosling, and Rentfrow (2020). Small Effects: The Indispensable Foundation for a Cumulative Psychological Science. The authors note that in the domains of public health and education, many of the things that warrant public expenditure are correlated with outcomes in the ballpark of r = .05 to r = .15. For example, Gotz et al. note that the correlation of calcium intake and bone mass in pre-menopausal women is r = .08, which is enough to recommend that women take calcium supplements. The correlation between childhood lead exposure and adult IQ is r = .11, which is enough to justify a national campaign to remove lead from water supplies.  These correlations are smaller than the links between mood disorders and social media use for girls. Gotz et al. note that such putatively “small” effects can have a very large impact on public health when we are examining  “effects that accumulate over time and at scale”, such as millions of teens spending 20 hours per week, every week for many years, trying to perfect their Instagram profiles while scrolling through the even-more-perfect profiles of other teens.",
        "Some commenters on my Feb. 8 post saw signs in the graphs that the epidemic started earlier, perhaps in 2008 or 2010. I addressed this as critique #4 in my Feb. 16 post.",
        "Bravo! Thank you for your persistence on this topic.",
        "I understand that it’s the nature of academia (and possibly also the nature of denial?), and that it is better to have more and more evidence, but part of me also rolls my eyes at your opponents in this debate. We’re not talking about marginal benefits of one formula brand vs another, we’re talking a Gutenberg level revolution in how we think and relate to the world and each other - and yet still some people play dumb and think it can’t possibly be a big deal. Thank you for having the patience to continue engaging the holdouts!",
        "The writer Freddie deBoer has examined the trend of \"mental health chic\" in social media extensively.  where influencers adopt a mental illness as a centrally defining characteristic and use that as the basis for attracting followers.  His fear was that it not only romanticized mental illness but set up echo chambers that were ripe for the spread of social contagion.  I have to wonder if there is a correlation between adverse mental health outcomes in girls versus the type of social media they are consuming.",
        "No posts",
        "Ready for more?"
      ],
      "summary": "That led us to create a second Google doc titled: Adolescent mood disorders since 2010: A collaborative review.\nThe first part of the Table of Contents of the Social Media and Mental Health Collaborative Review.,In the next four sections of this post, I’ll briefly summarize what we’ve found about causality from those three kinds of studies (with the experiments section divided into two subtypes).,The typical study here asked hundreds or thousands of adolescents to report how much time they spend on social media, or digital media more generally, and then report something about their mental health."
    },
    {
      "title": "There Are No (Absolute) Red Flags in Venture Capital",
      "link": "https://blog.aaronkharris.com/there-are-no-absolute-red-flags-in-venture-capital",
      "page": [
        "Learning by doing, because I can't follow instructions",
        "Let’s accept, for the purposes of this essay, that founders and venture capitalists are engaged in a simple trade. Founders sell business risk for the cash they need to take bigger risks; venture capitalists buy that risk hoping it will one day transmute into reward. Each side does this because they believe that, ultimately, the size of the risk is directly correlated to the scale of the potential reward.",
        "But there’s acceptable risk and there’s unacceptable risk. No sane person is going to invest in a scheme to turn lead into gold, but early-stage startups—and even some mid- and late-stage startups—rarely present such a clear-cut profile. Investors are often under pressure to evaluate seemingly great ideas and teams without all of the information they’d ideally have to decide whether to put their money on the line.",
        "I’ve written in the past about how investors consider the reward side of this process, so let’s focus on the risk side. Some risks are obvious—the market may be too small or the costs too high—not to mention that pesky fact that the future is always ultimately unknowable. But some risks are more idiosyncratic. We call these red flags.",
        "There’s been a lot of talk about red flags recently, mostly in the context of FTX and the diligence that its investors may or may not have done before committing their partners’ funds. I happen to believe that investors did a heck of a lot more diligence than they’re being given credit for having done, but I also think that conversation misses the point. Red flags, when you find them, are rarely deal-killers. They’re just pieces of information, indications of risk. The bigger the reward potential, the more red flags an investor should be willing to accept—or even expect.",
        "Let’s take a look at a specific type of red flag I’ve seen and the nuances it presents: During the diligence process, an investor discovers that the numbers in a pitch don’t match the numbers on a revenue or income statement. This is, without a doubt, cause for concern. There are two major explanations here—either the founder made a mistake or the founder is lying.",
        "If the founder doesn’t seem to understand the numbers, the investor will probably decline the deal—not because of any specter of dishonesty, but rather because the founder is demonstrably incompetent. If the founder gets evasive when confronted, the investor would probably conclude that they’re lying and walk away. But if the founder recognizes the discrepancy as a mistake and quickly corrects it, provided the error is fairly trivial, the investor may lose some confidence but not give up on the deal.",
        "There are other classes of red flags. Sometimes the corporate structure is odd (this was true of Facebook, which in its earliest days granted founder Mark Zuckerberg enough super voting shares to ensure his will would go virtually unchallenged), or the company was originally a non-profit (see: OpenAI). Founders get flagged for not thinking deeply enough about a problem and for thinking too deeply about a problem without taking action. Some investors believe that being a first-time founder is a red flag in and of itself, while others see it as a strong positive.",
        "Remember: Red flags are very rarely outright fraud, and when they are, it’s often obvious only in hindsight. Different investors have different levels of risk tolerance and generally only agree with each other when someone else makes a catastrophically bad and public mistake. Especially in a later stage company, there are so many places for a malicious actor to hide their dirty dealings that it would be incapacitating for any investor to do all the diligence required to definitively eliminate fraud. Such a thing simply isn’t possible. Look at Enron! Look at Madoff!",
        "And finally, on the other side of any red flag is one critical, inescapable question: If the product is selling and the company is making money, how big a problem could it be? What if what looks like a red flag turns out to be a meaningless distraction and the deal you walked away from nets someone else a billion-dollar return? I’m willing to bet that there are investors who passed on Google’s Series A in 1999 because it had almost no revenue—a clear red flag for a company raising $25 million—and are still kicking themselves for it.",
        "All of which is to say that so-called red flags matter, but not in any kind of mechanistic way. And if you flip that around, there’s an important lesson here for founders.",
        "Every business has flaws that could be considered red flags by someone. (If there are absolutely no red flags, that could be the biggest red flag of all! But I digress…) One of the most useful things a founder can do when preparing to raise capital, therefore, is to take as objective a view as possible of their business and know where those red flags are. For instance, delivery businesses generally have low margins relative to software businesses. Some investors won’t touch delivery for that reason, but most are happy to dig deep provided that margins are improving at a high enough rate that they can turn a hefty profit before the company implodes.",
        "One of my favorite misunderstood red flags has to do with the default rate of a lending business. Many founders work hard to demonstrate that their default rate is, effectively, zero. This feels smart, like perfect risk-management. But it is also almost always the wrong answer. Lending requires at least some risk, so if the default rate is zero, it means the founder hasn’t stress tested their model on a broad enough range of users. What investors actually want to see is a reasonable default rate within the context of factors like the cost of capital, the ease of scale, the return profile, etc. As long as the default rate makes sense within the overall story of the business—and that the story ends in huge returns—no red flag.",
        "The best thing a founder can do is to draw attention to their red flags proactively and in detail. See this unusual management structure we have? That’s on purpose. See this gap in our revenue over here? We screwed up, here’s how and here’s what we learned from it.",
        "In the end, what matters is context—the way whatever red flags there may be fit into the larger narrative of the business. No red flags mean no risk at all, and that wouldn’t be particularly interesting.",
        "__",
        "I originally published this in by The Information on Jan 18, 2023: https://www.theinformation.com/articles/red-flags-are-in-the-eye-of-the-beholder"
      ],
      "summary": "title: There Are No (Absolute) Red Flags in Venture Capital.\nThe bigger the reward potential, the more red flags an investor should be willing to accept—or even expect.,Let’s take a look at a specific type of red flag I’ve seen and the nuances it presents: During the diligence process, an investor discovers that the numbers in a pitch don’t match the numbers on a revenue or income statement."
    },
    {
      "title": "Show HN: Graphic – A grammar of data visualization and Flutter charting library",
      "link": "https://github.com/entronad/graphic",
      "page": [
        "A grammar of data visualization and Flutter charting library.",
        "Use Git or checkout with SVN using the web URL.",
        "Work fast with our official CLI.      Learn more.",
        "Please                sign in                to use Codespaces.",
        "If nothing happens, download GitHub Desktop and try again.",
        "If nothing happens, download GitHub Desktop and try again.",
        "If nothing happens, download Xcode and try again.",
        "Your codespace will open once ready.",
        "There was a problem preparing your codespace, please try again.",
        "",
        "Graphic is a grammar of data visualization and Flutter charting library.",
        "See in the documentation.",
        "Example of charts can be seen in the Example App. Please clone this repository and run the example project in example directory.",
        "",
        "The Versatility of the Grammar of Graphics",
        "How to Build Interactive Charts in Flutter",
        "",
        "Graphic is MIT License.",
        "Twitter",
        "Medium",
        "Zhihu",
        "A grammar of data visualization and Flutter charting library."
      ],
      "summary": "Learn more.,Please                sign in                to use Codespaces.,If nothing happens, download GitHub Desktop and try again.,If nothing happens, download GitHub Desktop and try again.,If nothing happens, download Xcode and try again.,Your codespace will open once ready.,There was a problem preparing your codespace, please try again.,,Graphic is a grammar of data visualization and Flutter charting library.,See in the documentation.,Example of charts can be seen in the Example App.\nPlease clone this repository and run the example project in example directory.,,The Versatility of the Grammar of Graphics,How to Build Interactive Charts in Flutter,,Graphic is MIT License.,Twitter,Medium,Zhihu,A grammar of data visualization and Flutter charting library."
    },
    {
      "title": "Italian prosecutors probe Meta for '870Ms EUR tax evasion'",
      "link": "https://www.ansa.it/english/news/business/2023/02/22/milan-prosecutors-probe-meta-for-870-mn-tax-evasion_4093668e-23d4-4841-81c8-cdf4eb91fdf9.html",
      "page": [
        "",
        "(ANSA) - ROME, FEB 22 - Milan prosecutors are reportedlyinvestigating allegations that Meta failed to pay around 870million euros in value added tax in Italy.   \t\t\t\tThe investigation was opened after an audit by finance policewhich allegedly revealed the parent group of Facebook, Instagramand WhatsApp had failed to present VAT declarations between 2015and 2021.   \t\t\t\tDaily newspaper Il Fatto Quotidiano reported that the probe waslaunched by the European Public Prosecutor's Office but passedto Milan prosecutors on Tuesday. (ANSA)."
      ],
      "summary": "page: ,(ANSA) - ROME, FEB 22 - Milan prosecutors are reportedlyinvestigating allegations that Meta failed to pay around 870million euros in value added tax in Italy.\nThe investigation was opened after an audit by finance policewhich allegedly revealed the parent group of Facebook, Instagramand WhatsApp had failed to present VAT declarations between 2015and 2021."
    },
    {
      "title": "Turning a Typewriter into a Linux Terminal",
      "link": "https://habr.com/en/post/692488/",
      "page": [
        "Hi everyone, a few months ago I got a Brother AX-25, and since then, I've been working on turning it into a computer. It uses an Arduino to scan the custom mechanical keyboard and control the typewriter, and a Raspberry Pi is connected to the Arduino over serial so I can log into it in headless mode.",
        "This video goes over the design and assembly of it. There's also a test of the typewriter in action, as well as a sound test at the end of the video.",
        "Back in high school, one of my friends was working on making a computer using a Z80 for a school project. He had it set up on a few breadboards in a briefcase, and after we talked about it for a bit, we decided that we would try to put it in an old typewriter. We wanted to make our own Commodore 64. We gutted an old electronic typewriter, but never got around to putting the computer in it. For the past 6 years, I've had that typewriter's shell sitting in my room.",
        "For a while, I wanted to turn the typewriter into a cyberdeck. I planned on putting a screen in it, and a Raspberry Pi with a hefty battery. I had that idea rolling around in my head until a couple years ago, when I saw CuriousMarc's video about his teletype turned into a Linux terminal. I wanted to do the same to a typewriter, but I never had the time to do it and couldn’t find a typewriter at any thrift stores. After graduating from college, I finally had enough spare time, and knowledge, to turn a typewriter into a computer, so I went to a thrift store and bought the first electronic typewriter I could find.",
        "I can use all sorts Linux commands, and by processing the escape sequences that the Raspberry Pi outputs, it can automatically toggle the typewriter’s formatting features. I can also type commands using the typewriter's keyboard.",
        "I've also used it to print some ASCII art, I think the results look pretty great!",
        "",
        "The typewriter’s keyboard is wired up in an 8x11 matrix, and it connects to the typewriter using two connectors, one for the rows, and one for the columns. When you press one of the keys, it connects one of the row pins to a column pin, which the typewriter then detects. To figure out which pair of pins each key corresponds to, I connected each pair by hand one at a time, and wrote down what key was printed. I did this until I had the entire matrix mapped out.",
        "The typewriter uses a 7805 linear regulator to power its 5V components, and I was able to locate an unused 5V pad and ground pad that I can tap into to power my circuit. I had to add a heatsink to the regulator to accommodate for the increased power consumption of my circuit.",
        "The Arduino code is available on my GitHub repository if you’d like to look at it in more detail! My Arduino controls the typewriter using two multiplexers, one connected to each of the keyboard connectors. The multiplexer’s signal pins are connected so they can be used to connect pairs of pins on the keyboard connectors together. To send a key, the Arduino selects a pin on each multiplexer to connect them, which tricks the typewriter into thinking that a key has been pressed.",
        "The Arduino is connected via serial to the Pi, which has the serial console enabled on its UART pins. I chose to use an Arduino in addition to the Raspberry Pi because I’m more familiar with them, and it makes interfacing with the Raspberry Pi’s UART console much easier. The Arduino and the Raspberry Pi communicate at a rate of 120 characters per second, but the typewriter can only type 12 per second. To prevent long messages from getting cut off, I added serial flow control to my code. This allows the Arduino to tell the Pi when to start and stop sending text. The Raspberry Pi is running Raspberry Pi OS Lite, since I only need access to the terminal.",
        "To scan the keyboard, I used essentially the same circuit; two  multiplexers, one for the rows, one for the columns. The Arduino scans  the keyboard one key at a time by selecting a channel on each  multiplexer. When it detects that a key has been pressed, it sends that  character to the Raspberry Pi so it can be processed.",
        "I could have used the typewriter’s original keyboard for this project, but I decided to replace it with a custom mechanical keyboard, with Matias Alps Clicky switches, which feel awesome to type on!",
        "By turning my typewriter into a computer, I was able to recreate the  experience of using a teletype. Now I know what it was like to use Unix in the 1960s when it was originally being developed! The custom mechanical keyboard feels amazing to type on, and is a huge upgrade over the mushy membrane keyboard it originally had. With these upgrades, my typewriter is much more powerful now!",
        "User",
        "Your account",
        "Sections",
        "Information",
        "Services"
      ],
      "summary": "It uses an Arduino to scan the custom mechanical keyboard and control the typewriter, and a Raspberry Pi is connected to the Arduino over serial so I can log into it in headless mode.,This video goes over the design and assembly of it.\nAfter graduating from college, I finally had enough spare time, and knowledge, to turn a typewriter into a computer, so I went to a thrift store and bought the first electronic typewriter I could find.,I can use all sorts Linux commands, and by processing the escape sequences that the Raspberry Pi outputs, it can automatically toggle the typewriter’s formatting features."
    },
    {
      "title": "Summarize texts up to 50K characters",
      "link": "https://dashboard.cohere.ai/playground/summarize",
      "page": [
        "Dashboard",
        "Explore",
        "Settings",
        "",
        "BETA",
        "Examples",
        "See more",
        "Input",
        "0 characters · 0 min read",
        "Output",
        "Your summary will be output as a medium paragraph by default. To control the length and format, change it in Parameters.",
        "3-5 sentences",
        "Short",
        "Medium",
        "Long",
        "Paragraph",
        "Control Panel",
        "Control Panel"
      ],
      "summary": "title: Summarize texts up to 50K characters.\nTo control the length and format, change it in Parameters.,3-5 sentences,Short,Medium,Long,Paragraph,Control Panel,Control Panel"
    },
    {
      "title": "Jimmy Carter: Unlucky President, Lucky Man",
      "link": "https://fallows.substack.com/p/jimmy-carter-unlucky-president-lucky",
      "page": [
        "Last night The Atlantic published a piece by me about Jimmy Carter and his long life. The original link is here.",
        "With the magazine’s permission, and with my thanks to them, I reprint the article below. I will plan to follow up with more discussion of Carter and his times, and what they show about the times ahead.",
        "Life is unfair, as a Democratic president once put it. That was John F. Kennedy, at a press conference early in his term.",
        "Jimmy Carter did not go through as extreme a range of the blessings and cruelties of fate as did Kennedy and his family. But I think Carter’s long years in the public eye highlighted a theme of most lives, public and private: the tension between what we plan and what happens. Between the luck that people can make for themselves and the blind chance they cannot foresee or control.",
        "In the decades of weekly Bible classes he led in his hometown of Plains, Georgia, Jimmy Carter must have covered Proverbs 19:21. One contemporary translation of that verse renders it as: “Man proposes, God disposes.”",
        "Not everything in his life happened the way Jimmy Carter proposed or preferred. But he made the very most of the years that God and the fates granted him.",
        "Americans generally know Jimmy Carter as the gray-haired retiree who came into the news when building houses or fighting diseases or monitoring elections, and whose political past became shorthand for the threadbare America of the 1970s. Most of today’s Americans had not been born by the time Carter left office in 1981. Only about one-fifth are old enough to have voted when he won and then lost the presidency. It is hard for Americans to imagine Jimmy Carter as young—almost as hard as it is to imagine John F. Kennedy as old.",
        "But there are consistent accounts of Carter’s personality throughout his long life: as a Depression-era child in rural Georgia, as a hotshot Naval Academy graduate working in Hyman Rickover’s then-futuristic-seeming nuclear-powered submarine force, as a small businessman who entered politics but eventually was forced out of it, as the inventor of the modern post-presidency.",
        "What these accounts all stress is that, old or young, powerful or diminished, Jimmy Carter has always been the same person. That is the message that comes through from Carter’s own prepresidential campaign autobiography, Why Not the Best?, and his many postpresidential books, of which the most charming and revealing is An Hour Before Daylight: Memories of a Rural Boyhood. It is a theme of Jonathan Alter’s insightful biography, His Very Best. It is what I learned in two and a half years of working directly with Carter as a speechwriter during the 1976 campaign and on the White House staff, and in my connections with the Carter diaspora since then.",
        "Whatever his role, whatever the outside assessment of him, whether luck was running with him or against, Carter was the same. He was self-controlled and disciplined. He liked mordant, edgy humor. He was enormously intelligent—and aware of it—politically crafty, and deeply spiritual. And he was intelligent, crafty, and spiritual enough to recognize inevitable trade-offs between his ambitions and his ideals. People who knew him at one stage of his life would recognize him at another.",
        "Jimmy Carter didn’t change. Luck and circumstances did.",
        "Share",
        "Jimmy Carter made his luck, and benefited from luck, when he ran for president. He couldn’t have done it without his own discipline and commitment, and his strategy. He seemed to shake every hand in Iowa—but his team was also the first to recognize that the new Iowa caucus system opened the chance for an outsider to leap into the presidency. At a time when his national name recognition was 1 percent, he spent all day walking up to strangers and saying, “My name is Jimmy Carter, and I’m running for president.” Stop and imagine doing that yourself, even once. Carter was easier to admire—when delivering his stump speech to a rapt crowd, when introducing himself at a PTA meeting or in a diner—than he was to work for. But that is probably true of most public figures with such a drive to succeed.Because he was so engaging in person, and made such a connection in countless small-group meetings across Iowa, he won the caucuses and went on to win the nomination and the presidency. No other candidate has gone from near-invisibility to the White House in so short a time. (Barack Obama became a Democratic Party star with his famous convention speech in 2004, four years before he won the presidency. Donald Trump had been a celebrity for decades.)",
        "This is how Carter and his team helped themselves. Other developments they hadn’t planned affected the race—mainly to their benefit.",
        "By early 1976, Carter had become the new thing. He embraced rock music and quoted Bob Dylan. He was as powerful and exciting a fusion of cultures as any candidate who came after him. He was a Naval Academy graduate and an Allman Brothers fan. He was deeply of the South and of the Church. He also spoke about Vietnam as a racist war. He quoted poems by Dylan Thomas. He was, yes, cool. He appeared at a Law Day meeting at the University of Georgia’s law school and upbraided the audience about the injustice of America’s legal system. Here’s just one sample of the speech, which would now be considered part of the Sanders-Warren platform:",
        "I grew up as a landowner’s son. But I don’t think I ever realized the proper interrelationship between the landowner and those who worked on a farm until I heard Dylan’s record … ”Maggie’s Farm.”",
        "It’s worth reading the whole thing.",
        "But what if Hunter S. Thompson had not noticed this speech and announced that he “liked Jimmy Carter” in an influential article in Rolling Stone? What if Time and Newsweek, also very influential then, had not certified him as a serious potential leader with their coverage? What if the civil-rights figures Martin Luther King Sr. and Andrew Young had not endorsed Carter to Black audiences around the country, and reassured white liberals that he was the southern voice an inclusive America needed? (As governor of Georgia, Carter had placed a portrait of MLK Jr. in the state capitol.) What if Jerry Brown had not waited so long to enter the primaries? What if Teddy Kennedy had dared to run? What if Mo Udall had figured out the Iowa-caucus angle before Carter did? What if Scoop Jackson had not been so dull? Or George Wallace so extreme?",
        "And for the general election, what if Gerald Ford had not pardoned Richard Nixon, turning Watergate into Ford’s own problem? (The Carter team knew that this was a campaign plus. But in the first sentence of his inaugural address, Carter thanked Ford for all he had done “to heal our land.”) What if Saturday Night Live, then in its first season and itself hugely influential, had not made Ford the butt of ongoing jokes? What if Ford had not blundered in a crucial presidential debate? What if Carter’s trademark lines on the stump—I’ll never lie to you and We need a government as good as its people—had not been so tuned to the battered spirit of that moment, and had been received with sneers rather than support?",
        "What if, what if. There are a thousand more possibilities. In the end the race was very close. Luck ran his way.",
        "Then he was in office. Intelligent, disciplined, self-contained, spiritual. President Carter made some of his own luck, good and bad—as I described in this magazine 44 years ago. There is little I would change in that assessment, highly controversial at the time, except to say that in 1979 Carter still had nearly half of his time in office ahead of him, and most of his adult life. I argued then that his was a “passionless” presidency. He revealed his passions—his ideals, his commitments—in the long years to come.",
        "In office he also had the challenge of trying to govern a nearly ungovernable America: less than two years after its humiliating withdrawal from Saigon, in its first years of energy crisis and energy shortage, on the cusp of the “stagflation” that has made his era a symbol of economic dysfunction. It seems hard to believe now, but it’s true: The prime interest rate in 1980, the year Carter ran for reelection, exceeded 20 percent. You never hear, “Let’s go back to the late ’70s.”",
        "Probably only a country as near-impossible to lead as the United States of that time could have given someone like Jimmy Carter a chance to lead it.",
        "Despite it all, Carter had broader support during his first year in office than almost any of his successors, except briefly the two Bushes in wartime emergencies. Despite it all, most reckonings have suggested that Carter might well have beaten Ronald Reagan, and held on for a second term, if one more helicopter had been sent on the “Desert One” rescue mission in Iran, or if fewer of the helicopters that were sent had failed. Or if, before that, Teddy Kennedy had not challenged Carter in the Democratic primary. Or if John Anderson had not run as an independent in the general election. What if the ayatollah’s Iranian government had not stonewalled on negotiations to free its U.S. hostages until after Carter had been defeated? What if, what if.",
        "Carter claimed for years that he came within one broken helicopter of reelection. It’s plausible. We’ll never know.",
        "Because we do know, in retrospect, that Reagan had two landslide victories, over Carter and then Walter Mondale, and that the 1980 election broke heavily in Reagan’s favor in its final weeks, it’s natural to believe that Carter never had a chance. But it looked so different at the time. History changed, through effort and luck, when Carter arrived on the national stage in 1976. And it changed, through effort and luck, when he departed four years later.",
        "Share",
        "Effort and luck combined for Jimmy Carter’s first two acts: becoming president, and serving in office.",
        "Luck played a profoundly important role in his third act, allowing him to live mostly vigorously until age 98, and to celebrate his 76th wedding anniversary with his beloved wife, Rosalynn. He had 42 full years in the postpresidential role—10 times longer than his term in office, by far the most of any former president.",
        "This extended span mattered for reasons within Carter’s control, and beyond it. Good fortune, medical science, and a lifetime history as a trim, fit athlete (he was a good tennis player, a runner, and a skillful softball pitcher), helped Carter survive several bouts of cancer and other tolls of aging. But his faith, will, idealism, and purpose allowed him to invent and exemplify a new role for former presidents, and to see his own years in office reconsidered.",
        "Suppose that, like Lyndon B. Johnson, he had died of a literal and figurative broken heart at age 64. His record and achievements would have concluded with Ronald Reagan still in office, and his story would have been summarized as ending on a loss. Carter could never have received the Nobel Peace Prize, which he won while nearing age 80, in 2002. (Nobel Prizes cannot be given posthumously.)",
        "With health like Lyndon Johnson’s, Jimmy Carter would not have had a chance to establish his new identity—and to see prevailing assessments of his role as president change as profoundly as those of Harry Truman did. As with Truman, the passing years have made it easier to see what Carter achieved, and to recognize what he was trying to do even when unsuccessful. But Truman was no longer alive to see that happen. For Carter I think the process of reassessment will go on.",
        "It is hard for most Americans to imagine the Jimmy Carter of those days. It is hard even for me to recognize how different the country is as a whole.",
        "Just to talk about politics: The South was then the Democrats’ base, and the West Coast was hostile territory. Jimmy Carter swept all states of the old Confederacy except Virginia, and lost every state west of the Rockies except Hawaii. In Electoral College calculations, the GOP started by counting on California.",
        "The Democrats held enormous majorities in both the Senate and the House. Carter griped about dealing with Congress, as all presidents do. But under Majority Leader Robert Byrd, the Democrats held 61 seats in the Senate through Carter’s time. In the House, under Speaker Tip O’Neill, they had a margin of nearly 150 seats (not a typo). The serious legislative dealmaking was among the Democrats.",
        "In culture and economics—well, you just need to watch some movies from the 1970s, Rocky, Taxi Driver, The Conversation, Dog Day Afternoon (or, if you prefer, Saturday Night Fever and Star Wars). The United States was a country fraying on all its edges, just beginning to absorb the shock of the Vietnam years, in its first wave of grappling with globalization and environmental constraints.",
        "Prevailing memories reached back far beyond Vietnam to the Korean War, World War II, and the Great Depression. In campaign speeches, Carter talked about the difference it made to him, as a boy, when Franklin Roosevelt’s Rural Electrification Administration brought electric power to small communities like his. We on the speechwriting staff could rely on the story for applause. Enough people remembered.",
        "There were no cellphones then, nor even bulky “portable” phones. Computers meant behemoths at major data centers.",
        "And in civic life, Richard Nixon’s downfall seemed to have reinforced the idea that there was such a thing as public shame. It was construed as embarrassing for Jimmy Carter that his hard-luck brother, Billy, was in a penny-ante way cashing on the family fame by promoting six packs of his own “Billy Beer.” Carter, from a small-town business-owning background, felt that he had to sell the family peanut mill to avoid even the appearance of impropriety. After Nixon’s scandals and Spiro Agnew’s resignation, “doing the right thing” mattered, and Carter did so.",
        "Jimmy Carter took office in the “before” times. We live in an unrecognizable “after.” He did his best, in office and out, to promote the values he cared about through it all.",
        "What did he do in office? He did a lot. He was visionary about climate and the environment. He changed the composition of the federal courts. For better and worse he deregulated countless industries, from craft brewing to the airlines. I direct you to Stuart Eizenstat’s detailed and authoritative President Carter: The White House Years for specifics. I’ll just add:",
        "Jimmy Carter did more than anyone else, before or since, to bring peace to the Middle East, with his Camp David accords. The agreement between Menachem Begin and Anwar Sadat could not possibly have been reached without Carter’s all-in, round-the-clock involvement. I was there and saw it. Any other witness would agree. (This was also the theme of Lawrence Wright’s excellent Thirteen Days in September.)",
        "Jimmy Carter saved the United States decades of woe with his Panama Canal Treaty.",
        "Jimmy Carter bought the United States several generations’ worth of respect with his human-rights policy. Can such an approach be no-exceptions or absolute? Of course not. Carter recognized as clearly as anyone the tension between ideals and reality. But does even imperfect idealism make a difference? That is the case Carter made in a speech at Notre Dame in 1977. I think it stands up well. Its essence:",
        "“We have reaffirmed America's commitment to human rights as a fundamental tenet of our foreign policy …",
        "“This does not mean that we can conduct our foreign policy by rigid moral maxims. We live in a world that is imperfect and which will always be imperfect—a world that is complex and confused and which will always be complex and confused.",
        "“I understand fully the limits of moral suasion. We have no illusion that changes will come easily or soon. But I also believe that it is a mistake to undervalue the power of words and of the ideas that words embody. In our own history, that power has ranged from Thomas Paine's \"Common Sense\" to Martin Luther King, Jr.’s “I Have a Dream.”",
        "“In the life of the human spirit, words are action.”",
        "Jimmy Carter spoke to the “values” and “engagement” crises decades before demagogues like Trump or healers like Obama. In the summer of 1979, he gave an unusually sober and sermonlike address on the national “crisis of confidence.” This is generally known as the “malaise” speech, and is widely considered a downbeat marker of a down era. But as Kevin Mattson points out in his entertaining What the Heck Are You Up to, Mr. President?, the speech was well received at the time. Carter’s popularity rating went up nearly 10 points in its wake. (Also, the speech didn’t include the word malaise.) Things again started going wrong for Carter soon after that—he made mistakes, and was unlucky—but the speech deserves respect. It was a leader’s attempt to express the fears and hard truths many people felt, and to find a way forward.",
        "Jimmy Carter survived to see many of his ambitions realized, including near eradication of the dreaded guinea worm, which, unglamorous as it sounds, represents an increase in human well-being greater than most leaders have achieved. He survived to see his character, vision, and sincerity recognized, and to know that other ex-presidents will be judged by the standard he has set.",
        "He was an unlucky president, and a lucky man.",
        "We are lucky to have had him. Blessed.",
        "",
        "Writing like this is why I subscribe to your Substack. I read your article on President Carter in the Atlantic the day it was published. It was brilliant. I wondered if you would republish it here. Imagine my delight when I discovered your timely amendments to the original! You are a wonderful reporter and commentator and I think you ought to get that recognition publicly.",
        "Thanks for this kind and insightful remembrance.",
        "Jimmy Carter also co-invented, along with Fritz Mondale, the modern vice presidency. Since then, veeps are expected to be assigned major tasks, advise on issues, and even be the last person the president hears from prior to major decisions. And there is the weekly lunch Carter and Mondale shared, a practice emulated by most, maybe all, of their successors.",
        "No posts",
        "Ready for more?"
      ],
      "summary": "title: Jimmy Carter: Unlucky President, Lucky Man. page: Last night The Atlantic published a piece by me about Jimmy Carter and his long life.\nLuck and circumstances did.,Share,Jimmy Carter made his luck, and benefited from luck, when he ran for president."
    },
    {
      "title": "Google claims breakthrough in quantum computer error correction",
      "link": "https://www.ft.com/content/9e04ff7d-f56a-4d5f-a4fa-849336abf659",
      "page": [
        "Keep abreast of significant corporate, financial and political developments around the world.\t\t\t\tStay informed and spot emerging risks and opportunities with independent global reporting, expert\t\t\t\tcommentary and analysis you can trust.",
        "",
        "",
        "During your trial you will have complete digital access to FT.com with everything in both of our Standard Digital and Premium Digital packages.",
        "Standard Digital includes access to a wealth of global news, analysis and expert opinion.  Premium Digital includes access to our premier business column, Lex, as well as 15 curated newsletters covering key business themes with original, in-depth reporting.  For a full comparison of Standard and Premium Digital, click here.",
        "Change the plan you will roll onto at any time during your trial by visiting the “Settings & Account” section.",
        "If you do nothing, you will be auto-enrolled in our premium digital monthly subscription plan and retain complete access for £55 per month.",
        "For cost savings, you can change your plan at any time online in the “Settings & Account” section. If you’d like to retain your premium access and save 20%, you can opt to pay annually at the end of the trial.",
        "You may also opt to downgrade to Standard Digital, a robust journalistic offering that fulfils many user’s needs. Compare Standard and Premium Digital here.",
        "Any changes made can be done at any time and will become effective at the end of the trial period, allowing you to retain full access for 4 weeks, even if you downgrade or cancel.",
        "You may change or cancel your subscription or trial at any time online. Simply log into Settings & Account and select \"Cancel\" on the right-hand side.",
        "You can still enjoy your subscription until the end of your current billing period.",
        "We support credit card, debit card and PayPal payments.",
        "Find the plan that suits you best.",
        "Premium access for businesses and educational institutions.",
        "Check if your\t\t\t\t\t\t\t\t\t\t\t\t\t\tuniversity\t\t\t\t\t\t or\t\t\t\t\t\t\t\t\t\t\t\t\t\torganisation\t\t\t\t\t\t offers FT membership to read for free.",
        "We use\t\t\t\t\t\t\t\tcookies\t\t\t\t\t\t\t\tand other data for a number of reasons, such as keeping FT Sites reliable and secure,\t\t\t\t\t\t\t\tpersonalising content and ads, providing social media features and to\t\t\t\t\t\t\t\tanalyse how our Sites are used.",
        "UK Edition"
      ],
      "summary": "Stay informed and spot emerging risks and opportunities with independent global reporting, expert\t\t\t\tcommentary and analysis you can trust.,,,During your trial you will have complete digital access to FT.com with everything in both of our Standard Digital and Premium Digital packages.,Standard Digital includes access to a wealth of global news, analysis and expert opinion.\nFor a full comparison of Standard and Premium Digital, click here.,Change the plan you will roll onto at any time during your trial by visiting the “Settings & Account” section.,If you do nothing, you will be auto-enrolled in our premium digital monthly subscription plan and retain complete access for £55 per month.,For cost savings, you can change your plan at any time online in the “Settings & Account” section."
    },
    {
      "title": "The US Supreme Court doesn’t understand the internet",
      "link": "https://www.wired.com/story/the-supreme-court-section-230-the-internet/",
      "page": [
        "To revist this article, visit My Profile, then View saved stories.",
        "To revist this article, visit My Profile, then View saved stories.",
        "Vittoria Elliott Dell Cameron",
        "There was a ripple of laughter in the US Supreme Court on February 21 when Justice Elena Kagan said: “We are a court—we really don’t know about these things. We are not, like, the nine greatest experts on the internet.\"",
        "On February 21, the nine justices heard oral arguments in the case of Gonzalez v. Google, a case brought by Reynaldo Gonzalez, whose daughter was killed in a 2015 ISIS terror attack in Paris and who alleges that YouTube’s algorithm aided in the attack by recommending the group’s recruitment videos to people who would be most susceptible to their message. The outcome of the case could decide the future of social media platforms worldwide.",
        "At the heart of the case is the question of whether tech companies should be held liable for harmful content posted on their platforms by their users—something for which they are currently protected under Section 230 of the Telecommunications Act, a 1996 piece of legislation whose primary purpose was to increase competition in broadcasting and telecoms markets. It is a protection that has shielded companies whose platforms have enormous reach and influence from being held responsible for harms caused by extremist content and disinformation. But it is also a fundamental underpinning of free speech online.",
        "“The purpose of Section 230 was to try to prevent platforms from becoming the soccer ball that gets kicked around whenever people disagree about what appropriate free expression on the internet is,” says Andrew Sullivan, president and CEO of the Internet Society, which filed an amicus brief in support of Section 230. “If you start to mess with this, you’re fundamentally messing with the design of the internet. And that is going to lead to a splintering of the network.”",
        "Debates over Section 230 have largely been confined to the circuit courts—lower levels of the US federal court system—for nearly two decades. That changed after the 2016 presidential election, when Republican lawmakers began to seize on and amplify often spurious claims that platforms were censoring conservative users. That message proved effective in galvanizing elements of their base, and Republican figures have continued to accuse major tech firms, such as Meta and Twitter, of bias.",
        "One prominent example of this supposedly “biased” enforcement is Facebook’s 2018 decision to ban Alex Jones, host of the right-wing Infowars website who later was slapped with $1.5 billion in damages after harassing the families of the victims of a mass shooting.",
        "Many of the actions that infuriated Republicans were those shielded by the First Amendment to the US constitution, which guarantees free speech. Those protections are essentially unassailable legislatively, so lawmakers targeted Section 230 instead.",
        "Starting in 2018, prominent conservatives began demanding changes to the law that would expressly hinge Section 230’s liability protections on how companies treat political speech. High-profile Republicans, including Missouri senator Josh Hawley and Texas senator Ted Cruz, frequently misconstrued the section’s language. “The predicate for Section 230 immunity … is that you’re a neutral public forum,” Cruz said in 2018, interpreting the law as shielding only websites that treat left- and right-wing political views equally.",
        "Peter Yeung",
        "Matt Burgess",
        "Peter Guest",
        "Chris Baraniuk",
        "Recent laws in both Texas and Florida have sought to impose greater restrictions on the way platforms can and cannot police content.",
        "Gonzalez v. Google takes a different track, focusing on platforms’ failure to deal with extremist content. Social media platforms have been accused of facilitating hate speech and calls to violence that have resulted in real-world harm, from a genocide in Myanmar to killings in Ethiopia and a coup attempt in Brazil.",
        "“The content at issue is obviously horrible and objectionable,” says G. S. Hans, an associate law professor at Cornell University in New York. “But that’s part of what online speech is. And I fear that the sort of extremity of the content will lead to some conclusions or religious implications that I don’t think are really reflective of the larger dynamic of the internet.”",
        "The Internet Society’s Sullivan says that the arguments around Section 230 conflate Big Tech companies—which, as private companies, can decide what content is allowed on their platforms—with the internet as a whole.",
        "“People have forgotten the way the internet works,” says Sullivan. “Because we’ve had an economic reality that has meant that certain platforms have become overwhelming successes, we have started to confuse social issues that have to do with the overwhelming dominance by an individual player or a small handful of players with problems to do with the internet.”",
        "Sullivan worries that the only companies able to survive such regulations would be larger platforms, further calcifying the hold that Big Tech platforms already have.",
        "Decisions made in the US on internet regulation are also likely to reverberate around the world. Prateek Waghre, policy director at the Internet Freedom Foundation in India, says a ruling on Section 230 could set a precedent for other countries.",
        "“It’s less about the specifics of the case,” says Waghre. “It’s more about [how] once you have a prescriptive regulation or precedent coming out of the United States, that is when other countries, especially those that are authoritarian-leaning, are going to use it to justify their own interventions.”",
        "India’s government is already making moves to take more control over content within the country, including establishing a government-appointed committee on content moderation and greater enforcement of the country’s IT rules.",
        "Waghre suspects that if platforms have to implement policies and tools to comply with an amended, or entirely obliterated, Section 230, then they will likely apply those same methods and standards to other markets as well. In many countries around the world, big platforms, particularly Facebook, are so ubiquitous as to essentially function as the internet for millions of people.",
        "“Once you start doing something in one country, then that’s used as precedent or reasoning to do the same thing in another country,” he says.",
        "📩 The latest on tech, science, and more: Get our newsletters!",
        "We’re all living under gravity’s rainbow",
        "Nike’s most popular racing shoe is getting a reboot",
        "The bird flu outbreak has taken an ominous turn",
        "The case for more—and better—sex scenes",
        "New Zealand faces a future of flood and fire",
        "👁️ Explore AI like never before with our new database",
        "🏃🏽‍♀️ Want the best tools to get healthy? Check out our Gear team’s picks for the best fitness trackers, running gear (including shoes and socks), and best headphones",
        "Sonia Paul",
        "Vauhini Vara",
        "Lauren Smiley",
        "Peter Yeung",
        "Peter Guest",
        "Chris Baraniuk",
        "Chris Stokel-Walker",
        "Chris Stokel-Walker",
        "More From WIRED",
        "Contact",
        "© 2023 Condé Nast. All rights reserved. Use of this site constitutes acceptance of our User Agreement and Privacy Policy and Cookie Statement and Your California Privacy Rights. WIRED may earn a portion of sales from products that are purchased through our site as part of our Affiliate Partnerships with retailers. The material on this site may not be reproduced, distributed, transmitted, cached or otherwise used, except with the prior written permission of Condé Nast. Ad Choices"
      ],
      "summary": "title: The US Supreme Court doesn’t understand the internet.\nThe outcome of the case could decide the future of social media platforms worldwide.,At the heart of the case is the question of whether tech companies should be held liable for harmful content posted on their platforms by their users—something for which they are currently protected under Section 230 of the Telecommunications Act, a 1996 piece of legislation whose primary purpose was to increase competition in broadcasting and telecoms markets."
    },
    {
      "title": "My Own Python Web Framework",
      "link": "https://healeycodes.com/my-own-python-web-framework",
      "page": [
        "Feb 2023",
        "Over the past few months, I've been building my own software tools from scratch – like a programming language, a text editor, and CLI tools. At the weekend, I built a proof-of-concept web framework that deploys to Vercel via the Build Output API.",
        "A file-system-based specification that allows any framework to build for Vercel and take advantage of Vercel's infrastructure building blocks like Edge Functions, Edge Middleware, Incremental Static Regeneration (ISR), Image Optimization, and more.",
        "Jar is a toy Python web framework, implemented in about 200 lines of code (see cli.py). I built it to explore some ideas around framework APIs, and to explore frameworks from the author-side of things. Please don't actually use it. It's called Jar because it has almost no features and you need to fill it up yourself!",
        "It uses file-system routing and supports:",
        "Jar projects are structured like this:",
        "My personal use case for Jar is building small dynamic websites without a frontend framework. A little inspired by Next.js's APIs, like getServerSideProps and getStaticProps, Jar's API is defined by three function signatures.",
        "Here's a regenerated page from the kitchen sink example:",
        "Because we're in Python-land, I wanted the API to be flexible. The data and config functions are optional (and they don't have to take any arguments). So the smallest possible Jar page looks like this:",
        "While prototyping Jar's CLI, the Build Output API's documentation and examples were comprehensive enough that I didn't run into any major issues. With trial and error, it didn't take long before I was testing Jar by building and deploying real projects (which takes about six seconds end-to-end).",
        "Jar needs to render pages at build time and on the server, and uses a lot of dynamic imports and metaprogramming to cut down on lines-of-code and complexity.",
        "In order to treat user-written pages as Python modules, they're imported at run time like this:",
        "Which means dynamically imported build pages can be called at build time to generate static files:",
        "To create fresh and regenerated pages, Jar creates Serverless Functions that use the python3.9 runtime. The same functions that are used to create build pages (e.g. call_data, call_render) are written to a handler file so they can run on the server as needed. And when I say the same functions I mean that they are literally read from memory.",
        "The Build Output API requires external files like packages to be included as part of the function's file system.",
        "A Serverless Function is represented on the file system as a directory with a .func suffix on the name, contained within the .vercel/output/functions directory.",
        "Conceptually, you can think of this .func directory as a filesystem mount for a Serverless Function: the files below the .func directory are included (recursively) and files above the .func directory are not included. Private files may safely be placed within this directory because they will not be directly accessible to end-users. However, they can be referenced by code that will be executed by the Serverless Function.",
        "A configuration file named .vc-config.json must be included within the .func directory, which contains information about how Vercel should construct the Serverless Function.",
        "In Jar, all the project files are copied to each function directory to keep things simple (a more mature framework would split and bundle to avoid size limits per function). The .vc-config.json file is the same for each too:",
        "The only difference between functions is the module (aka the page file) that the handler imports at run time.",
        "A fresh/regenerated page in Jar maps one-to-one with a Serverless/Prerender Function. When a request hits Vercel's Edge Network, it's eventually routed to the handler file, which calls the relevant page's data and render function, and then replies to the client.",
        "Some further reading on Vercel internals:",
        "I like to write documentation for my side-projects no matter the size or number of users. It records a snapshot of my thinking, helps me catch any rough edges, and gives me the push I need to complete the final 10% of the project. It also means I can pick everything back up at any time in the future!",
        "I wrote the docs for Jar … with Jar! See the project files here. The docs use the marko markdown package and Prism.js for syntax highlighting (all Jar pages are plain Python, no imports or special syntax).",
        "Serverless/Prerender Functions don't know about anything outside of their function directory, so when using a third-party package, it needs to be installed locally at the project's root. There are some mature methods to get this working (like Python virtual environments) but I haven't run into any issues so far by just installing the packages locally with pip's --target argument.",
        "An example of this can be seen below, in the script that builds and deploys the Jar docs website:",
        "The docs cover this issue, as well as more details about the API, and examples of each type of page.",
        "There's this funny axiom that goes everything is a compiler, a database, or a combination of both. Web frameworks are definitely compilers — and a quick way to test compilers (which should have deterministic output) is snapshot testing.",
        "Jar's test suite builds two projects and snapshot tests the files. For true end-to-end testing, it could deploy and then curl them to verify that the behavior-in-production doesn't diverge.",
        "Speaking of deterministic output, I actually ran into a bug where tests would sometimes fail in CI. The bug was due to how Python's json.dumps orders the keys when serializing the build config.",
        "Here's the bug that took me thirty minutes to find and fix:",
        "After completing this project, going all the way from idea to production, it feels like I've peeled back a few computing layers. I'm more comfortable with the flow of web framework → compiler → production.",
        "Subscribe to my new posts (about once a month)."
      ],
      "summary": "At the weekend, I built a proof-of-concept web framework that deploys to Vercel via the Build Output API.,A file-system-based specification that allows any framework to build for Vercel and take advantage of Vercel's infrastructure building blocks like Edge Functions, Edge Middleware, Incremental Static Regeneration (ISR), Image Optimization, and more.,Jar is a toy Python web framework, implemented in about 200 lines of code (see cli.py).\nWeb frameworks are definitely compilers — and a quick way to test compilers (which should have deterministic output) is snapshot testing.,Jar's test suite builds two projects and snapshot tests the files."
    },
    {
      "title": "Rust-sitter: Define your entire tree-sitter grammar in Rust code",
      "link": "https://github.com/hydro-project/rust-sitter",
      "page": [
        "Use Tree Sitter to parse your own languages in Rust",
        "Use Git or checkout with SVN using the web URL.",
        "Work fast with our official CLI.      Learn more.",
        "Please                sign in                to use Codespaces.",
        "If nothing happens, download GitHub Desktop and try again.",
        "If nothing happens, download GitHub Desktop and try again.",
        "If nothing happens, download Xcode and try again.",
        "Your codespace will open once ready.",
        "There was a problem preparing your codespace, please try again.",
        "Rust Sitter makes it easy to create efficient parsers in Rust by leveraging the Tree Sitter parser generator. With Rust Sitter, you can define your entire grammar with annotations on idiomatic Rust code, and let macros generate the parser and type-safe bindings for you!",
        "First, add Rust/Tree Sitter to your Cargo.toml:",
        "Note: By default, Rust Sitter uses a fork of Tree Sitter with a pure-Rust runtime to support wasm32-unknown-unknown. To use the standard C runtime instead, disable default features and enable the tree-sitter-standard feature",
        "The first step is to configure your build.rs to compile and link the generated Tree Sitter parser:",
        "Now that we have Rust Sitter added to our project, we can define our grammar. Rust Sitter grammars are defined in annotated Rust modules. First, we define the module that will contain our grammar",
        "Then, inside the module, we can define individual AST nodes. For this simple example, we'll define an expression that can be used in a mathematical expression. Note that we annotate this type as #[rust_sitter::language] to indicate that it is the root AST type.",
        "Now that we have the type defined, we must annotate the enum variants to describe how to identify them in the text being parsed. First, we can apply rust_sitter::leaf to use a regular expression to match digits corresponding to a number, and define a transformation that parses the resulting string into a u32.",
        "For the Add variant, things are a bit more complicated. First, we add an extra field corresponding to the + that must sit between the two sub-expressions. This can be achieved with text parameter of rust_sitter::leaf, which instructs the parser to match a specific string. Because we are parsing to (), we do not need to provide a transformation.",
        "If we try to compile this grammar, however, we will see ane error due to conflicting parse trees for expressions like 1 + 2 + 3, which could be parsed as (1 + 2) + 3 or 1 + (2 + 3). We want the former, so we can add a further annotation specifying that we want left-associativity for this rule.",
        "All together, our grammar looks like this:",
        "We can then parse text using this grammar:",
        "Rust Sitter supports a number of annotations that can be applied to fields in your grammar. These annotations can be used to control how the parser behaves, and how the resulting AST is constructed.",
        "The #[rust_sitter::leaf(...)] annotation can be used to define a leaf node in the AST. This annotation takes a number of parameters that control how the parser behaves:",
        "This annotation can be used to define a left/right-associative operator. This annotation takes a single parameter, which is the precedence level of the operator (higher binds more tightly).",
        "This annotation can be used to define a field that does not correspond to anything in the input string, such as some metadata. This annotation takes a single parameter, which is the value that should be used to populate that field at runtime.",
        "This annotation marks the field as a Tree Sitter word, which is useful when handling errors involving keywords. Only one field in the grammar can be marked as a word.",
        "Rust Sitter has a few special types that can be used to define more complex grammars.",
        "To parse repeating structures, you can use a Vec<T> to parse a list of Ts. Note that the Vec<T> type cannot be wrapped in another Vec (create additional structs if this is necessary). There are two special attributes that can be applied to a Vec field to control the parsing behavior.",
        "The #[rust_sitter::delimited(...)] attribute can be used to specify a separator between elements of the list, and takes a parameter of the same format as an unnamed field. For example, we can define a grammar that parses a comma-separated list of expressions:",
        "The #[rust_sitter::repeat(...)] attribute can be used to specify additional configuration for the parser. Currently, there is only one available parameter: non_empty, which takes a boolean that specifies if the list must contain at least one element. For example, we can define a grammar that parses a non-empty comma-separated list of numbers:",
        "To parse optional structures, you can use an Option<T> to parse a single T or nothing. Like Vec, the Option<T> type cannot be wrapped in another Option (create additional structs if this is necessary). For example, we can make the list elements in the previous example optional so we can parse strings like 1,,2:",
        "When using Rust Sitter to power diagnostic tools, it can be helpful to access spans marking the sections of text corresponding to a parsed node. To do this, you can use the Spanned<T> type, which captures the underlying parsed T and a pair of indices for the start (inclusive) and end (exclusive) of the corresponding substring. Spanned types can be used anywhere, and do not affect the parsing logic. For example, we could capture the spans of the expressions in our previous example:",
        "Boxes are automatically constructed around the inner type when parsing, but Rust Sitter doesn't do anything extra beyond that.",
        "Use Tree Sitter to parse your own languages in Rust"
      ],
      "summary": "title: Rust-sitter: Define your entire tree-sitter grammar in Rust code.\nWith Rust Sitter, you can define your entire grammar with annotations on idiomatic Rust code, and let macros generate the parser and type-safe bindings for you!,First, add Rust/Tree Sitter to your Cargo.toml:,Note: By default, Rust Sitter uses a fork of Tree Sitter with a pure-Rust runtime to support wasm32-unknown-unknown."
    }
  ],
  "_id": "63f674de1017ebc06b79a549"
}



export default async function handler(req, res) {

	const mongoClient = await clientPromise;
	const db = mongoClient.db(process.env.MONGO_DB_NEWS);
	const collection = db.collection(process.env.MONGO_COLLECTION_HN);

	if(req.method === 'GET') {}

	try {
		const hnUlr = 'https://news.ycombinator.com/news?p=1';
		const scrapHNs = await scrapPage(hnUlr, extract_rules_hn)

		const pagesHN = scrapHNs.title.map((item) => {
			return {
				name: item.name[0],
				link: item.links[0]
			}
		});

		await collection.insertOne({nameLinks: pagesHN})

		let dataPages = [];
		let page = '';
		for(let i in pagesHN) {
			const { name, link } = pagesHN[i];
			console.log('scrapHNs#scraping: ', name, link);
			page = await scrapPage(link, extract_rules_page);
			if(page && page.p) {
				console.log('true | success');
				dataPages.push({
					title: name,
					link: link,
					page: page.p,
				});
			} else {
				console.log(page, name, link)
			}
			// if(i > 5) break;
		}

		const data = {
			created_at: new Date(),
			data: dataPages,
		}

		// const data = dataScrapedMock;

		await collection.insertOne({...data})

		// const data = dataPagesMockData;

		//TODO Con esta data, ahora tengo que llamar una función que resuma todo esto.
		const maxSentenceCount = 2;
		// const pagesConcat = data.data.map(item => `title: ${item.title}. page: `.concat(item.page));
		let pagesConcat = '';
		for(let i in data.data) {
			pagesConcat = `title: ${data.data[i].title}. page: `.concat(data.data[i].page);
			data.data[i]['summary'] = await summarize([pagesConcat], maxSentenceCount);
			console.log(i)
			// if(i > 2) break;
		}

		await collection.insertOne(data);

		res.status(200).json(data);

	} catch (error) {
		console.error("handler#err:", error);
		res.status(500)
	}
}

async function scrapHNs() {
	// TODO scrap HNs

	// const pages = json.title;

	const extract_rules = {
		"p": {
			"selector": "p",
			"output": "text",
		}
	}

	let i = 0;
	let data_pages = [];
	for(chunk of pages) {
		const { name, links } = chunk;
		console.log('scrapHNs#scraping: ', name[0],links[0]);
		try {
			p = await scrapPage(links[0], extract_rules);
		} catch (error) {
			console.log('scrapHNs#ERROR', error);
		}
		p['title'] = name;
		data_pages.push(p);
		// i++;
		// if(i > 20) break;
	}
	// console.log('data_pages', data_pages);
	// TODO save in DB - mongo
};

async function scrapPage(page_url, extract_rules) {
	try {
		const page_url_encoded = encodeURI(page_url);
		const extract_rules_encoded = encodeURI(JSON.stringify(extract_rules));

		const options = {
			"method": "GET",
			"hostname": "api.webscrapingapi.com",
			"port": null,
			"path": `/v1?url=${page_url_encoded}&api_key=${API_KEY}&device=desktop&proxy_type=datacenter&render_js=0&extract_rules=${extract_rules_encoded}`,
			"headers": {}
		};

		const res = await axios.get(HOSTNAME + options.path);
		return res.data;

	} catch (error) {
		// console.log('scrapPage#ERROR', error);
		console.log('scrapPage#ERROR', error.response.data);
		return null;
	}
};

async function doSummary(pages, maxSentenceCount) {
	let text = '';
	let summary = [];
	for(let i in pages) {
		text = [`title: ${pages[i].title}. page: `.concat(pages[i].page)]
		console.log(i, text);
		console.log(`sumarizing: ${pages[i].title}`)
		const result = await summarize(text, maxSentenceCount);
		summary.push(result);
		if(i > 1) break;
	}
	console.log('doSummary#summary', summary);
	return summary;
}
